<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="链表 单链表 图 23.6 “链表”所示的链表即单链表（Single Linked List），本节我们学习如何创建和操作这种链表。每个链表有一个头指针，通过头指针可以找到第一个节点，每个节点都可以通过指针域找到它的后继，最后一个节点的指针域为NULL，表示没有后继。数组在内存中是连续存放的，而链表在内存中的布局是不规则的，我们知道访问某个数组元素b[n]时可以通过基地址+n×每个元素的字节">
<meta property="og:type" content="article">
<meta property="og:title" content="C语言:链表,二叉树和哈希表">
<meta property="og:url" content="http://example.com/2025/05/04/C%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%BA%8C%E5%8D%81%E5%85%AD%E7%AB%A0/index.html">
<meta property="og:site_name" content="SiyuanLei&#39;s Blog">
<meta property="og:description" content="链表 单链表 图 23.6 “链表”所示的链表即单链表（Single Linked List），本节我们学习如何创建和操作这种链表。每个链表有一个头指针，通过头指针可以找到第一个节点，每个节点都可以通过指针域找到它的后继，最后一个节点的指针域为NULL，表示没有后继。数组在内存中是连续存放的，而链表在内存中的布局是不规则的，我们知道访问某个数组元素b[n]时可以通过基地址+n×每个元素的字节">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="c:\blog\Blog\images\C\linkedlist.insert.png">
<meta property="og:image" content="c:\blog\Blog\images\C\linkedlist.delete.png">
<meta property="og:image" content="c:\blog\Blog\images\C\linkedlist.pdelete.png">
<meta property="og:image" content="c:\blog\Blog\images\C\linkedlist.doubly.png">
<meta property="og:image" content="c:\blog\Blog\images\C\linkedlist.sentinel.png">
<meta property="og:image" content="c:\blog\Blog\images\C\linkedlist.circular.png">
<meta property="og:image" content="c:\blog\Blog\images\C\stackqueue.bfsqueue.png">
<meta property="og:image" content="c:\blog\Blog\images\C\linkedlist.binarytree.png">
<meta property="og:image" content="c:\blog\Blog\images\C\linkedlist.binarytraverse.png">
<meta property="og:image" content="c:\blog\Blog\images\C\linkedlist.constructbinary.png">
<meta property="og:image" content="c:\blog\Blog\images\C\linkedlist.hashtab.png">
<meta property="article:published_time" content="2025-05-03T16:00:00.000Z">
<meta property="article:modified_time" content="2025-08-09T11:14:01.808Z">
<meta property="article:author" content="SiyuanLei">
<meta property="article:tag" content="C">
<meta property="article:tag" content="编程">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:\blog\Blog\images\C\linkedlist.insert.png">


<link rel="canonical" href="http://example.com/2025/05/04/C%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%BA%8C%E5%8D%81%E5%85%AD%E7%AB%A0/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2025/05/04/C%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%BA%8C%E5%8D%81%E5%85%AD%E7%AB%A0/","path":"2025/05/04/C语言第二十六章/","title":"C语言:链表,二叉树和哈希表"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>C语言:链表,二叉树和哈希表 | SiyuanLei's Blog</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">SiyuanLei's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%93%BE%E8%A1%A8"><span class="nav-number">1.</span> <span class="nav-text">链表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E9%93%BE%E8%A1%A8"><span class="nav-number">1.1.</span> <span class="nav-text">单链表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8"><span class="nav-number">1.2.</span> <span class="nav-text">双向链表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E9%93%BE%E8%A1%A8"><span class="nav-number">1.3.</span> <span class="nav-text">静态链表</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="nav-number">2.</span> <span class="nav-text">二叉树</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">2.1.</span> <span class="nav-text">二叉树的基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="nav-number">2.2.</span> <span class="nav-text">排序二叉树</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="nav-number">3.</span> <span class="nav-text">哈希表</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="SiyuanLei"
      src="/images/femboy.jpg">
  <p class="site-author-name" itemprop="name">SiyuanLei</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">47</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/SiyuanLei041011" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;SiyuanLei041011" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:SiyuanLei041011@gmail.com" title="E-Mail → mailto:SiyuanLei041011@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/Esther041011" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;Esther041011" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://arxiv.org/" title="https:&#x2F;&#x2F;arxiv.org&#x2F;" rel="noopener" target="_blank">Arxiv</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://libgen.onl/library-genesis/" title="https:&#x2F;&#x2F;libgen.onl&#x2F;library-genesis&#x2F;" rel="noopener" target="_blank">LibGen</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="http://down.wlwkw.cn:8888/" title="http:&#x2F;&#x2F;down.wlwkw.cn:8888&#x2F;" rel="noopener" target="_blank">EBook</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/04/C%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%BA%8C%E5%8D%81%E5%85%AD%E7%AB%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="C语言:链表,二叉树和哈希表 | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          C语言:链表,二叉树和哈希表
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-05-04 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-04T00:00:00+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-08-09 19:14:01" itemprop="dateModified" datetime="2025-08-09T19:14:01+08:00">2025-08-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CS/C%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">C语言</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="链表">链表</h2>
<h3 id="单链表">单链表</h3>
<p>图 23.6 “链表”所示的链表即单链表（Single Linked
List），本节我们学习如何创建和操作这种链表。每个链表有一个头指针，通过头指针可以找到第一个节点，每个节点都可以通过指针域找到它的后继，最后一个节点的指针域为<code>NULL</code>，表示没有后继。数组在内存中是连续存放的，而链表在内存中的布局是不规则的，我们知道访问某个数组元素<code>b[n]</code>时可以通过<code>基地址+n×每个元素的字节</code>数得到它地址，或者说数组支持随机访问，而链表是不支持随机访问的，只能通过前一个元素的指针域得知后一个元素的地址，因此只能从头指针开始顺序访问各节点。以下代码实现了单链表的基本操作。</p>
<p>例 单链表</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* linkedlist.h */</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> LINKEDLIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LINKEDLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">link</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> item;</span><br><span class="line">    link next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">make_node</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> item)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">free_node</span><span class="params">(link p)</span>;</span><br><span class="line">link <span class="title function_">search</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> key)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">insert</span><span class="params">(link p)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">delete</span><span class="params">(link p)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">traverse</span><span class="params">(<span class="type">void</span> (*visit)(link))</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">destroy</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">push</span><span class="params">(link p)</span>;</span><br><span class="line">link <span class="title function_">pop</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* linkedlist.c */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;linkedlist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> link head = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">make_node</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> item)</span></span><br><span class="line">&#123;</span><br><span class="line">    link p = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span> *p);</span><br><span class="line">    p-&gt;item = item;</span><br><span class="line">    p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">free_node</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">search</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> key)</span></span><br><span class="line">&#123;</span><br><span class="line">    link p;</span><br><span class="line">    <span class="keyword">for</span> (p = head; p; p = p-&gt;next)</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;item == key)</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">insert</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    p-&gt;next = head;</span><br><span class="line">    head = p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delete</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    link pre;</span><br><span class="line">    <span class="keyword">if</span> (p == head) &#123;</span><br><span class="line">        head = p-&gt;next;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (pre = head; pre; pre = pre-&gt;next)</span><br><span class="line">        <span class="keyword">if</span> (pre-&gt;next == p) &#123;</span><br><span class="line">            pre-&gt;next = p-&gt;next;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">traverse</span><span class="params">(<span class="type">void</span> (*visit)(link))</span></span><br><span class="line">&#123;</span><br><span class="line">    link p;</span><br><span class="line">    <span class="keyword">for</span> (p = head; p; p = p-&gt;next)</span><br><span class="line">        visit(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">destroy</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    link q, p = head;</span><br><span class="line">    head = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span> (p) &#123;</span><br><span class="line">        q = p;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        free_node(q);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">push</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    insert(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">pop</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        link p = head;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* main.c */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;linkedlist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print_item</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, p-&gt;item); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    link p = make_node(<span class="number">10</span>);</span><br><span class="line">    insert(p);</span><br><span class="line">    p = make_node(<span class="number">5</span>);</span><br><span class="line">    insert(p);</span><br><span class="line">    p = make_node(<span class="number">90</span>);</span><br><span class="line">    insert(p);</span><br><span class="line">    p = search(<span class="number">5</span>);</span><br><span class="line">    delete(p);</span><br><span class="line">    free_node(p);</span><br><span class="line">    traverse(print_item);</span><br><span class="line">    destroy();</span><br><span class="line"></span><br><span class="line">    p = make_node(<span class="number">100</span>);</span><br><span class="line">    push(p);</span><br><span class="line">    p = make_node(<span class="number">200</span>);</span><br><span class="line">    push(p);</span><br><span class="line">    p = make_node(<span class="number">250</span>);</span><br><span class="line">    push(p);</span><br><span class="line">    <span class="keyword">while</span> (p = pop()) &#123;</span><br><span class="line">        print_item(p);</span><br><span class="line">        free_node(p);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在初始化时把头指针<code>head</code>初始化为<code>NULL</code>，表示空链表。然后<code>main</code>函数调用<code>make_node</code>创建几个节点，分别调用<code>insert</code>插入到链表中。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">insert</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    p-&gt;next = head;</span><br><span class="line">    head = p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure>
<img src="C:\blog\Blog\images\C\linkedlist.insert.png"
alt="链表的插入操作" />
<figcaption aria-hidden="true">链表的插入操作</figcaption>
</figure>
<p>正如上图所示，<code>insert</code>函数虽然简单，其中也隐含了一种特殊情况（Special
Case）的处理，当<code>head</code>为<code>NULL</code>时，执行<code>insert</code>操作插入第一个节点之后，<code>head</code>指向第一个节点，而第一个节点的<code>next</code>指针域成为<code>NULL</code>，这很合理，因为它也是最后一个节点。所以空链表虽然是一种特殊情况，却不需要特殊的代码来处理，和一般情况用同样的代码处理即可，这样写出来的代码更简洁，但是在读代码时要想到可能存在的特殊情况。当然，<code>insert</code>函数传进来的参数<code>p</code>也可能有特殊情况，传进来的<code>p</code>可能是<code>NULL</code>，甚至是野指针，本章的函数代码都假定调用者的传进来的参数是合法的，不对参数做特别检查。事实上，对指针参数做检查是不现实的，如果传进来的是<code>NULL</code>还可以检查一下，如果传进来的是野指针，根本无法检查它指向的内存单元是不是合法的，C标准库的函数通常也不做这种检查，例如<code>strcpy(p, NULL)</code>就会引起段错误。</p>
<p>接下来<code>main</code>函数调用<code>search</code>在链表中查找某个节点，如果找到就返回指向该节点的指针，找不到就返回<code>NULL</code>。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">link <span class="title function_">search</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> key)</span></span><br><span class="line">&#123;</span><br><span class="line">    link p;</span><br><span class="line">    <span class="keyword">for</span> (p = head; p; p = p-&gt;next)</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;item == key)</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>search</code>函数其实也隐含了对于空链表这种特殊情况的处理，如果是空链表则循环体一次都不执行，直接返回<code>NULL</code>。</p>
<p>然后<code>main</code>函数调用<code>delete</code>从链表中摘除用<code>search</code>找到的节点，最后调用<code>free_node</code>释放它的存储空间。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">delete</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    link pre;</span><br><span class="line">    <span class="keyword">if</span> (p == head) &#123;</span><br><span class="line">        head = p-&gt;next;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (pre = head; pre; pre = pre-&gt;next)</span><br><span class="line">        <span class="keyword">if</span> (pre-&gt;next == p) &#123;</span><br><span class="line">            pre-&gt;next = p-&gt;next;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure>
<img src="C:\blog\Blog\images\C\linkedlist.delete.png"
alt="链表的删除操作" />
<figcaption aria-hidden="true">链表的删除操作</figcaption>
</figure>
<p>从上图可以看出，要摘除一个节点需要首先找到它的前趋然后才能做摘除操作，而在单链表中通过某个节点只能找到它的后继而不能找到它的前趋，所以删除操作要麻烦一些，需要从第一个节点开始依次查找要摘除的节点的前趋。delete操作也要处理一种特殊情况，如果要摘除的节点是链表的第一个节点，它是没有前趋的，这种情况要用特殊的代码处理，而不能和一般情况用同样的代码处理。这样很不爽，能不能把这种特殊情况转化为一般情况呢？可以把<code>delete</code>函数改成这样：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">delete</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    link *pnext;</span><br><span class="line">    <span class="keyword">for</span> (pnext = &amp;head; *pnext; pnext = &amp;(*pnext)-&gt;next)</span><br><span class="line">        <span class="keyword">if</span> (*pnext == p) &#123;</span><br><span class="line">            *pnext = p-&gt;next;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure>
<img src="C:\blog\Blog\images\C\linkedlist.pdelete.png"
alt="消除特殊情况的链表删除操作" />
<figcaption aria-hidden="true">消除特殊情况的链表删除操作</figcaption>
</figure>
<p>定义一个指向指针的指针<code>pnext</code>，在<code>for</code>循环中<code>pnext</code>遍历的是指向链表中各节点的指针域，这样就把<code>head</code>指针和各节点的<code>next</code>指针统一起来了，可以在一个循环中处理。</p>
<p>然后<code>main</code>函数调用<code>traverse</code>函数遍历整个链表，调用<code>destroy</code>函数销毁整个链表。请读者自己阅读这两个函数的代码。</p>
<p>如果限定每次只在链表的头部插入和删除元素，就形成一个LIFO的访问序列，所以在链表头部插入和删除元素的操作实现了堆栈的push和pop操作，<code>main</code>函数的最后几步把链表当成堆栈来操作，从打印的结果可以看到出栈的顺序和入栈是相反的。想一想，用链表实现的堆栈和第
2 节 “堆栈”中用数组实现的堆栈相比有什么优点和缺点？</p>
<h3 id="双向链表">双向链表</h3>
<p>链表的delete操作需要首先找到要摘除的节点的前趋，而在单链表中找某个节点的前趋需要从表头开始依次查找，对于n个节点的链表，删除操作的时间复杂度为O(n)。可以想像得到，如果每个节点再维护一个指向前趋的指针，删除操作就像插入操作一样容易了，时间复杂度为O(1)，这称为双向链表（Doubly
Linked List）。要实现双向链表只需在上一节代码的基础上改动两个地方。</p>
<p>在<code>linkedlist.h</code>中修改链表节点的结构体定义：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> item;</span><br><span class="line">    link prev, next;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>在linkedlist.c中修改insert和delete函数：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">insert</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    p-&gt;next = head;</span><br><span class="line">    <span class="keyword">if</span> (head)</span><br><span class="line">        head-&gt;prev = p;</span><br><span class="line">    head = p;</span><br><span class="line">    p-&gt;prev = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delete</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;prev)</span><br><span class="line">        p-&gt;prev-&gt;next = p-&gt;next;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        head = p-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;next)</span><br><span class="line">        p-&gt;next-&gt;prev = p-&gt;prev;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure>
<img src="C:\blog\Blog\images\C\linkedlist.doubly.png" alt="双向链表" />
<figcaption aria-hidden="true">双向链表</figcaption>
</figure>
<p>由于引入了<code>prev</code>指针，<code>insert</code>和<code>delete</code>函数中都有一些特殊情况需要用特殊的代码处理，不能和一般情况用同样的代码处理，这非常不爽，如果在表头和表尾各添加一个Sentinel节点（这两个节点只用于界定表头和表尾，不保存数据），就可以把这些特殊情况都转化为一般情况了。</p>
<p>例 带Sentinel的双向链表</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* doublylinkedlist.h */</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> DOUBLYLINKEDLIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DOUBLYLINKEDLIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">link</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> item;</span><br><span class="line">	link prev, next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">make_node</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> item)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">free_node</span><span class="params">(link p)</span>;</span><br><span class="line">link <span class="title function_">search</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> key)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">insert</span><span class="params">(link p)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">delete</span><span class="params">(link p)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">traverse</span><span class="params">(<span class="type">void</span> (*visit)(link))</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">destroy</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">enqueue</span><span class="params">(link p)</span>;</span><br><span class="line">link <span class="title function_">dequeue</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* doublylinkedlist.c */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;doublylinkedlist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> <span class="title">tailsentinel</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> <span class="title">headsentinel</span> =</span> &#123;<span class="number">0</span>, <span class="literal">NULL</span>, &amp;tailsentinel&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> <span class="title">tailsentinel</span> =</span> &#123;<span class="number">0</span>, &amp;headsentinel, <span class="literal">NULL</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> link head = &amp;headsentinel;</span><br><span class="line"><span class="type">static</span> link tail = &amp;tailsentinel;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">make_node</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> item)</span></span><br><span class="line">&#123;</span><br><span class="line">    link p = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span> *p);</span><br><span class="line">    p-&gt;item = item;</span><br><span class="line">    p-&gt;prev = p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">free_node</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">search</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> key)</span></span><br><span class="line">&#123;</span><br><span class="line">    link p;</span><br><span class="line">    <span class="keyword">for</span> (p = head-&gt;next; p != tail; p = p-&gt;next)</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;item == key)</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">insert</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    p-&gt;next = head-&gt;next;</span><br><span class="line">    head-&gt;next-&gt;prev = p;</span><br><span class="line">    head-&gt;next = p;</span><br><span class="line">    p-&gt;prev = head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delete</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    p-&gt;prev-&gt;next = p-&gt;next;</span><br><span class="line">    p-&gt;next-&gt;prev = p-&gt;prev;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">traverse</span><span class="params">(<span class="type">void</span> (*visit)(link))</span></span><br><span class="line">&#123;</span><br><span class="line">    link p;</span><br><span class="line">    <span class="keyword">for</span> (p = head-&gt;next; p != tail; p = p-&gt;next)</span><br><span class="line">        visit(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">destroy</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    link q, p = head-&gt;next;</span><br><span class="line">    head-&gt;next = tail;</span><br><span class="line">    tail-&gt;prev = head;</span><br><span class="line">    <span class="keyword">while</span> (p != tail) &#123;</span><br><span class="line">        q = p;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        free_node(q);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">enqueue</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    insert(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">dequeue</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (tail-&gt;prev == head)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        link p = tail-&gt;prev;</span><br><span class="line">        delete(p);</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* main.c */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;doublylinkedlist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print_item</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, p-&gt;item); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    link p = make_node(<span class="number">10</span>);</span><br><span class="line">    insert(p);</span><br><span class="line">    p = make_node(<span class="number">5</span>);</span><br><span class="line">    insert(p);</span><br><span class="line">    p = make_node(<span class="number">90</span>);</span><br><span class="line">    insert(p);</span><br><span class="line">    p = search(<span class="number">5</span>);</span><br><span class="line">    delete(p);</span><br><span class="line">    free_node(p);</span><br><span class="line">    traverse(print_item);</span><br><span class="line">    destroy();</span><br><span class="line"></span><br><span class="line">    p = make_node(<span class="number">100</span>);</span><br><span class="line">    enqueue(p);</span><br><span class="line">    p = make_node(<span class="number">200</span>);</span><br><span class="line">    enqueue(p);</span><br><span class="line">    p = make_node(<span class="number">250</span>);</span><br><span class="line">    enqueue(p);</span><br><span class="line">    <span class="keyword">while</span> (p = dequeue()) &#123;</span><br><span class="line">        print_item(p);</span><br><span class="line">        free_node(p);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure>
<img src="C:\blog\Blog\images\C\linkedlist.sentinel.png"
alt="带Sentinel的双向链表" />
<figcaption aria-hidden="true">带Sentinel的双向链表</figcaption>
</figure>
<p>这个例子也实现了队列的enqueue和dequeue操作，现在每个节点有了<code>prev</code>指针，可以反过来在head处enqueue而在tail处dequeue了。</p>
<p>现在结合第 5 节
“环形队列”想一想，其实用链表实现环形队列是最自然的，以前基于数组实现环形队列，我们还需要“假想”它是首尾相接的，而如果基于链表实现环形队列，我们本来就可以用指针串成首尾相接的。把上面的程序改成环形链表（Circular
Linked List）也非常简单，只需要把<code>doublylinkedlist.c</code>中的</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> <span class="title">tailsentinel</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> <span class="title">headsentinel</span> =</span> &#123;<span class="number">0</span>, <span class="literal">NULL</span>, &amp;tailsentinel&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> <span class="title">tailsentinel</span> =</span> &#123;<span class="number">0</span>, &amp;headsentinel, <span class="literal">NULL</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> link head = &amp;headsentinel;</span><br><span class="line"><span class="type">static</span> link tail = &amp;tailsentinel;</span><br></pre></td></tr></table></figure>
<p>改成：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> <span class="title">sentinel</span> =</span> &#123;<span class="number">0</span>, &amp;sentinel, &amp;sentinel&#125;;</span><br><span class="line"><span class="type">static</span> link head = &amp;sentinel;</span><br></pre></td></tr></table></figure>
<p>再把<code>doublylinkedlist.c</code>中所有的<code>tail</code>替换成<code>head</code>即可，相当于把<code>head</code>和<code>tail</code>合二为一了。</p>
<figure>
<img src="C:\blog\Blog\images\C\linkedlist.circular.png"
alt="环形链表" />
<figcaption aria-hidden="true">环形链表</figcaption>
</figure>
<h3 id="静态链表">静态链表</h3>
<p>回想一下我们在例 12.4
“用广度优先搜索解迷宫问题”中使用的数据结构，我把图重新画在下面。</p>
<figure>
<img src="C:\blog\Blog\images\C\stackqueue.bfsqueue.png"
alt="广度优先搜索的队列数据结构" />
<figcaption aria-hidden="true">广度优先搜索的队列数据结构</figcaption>
</figure>
<p>这是一个静态分配的数组，每个数组元素都有<code>row</code>、<code>col</code>和<code>predecessor</code>三个成员，<code>predecessor</code>成员保存一个数组下标，指向数组中的另一个元素，这其实也是链表的一种形式，称为静态链表，例如上图中的第6、4、2、1、0个元素串成一条链表。</p>
<h2 id="二叉树">二叉树</h2>
<h3 id="二叉树的基本概念">二叉树的基本概念</h3>
<p>链表的每个节点可以有一个后继，而二叉树（Binary
Tree）的每个节点可以有两个后继。比如这样定义二叉树的节点：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">link</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> item;</span><br><span class="line">    link l, r;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>这样的节点可以组织成下图所示的各种形态。</p>
<figure>
<img src="C:\blog\Blog\images\C\linkedlist.binarytree.png"
alt="二叉树的定义和举例" />
<figcaption aria-hidden="true">二叉树的定义和举例</figcaption>
</figure>
<p>二叉树可以这样递归地定义：</p>
<p>就像链表有头指针一样，每个二叉树都有一个根指针（上图中的<code>root</code>指针）指向它。根指针可以是<code>NULL</code>，表示空二叉树，或者</p>
<p>根指针可以指向一个节点，这个节点除了有数据成员之外还有两个指针域，这两个指针域又分别是另外两个二叉树（左子树和右子树）的根指针。</p>
<p>上图举例示意了几种情况。</p>
<p>单节点的二叉树：左子树和右子树都是空二叉树。</p>
<p>只有左子树的二叉树：右子树是空二叉树。</p>
<p>只有右子树的二叉树：左子树是空二叉树。</p>
<p>一般的二叉树：左右子树都不为空。注意右侧由圈和线段组成的简化图示，以后我们都采用这种简化图示法，在圈中标上该节点数据成员的值。</p>
<p>链表的遍历方法是显而易见的：从前到后遍历即可。二叉树是一种树状结构，如何做到把所有节点都走一遍不重不漏呢？有以下几种方法：</p>
<figure>
<img src="C:\blog\Blog\images\C\linkedlist.binarytraverse.png"
alt="二叉树的遍历" />
<figcaption aria-hidden="true">二叉树的遍历</figcaption>
</figure>
<p>前序（Pre-order Traversal）、中序（In-order
Traversal）、后序遍历（Post-order
Traversal）和深度优先搜索的顺序类似，层序遍历（Level-order
Traversal）和广度优先搜索的顺序类似。</p>
<p>前序和中序遍历的结果合在一起可以唯一确定二叉树的形态，也就是说根据遍历结果可以构造出二叉树。过程如下图所示：</p>
<figure>
<img src="C:\blog\Blog\images\C\linkedlist.constructbinary.png"
alt="根据前序和中序遍历结果构造二叉树" />
<figcaption
aria-hidden="true">根据前序和中序遍历结果构造二叉树</figcaption>
</figure>
<p>想一想，根据中序和后序遍历结果能否构造二叉树？根据前序和后序遍历结果能否构造二叉树？</p>
<p>例 二叉树</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* binarytree.h */</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> BINARYTREE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> BINARYTREE_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">link</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">     <span class="type">unsigned</span> <span class="type">char</span> item;</span><br><span class="line">     link l, r;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">init</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> VLR[], <span class="type">unsigned</span> <span class="type">char</span> LVR[], <span class="type">int</span> n)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">pre_order</span><span class="params">(link t, <span class="type">void</span> (*visit)(link))</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">in_order</span><span class="params">(link t, <span class="type">void</span> (*visit)(link))</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">post_order</span><span class="params">(link t, <span class="type">void</span> (*visit)(link))</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">count</span><span class="params">(link t)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">depth</span><span class="params">(link t)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">destroy</span><span class="params">(link t)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* binarytree.c */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;binarytree.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> link <span class="title function_">make_node</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> item)</span></span><br><span class="line">&#123;</span><br><span class="line">    link p = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span> *p);</span><br><span class="line">    p-&gt;item = item;</span><br><span class="line">    p-&gt;l = p-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">free_node</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">init</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> VLR[], <span class="type">unsigned</span> <span class="type">char</span> LVR[], <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    link t;</span><br><span class="line">    <span class="type">int</span> k;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; VLR[<span class="number">0</span>] != LVR[k]; k++);</span><br><span class="line">    t = make_node(VLR[<span class="number">0</span>]);</span><br><span class="line">    t-&gt;l = init(VLR+<span class="number">1</span>, LVR, k);</span><br><span class="line">    t-&gt;r = init(VLR+<span class="number">1</span>+k, LVR+<span class="number">1</span>+k, n-k<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">pre_order</span><span class="params">(link t, <span class="type">void</span> (*visit)(link))</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!t)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    visit(t);</span><br><span class="line">    pre_order(t-&gt;l, visit);</span><br><span class="line">    pre_order(t-&gt;r, visit);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">in_order</span><span class="params">(link t, <span class="type">void</span> (*visit)(link))</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!t)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    in_order(t-&gt;l, visit);</span><br><span class="line">    visit(t);</span><br><span class="line">    in_order(t-&gt;r, visit);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">post_order</span><span class="params">(link t, <span class="type">void</span> (*visit)(link))</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!t)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    post_order(t-&gt;l, visit);</span><br><span class="line">    post_order(t-&gt;r, visit);</span><br><span class="line">    visit(t);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">count</span><span class="params">(link t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!t)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + count(t-&gt;l) + count(t-&gt;r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">depth</span><span class="params">(link t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> dl, dr;</span><br><span class="line">    <span class="keyword">if</span> (!t)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    dl = depth(t-&gt;l);</span><br><span class="line">    dr = depth(t-&gt;r);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + (dl &gt; dr ? dl : dr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">destroy</span><span class="params">(link t)</span></span><br><span class="line">&#123;</span><br><span class="line">    post_order(t, free_node);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* main.c */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;binarytree.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print_item</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, p-&gt;item);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> pre_seq[] = &#123; <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">7</span> &#125;;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> in_seq[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span> &#125;;</span><br><span class="line">    link root = init(pre_seq, in_seq, <span class="number">7</span>);</span><br><span class="line">    pre_order(root, print_item);</span><br><span class="line">    <span class="built_in">putchar</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">    in_order(root, print_item);</span><br><span class="line">    <span class="built_in">putchar</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">    post_order(root, print_item);</span><br><span class="line">    <span class="built_in">putchar</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;count=%d depth=%d\n&quot;</span>, count(root), depth(root));</span><br><span class="line">    destroy(root);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="排序二叉树">排序二叉树</h3>
<p>排序二叉树（BST，Binary Search
Tree）具有这样的性质：对于二叉树中的任意节点，如果它有左子树或右子树，则该节点的数据成员大于左子树所有节点的数据成员，且小于右子树所有节点的数据成员。排序二叉树的中序遍历结果是从小到大排列的，其实上一节的图
26.10 “二叉树的遍历”就是排序二叉树。</p>
<p>例 排序二叉树</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* bst.h */</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> BST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> BST_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">link</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">     <span class="type">unsigned</span> <span class="type">char</span> item;</span><br><span class="line">     link l, r;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">search</span><span class="params">(link t, <span class="type">unsigned</span> <span class="type">char</span> key)</span>;</span><br><span class="line">link <span class="title function_">insert</span><span class="params">(link t, <span class="type">unsigned</span> <span class="type">char</span> key)</span>;</span><br><span class="line">link <span class="title function_">delete</span><span class="params">(link t, <span class="type">unsigned</span> <span class="type">char</span> key)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">print_tree</span><span class="params">(link t)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* bst.c */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bst.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> link <span class="title function_">make_node</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> item)</span></span><br><span class="line">&#123;</span><br><span class="line">    link p = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span> *p);</span><br><span class="line">    p-&gt;item = item;</span><br><span class="line">    p-&gt;l = p-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">free_node</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">search</span><span class="params">(link t, <span class="type">unsigned</span> <span class="type">char</span> key)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!t)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (t-&gt;item &gt; key)</span><br><span class="line">        <span class="keyword">return</span> search(t-&gt;l, key);</span><br><span class="line">    <span class="keyword">if</span> (t-&gt;item &lt; key)</span><br><span class="line">        <span class="keyword">return</span> search(t-&gt;r, key);</span><br><span class="line">    <span class="comment">/* if (t-&gt;item == key) */</span></span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">insert</span><span class="params">(link t, <span class="type">unsigned</span> <span class="type">char</span> key)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!t)</span><br><span class="line">        <span class="keyword">return</span> make_node(key);</span><br><span class="line">    <span class="keyword">if</span> (t-&gt;item &gt; key) <span class="comment">/* insert to left subtree */</span></span><br><span class="line">        t-&gt;l = insert(t-&gt;l, key);</span><br><span class="line">    <span class="keyword">else</span> <span class="comment">/* if (t-&gt;item &lt;= key), insert to right subtree */</span></span><br><span class="line">        t-&gt;r = insert(t-&gt;r, key);</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">link <span class="title function_">delete</span><span class="params">(link t, <span class="type">unsigned</span> <span class="type">char</span> key)</span></span><br><span class="line">&#123;</span><br><span class="line">    link p;</span><br><span class="line">    <span class="keyword">if</span> (!t)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (t-&gt;item &gt; key) <span class="comment">/* delete from left subtree */</span></span><br><span class="line">        t-&gt;l = delete(t-&gt;l, key);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (t-&gt;item &lt; key) <span class="comment">/* delete from right subtree */</span></span><br><span class="line">        t-&gt;r = delete(t-&gt;r, key);</span><br><span class="line">    <span class="keyword">else</span> &#123; <span class="comment">/* if (t-&gt;item == key) */</span></span><br><span class="line">        <span class="keyword">if</span> (t-&gt;l == <span class="literal">NULL</span> &amp;&amp; t-&gt;r == <span class="literal">NULL</span>) &#123; <span class="comment">/* if t is leaf node */</span></span><br><span class="line">            free_node(t);</span><br><span class="line">            t = <span class="literal">NULL</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (t-&gt;l) &#123; <span class="comment">/* if t has left subtree */</span></span><br><span class="line">            <span class="comment">/* replace t with the rightmost node in left subtree */</span></span><br><span class="line">            <span class="keyword">for</span> (p = t-&gt;l; p-&gt;r; p = p-&gt;r);</span><br><span class="line">            t-&gt;item = p-&gt;item;</span><br><span class="line">            t-&gt;l = delete(t-&gt;l, t-&gt;item);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">/* if t has right subtree */</span></span><br><span class="line">            <span class="comment">/* replace t with the leftmost node in right subtree */</span></span><br><span class="line">            <span class="keyword">for</span> (p = t-&gt;r; p-&gt;l; p = p-&gt;l);</span><br><span class="line">            t-&gt;item = p-&gt;item;</span><br><span class="line">            t-&gt;r = delete(t-&gt;r, t-&gt;item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print_tree</span><span class="params">(link t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (t) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;(&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, t-&gt;item);</span><br><span class="line">        print_tree(t-&gt;l);</span><br><span class="line">        print_tree(t-&gt;r);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;)&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;()&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* main.c */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bst.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RANGE 100</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 6</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">print_item</span><span class="params">(link p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, p-&gt;item);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i, key;</span><br><span class="line">    link root = <span class="literal">NULL</span>;</span><br><span class="line">    srand(time(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        root = insert(root, rand() % RANGE);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\t\\tree&quot;</span>);</span><br><span class="line">    print_tree(root);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (root) &#123;</span><br><span class="line">        key = rand() % RANGE;</span><br><span class="line">        <span class="keyword">if</span> (search(root, key)) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;delete %d in tree\n&quot;</span>, key);</span><br><span class="line">            root = delete(root, key);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\t\\tree&quot;</span>);</span><br><span class="line">            print_tree(root);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./a.out</span></span><br><span class="line">    \tree(83(77(15()(35()()))())(86()(93()())))</span><br><span class="line"></span><br><span class="line">delete 86 in tree</span><br><span class="line">    \tree(83(77(15()(35()()))())(93()()))</span><br><span class="line"></span><br><span class="line">delete 35 in tree</span><br><span class="line">    \tree(83(77(15()())())(93()()))</span><br><span class="line"></span><br><span class="line">delete 93 in tree</span><br><span class="line">    \tree(83(77(15()())())())</span><br><span class="line"></span><br><span class="line">delete 15 in tree</span><br><span class="line">    \tree(83(77()())())</span><br><span class="line"></span><br><span class="line">delete 83 in tree</span><br><span class="line">    \tree(77()())</span><br><span class="line"></span><br><span class="line">delete 77 in tree</span><br><span class="line">    \tree()</span><br></pre></td></tr></table></figure>
<p>程序的运行结果可以用Greg Lee编写的The Tree
Preprocessor（http://www.essex.ac.uk/linguistics/clmt/latex4ling/trees/tree/）转换成树形：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./a.out | ./tree/tree</span></span><br><span class="line">         83</span><br><span class="line">          ___|___</span><br><span class="line">          |     |</span><br><span class="line">          77    86</span><br><span class="line">         _|__  _|__</span><br><span class="line">         |  |  |  |</span><br><span class="line">         15       93</span><br><span class="line">        _|__     _|__</span><br><span class="line">        |  |     |  |</span><br><span class="line">           35</span><br><span class="line">          _|__</span><br><span class="line">          |  |</span><br><span class="line"></span><br><span class="line">delete 86 in tree</span><br><span class="line">         83</span><br><span class="line">          ___|___</span><br><span class="line">          |     |</span><br><span class="line">          77    93</span><br><span class="line">         _|__  _|__</span><br><span class="line">         |  |  |  |</span><br><span class="line">         15</span><br><span class="line">        _|__</span><br><span class="line">        |  |</span><br><span class="line">           35</span><br><span class="line">          _|__</span><br><span class="line">          |  |</span><br><span class="line"></span><br><span class="line">delete 35 in tree</span><br><span class="line">         83</span><br><span class="line">          ___|___</span><br><span class="line">          |     |</span><br><span class="line">          77    93</span><br><span class="line">         _|__  _|__</span><br><span class="line">         |  |  |  |</span><br><span class="line">         15</span><br><span class="line">        _|__</span><br><span class="line">        |  |</span><br><span class="line"></span><br><span class="line">delete 93 in tree</span><br><span class="line">       83</span><br><span class="line">          _|__</span><br><span class="line">          |  |</span><br><span class="line">          77</span><br><span class="line">         _|__</span><br><span class="line">         |  |</span><br><span class="line">         15</span><br><span class="line">        _|__</span><br><span class="line">        |  |</span><br><span class="line"></span><br><span class="line">delete 15 in tree</span><br><span class="line">      83</span><br><span class="line">         _|__</span><br><span class="line">         |  |</span><br><span class="line">         77</span><br><span class="line">        _|__</span><br><span class="line">        |  |</span><br><span class="line"></span><br><span class="line">delete 83 in tree</span><br><span class="line">     77</span><br><span class="line">        _|__</span><br><span class="line">        |  |</span><br><span class="line"></span><br><span class="line">delete 77 in tree</span><br></pre></td></tr></table></figure>
<h2 id="哈希表">哈希表</h2>
<p>下图示意了哈希表（Hash Table）这种数据结构。</p>
<figure>
<img src="C:\blog\Blog\images\C\linkedlist.hashtab.png" alt="哈希表" />
<figcaption aria-hidden="true">哈希表</figcaption>
</figure>
<p>如上图所示，首先分配一个指针数组，数组的每个元素是一个链表的头指针，每个链表称为一个槽（Slot）。哪个数据应该放入哪个槽中由哈希函数决定，在这个例子中我们简单地选取哈希函数<code>h(x) = x % 11</code>，这样任意数据<code>x</code>都可以映射成0~10之间的一个数，就是槽的编号，将数据放入某个槽的操作就是链表的插入操作。</p>
<p>如果每个槽里至多只有一个数据，可以想像这种情况下search、insert和delete操作的时间复杂度都是O(1)，但有时会有多个数据被哈希函数映射到同一个槽中，这称为碰撞（Collision），设计一个好的哈希函数可以把数据比较均匀地分布到各个槽中，尽量避免碰撞。如果能把n个数据比较均匀地分布到m个槽中，每个糟里约有n/m个数据，则search、insert和delete和操作的时间复杂度都是O(n/m)，如果n和m的比是常数，则时间复杂度仍然是O(1)。一般来说，要处理的数据越多，构造哈希表时分配的槽也应该越多，所以n和m成正比这个假设是成立的。</p>
<p>请读者自己编写程序构造这样一个哈希表，并实现search、insert和delete操作。</p>
<p>如果用我们学过的各种数据结构来表示n个数据的集合，下表是search、insert和delete操作在平均情况下的时间复杂度比较。</p>
<p>表
各种数据结构的search、insert和delete操作在平均情况下的时间复杂度比较</p>
<table>
<thead>
<tr>
<th>数据结构</th>
<th>search</th>
<th>insert</th>
<th>delete</th>
</tr>
</thead>
<tbody>
<tr>
<td>数组</td>
<td>O(n)，有序数组折半查找是O(lgn)</td>
<td>O(n)</td>
<td>O(n)</td>
</tr>
<tr>
<td>双向链表</td>
<td>O(n)</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
<tr>
<td>排序二叉树</td>
<td>O(lgn)</td>
<td>O(lgn)</td>
<td>O(lgn)</td>
</tr>
<tr>
<td>哈希表（n与槽数m成正比）</td>
<td>O(1)</td>
<td>O(1)</td>
<td>O(1)</td>
</tr>
</tbody>
</table>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/C/" rel="tag"># C</a>
              <a href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag"># 编程</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/05/04/C%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%BA%8C%E5%8D%81%E5%9B%9B%E7%AB%A0/" rel="prev" title="C语言:函数接口">
                  <i class="fa fa-angle-left"></i> C语言:函数接口
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2025/05/04/C%E8%AF%AD%E8%A8%80%E7%AC%AC%E4%BA%8C%E5%8D%81%E4%BA%8C%E7%AB%A0/" rel="next" title="C语言:Makefile基础">
                  C语言:Makefile基础 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">SiyuanLei</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
