<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="课程实验报告 第一次实验 习题1 比较R2和R3的内容, 并将最大值放入R1寄存器, 如果两个数相同, 则要求R1等于0. 要求程序起始地址为x3000, 程序完成后正常结束. 实验步骤与实验思路: 首先写好起始地址.ORIG x3000和结束语句.END. 比较两个寄存器的内容的大小可以用减法, 但是LC-3指令集没有提供减法运算, 所以具体做法是, 先对R3取反再加一, 放">
<meta property="og:type" content="article">
<meta property="og:title" content="SiyuanLei&#39;s Blog">
<meta property="og:url" content="http://example.com/2026/02/28/22009101435%E9%9B%B7%E6%80%9D%E6%BA%90%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/index.html">
<meta property="og:site_name" content="SiyuanLei&#39;s Blog">
<meta property="og:description" content="课程实验报告 第一次实验 习题1 比较R2和R3的内容, 并将最大值放入R1寄存器, 如果两个数相同, 则要求R1等于0. 要求程序起始地址为x3000, 程序完成后正常结束. 实验步骤与实验思路: 首先写好起始地址.ORIG x3000和结束语句.END. 比较两个寄存器的内容的大小可以用减法, 但是LC-3指令集没有提供减法运算, 所以具体做法是, 先对R3取反再加一, 放">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2026/02/28/22009101435%E9%9B%B7%E6%80%9D%E6%BA%90%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/LC-3Lab/LC-3/mermaid/pic1.png">
<meta property="og:image" content="http://example.com/2026/02/28/22009101435%E9%9B%B7%E6%80%9D%E6%BA%90%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/LC-3Lab/LC-3/experiment1/step1.png">
<meta property="og:image" content="http://example.com/2026/02/28/22009101435%E9%9B%B7%E6%80%9D%E6%BA%90%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/LC-3Lab/LC-3/experiment1/step2.png">
<meta property="og:image" content="http://example.com/2026/02/28/22009101435%E9%9B%B7%E6%80%9D%E6%BA%90%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/LC-3Lab/LC-3/experiment1/step3.png">
<meta property="og:image" content="http://example.com/2026/02/28/22009101435%E9%9B%B7%E6%80%9D%E6%BA%90%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/LC-3Lab/LC-3/experiment1/step4.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/mermaid/pic2.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step1.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step2.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step3.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step4.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step5.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step6.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step7.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step8.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step9.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step10.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step11.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step12.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step13.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step14.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step15.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment2/step16.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/mermaid/pic3.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment3/step1.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment3/step2.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment3/step3.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment3/step4.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment3/step5.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/mermaid/pic4.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment4/step1.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment4/step2.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment4/step3.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment4/step4.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment4/step5.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment4/step6.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment4/step7.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment4/step8.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment4/step9.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment4/step10.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/mermaid/pic5.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment5/step1.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment5/step2.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment5/step3.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment5/step4.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment5/step5.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment5/step6.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment5/step7.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment5/step8.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment5/step9.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment5/step10.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment5/step11.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/mermaid/pic6.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment6/step1.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment6/step2.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment6/step3.png">
<meta property="og:image" content="http://example.com/source/images/LC-3/experiment6/step4.png">
<meta property="article:published_time" content="2026-02-28T05:47:29.276Z">
<meta property="article:modified_time" content="2026-02-28T05:48:56.703Z">
<meta property="article:author" content="SiyuanLei">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2026/02/28/22009101435%E9%9B%B7%E6%80%9D%E6%BA%90%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/LC-3Lab/LC-3/mermaid/pic1.png">


<link rel="canonical" href="http://example.com/2026/02/28/22009101435%E9%9B%B7%E6%80%9D%E6%BA%90%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2026/02/28/22009101435%E9%9B%B7%E6%80%9D%E6%BA%90%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/","path":"2026/02/28/22009101435雷思源课程实验报告/","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title> | SiyuanLei's Blog</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">SiyuanLei's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A"><span class="nav-number">1.</span> <span class="nav-text">课程实验报告</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%AE%9E%E9%AA%8C"><span class="nav-number">1.1.</span> <span class="nav-text">第一次实验</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B9%A0%E9%A2%981"><span class="nav-number">1.1.1.</span> <span class="nav-text">习题1</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E9%AA%8C%E6%80%9D%E8%B7%AF"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">实验步骤与实验思路:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">具体实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">运行过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B9%A0%E9%A2%982"><span class="nav-number">1.1.2.</span> <span class="nav-text">习题2</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E9%AA%8C%E6%80%9D%E8%B7%AF-1"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">实验步骤与实验思路</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0-1"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">具体实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B-1"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">运行过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B9%A0%E9%A2%983"><span class="nav-number">1.1.3.</span> <span class="nav-text">习题3</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E9%AA%8C%E6%80%9D%E8%B7%AF-2"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">实验步骤与实验思路</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0-2"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">具体实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B-2"><span class="nav-number">1.1.3.3.</span> <span class="nav-text">运行过程</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E6%AC%A1%E5%AE%9E%E9%AA%8C"><span class="nav-number">1.2.</span> <span class="nav-text">第二次实验</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B9%A0%E9%A2%984"><span class="nav-number">1.2.1.</span> <span class="nav-text">习题4</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E9%AA%8C%E6%80%9D%E8%B7%AF-3"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">实验步骤与实验思路</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0-3"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">具体实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B-3"><span class="nav-number">1.2.1.3.</span> <span class="nav-text">运行过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B9%A0%E9%A2%985"><span class="nav-number">1.2.2.</span> <span class="nav-text">习题5</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E9%AA%8C%E6%80%9D%E8%B7%AF-4"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">实验步骤与实验思路</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%97%AE%E9%A2%981%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-number">1.2.2.1.1.</span> <span class="nav-text">问题1的解决方案</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%97%AE%E9%A2%982%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-number">1.2.2.1.2.</span> <span class="nav-text">问题2的解决方案</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%8D%81%E8%BF%9B%E5%88%B6%E8%BE%93%E5%85%A5"><span class="nav-number">1.2.2.1.2.1.</span> <span class="nav-text">十进制输入</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BE%93%E5%85%A5"><span class="nav-number">1.2.2.1.2.2.</span> <span class="nav-text">十六进制输入</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%97%AE%E9%A2%983%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-number">1.2.2.1.3.</span> <span class="nav-text">问题3的解决方案</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%8D%81%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2"><span class="nav-number">1.2.2.1.3.1.</span> <span class="nav-text">十进制转换</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2"><span class="nav-number">1.2.2.1.3.2.</span> <span class="nav-text">十六进制转换</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%97%AE%E9%A2%984%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-number">1.2.2.1.4.</span> <span class="nav-text">问题4的解决方案</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0-4"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">具体实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B-4"><span class="nav-number">1.2.2.3.</span> <span class="nav-text">运行过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B9%A0%E9%A2%986"><span class="nav-number">1.2.3.</span> <span class="nav-text">习题6</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E9%AA%8C%E6%80%9D%E8%B7%AF-5"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">实验步骤与实验思路</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0-5"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">具体实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B-5"><span class="nav-number">1.2.3.3.</span> <span class="nav-text">运行过程</span></a></li></ol></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="SiyuanLei"
      src="/images/femboy.jpg">
  <p class="site-author-name" itemprop="name">SiyuanLei</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">48</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/SiyuanLei041011" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;SiyuanLei041011" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:SiyuanLei041011@gmail.com" title="E-Mail → mailto:SiyuanLei041011@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/Esther041011" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;Esther041011" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://arxiv.org/" title="https:&#x2F;&#x2F;arxiv.org&#x2F;" rel="noopener" target="_blank">Arxiv</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://libgen.onl/library-genesis/" title="https:&#x2F;&#x2F;libgen.onl&#x2F;library-genesis&#x2F;" rel="noopener" target="_blank">LibGen</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="http://down.wlwkw.cn:8888/" title="http:&#x2F;&#x2F;down.wlwkw.cn:8888&#x2F;" rel="noopener" target="_blank">EBook</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2026/02/28/22009101435%E9%9B%B7%E6%80%9D%E6%BA%90%E8%AF%BE%E7%A8%8B%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2026-02-28 13:47:29 / Modified: 13:48:56" itemprop="dateCreated datePublished" datetime="2026-02-28T13:47:29+08:00">2026-02-28</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="课程实验报告">课程实验报告</h1>
<h2 id="第一次实验">第一次实验</h2>
<h3 id="习题1">习题1</h3>
<p>比较R2和R3的内容, 并将最大值放入R1寄存器, 如果两个数相同,
则要求R1等于0. 要求程序起始地址为<code>x3000</code>,
程序完成后正常结束.</p>
<h4 id="实验步骤与实验思路">实验步骤与实验思路:</h4>
<p>首先写好起始地址<code>.ORIG x3000</code>和结束语句<code>.END</code>.</p>
<p>比较两个寄存器的内容的大小可以用减法, 但是LC-3指令集没有提供减法运算,
所以具体做法是, 先对<code>R3</code>取反再加一,
放到<code>R0</code>寄存器里面, 然后和<code>R2</code>相加,
结果放在<code>R0</code>寄存器里面.</p>
<p>根据减法的结果(正数, 负数,
零)跳转(也就是使用<code>BR</code>指令)到对应的后续操作. 如果是正数,
说明<code>R2</code>大, 把<code>R2</code>放到<code>R1</code>里面;
如果是零, 说明两个数相等, 把<code>R1</code>清零即可; 如果是负数,
就把<code>R3</code>的值放入<code>R1</code>里面.</p>
<h4 id="具体实现">具体实现</h4>
<p>流程图如下:</p>
<p><img src="LC-3Lab/LC-3/mermaid/pic1.png" /></p>
<p>具体的实现代码如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">.ORIG x3000</span><br><span class="line"></span><br><span class="line">    NOT R0, R3</span><br><span class="line">    ADD R0, R0, #1  ;取R3的补码, 放到R0里面</span><br><span class="line">    ADD R0, R2, R0  ;计算R2-R0, 结果放到R0里面</span><br><span class="line">    </span><br><span class="line">    BRz ZERO        ;如果结果为0, 则跳转到ZERO, 把R0的内容放到R1里面</span><br><span class="line">    BRp POSITIVE    ;如果结果为正, 则跳转到POSITIVE, 把R2放到R1里面</span><br><span class="line">    BRn NEGATIVE    ;如果结果为负, 则跳转到NEGATIVE, 把R3放到R1里面</span><br><span class="line"></span><br><span class="line">ZERO:</span><br><span class="line">    AND R1, R0, #0  ;把R1清零</span><br><span class="line">    BRnzp FINISH    ;跳转到FINISH</span><br><span class="line"></span><br><span class="line">POSITIVE:</span><br><span class="line">    ADD R1, R2, #0  ;把R2放到R1里面</span><br><span class="line">    BRnzp FINISH    ;跳转到FINISH</span><br><span class="line"></span><br><span class="line">NEGATIVE:</span><br><span class="line">    ADD R1, R3, #0  ;把R3放到R1里面</span><br><span class="line"></span><br><span class="line">FINISH:</span><br><span class="line">    HALT</span><br><span class="line">.END</span><br></pre></td></tr></table></figure>
<h4 id="运行过程">运行过程</h4>
<p>设置<code>R2=5, R3=3</code>.</p>
<figure>
<img src="LC-3Lab/LC-3/experiment1/step1.png" alt="图1.1" />
<figcaption aria-hidden="true">图1.1</figcaption>
</figure>
<p>可以看到<code>R0=R2-R3=2</code>, <code>R1=5</code></p>
<figure>
<img src="LC-3Lab/LC-3/experiment1/step2.png" alt="图1.2" />
<figcaption aria-hidden="true">图1.2</figcaption>
</figure>
<p>设置<code>R2=6, R3=8</code>, 可以得到<code>R0=R2-R3=-2</code>,
<code>R1=8</code></p>
<figure>
<img src="LC-3Lab/LC-3/experiment1/step3.png" alt="图1.3" />
<figcaption aria-hidden="true">图1.3</figcaption>
</figure>
<p>设置<code>R2=R3=-6</code>, 可以得到<code>R0=R2-R3=0</code>,
<code>R1=0</code></p>
<figure>
<img src="LC-3Lab/LC-3/experiment1/step4.png" alt="图1.4" />
<figcaption aria-hidden="true">图1.4</figcaption>
</figure>
<h3 id="习题2">习题2</h3>
<p>实现两个正整数的除法, 要求程序从<code>x3000</code>开始执行,
被除数位于<code>x4000</code>, 除数位于<code>x4001</code>,
商放在<code>x5000</code>, 余数放在<code>x5001</code>.</p>
<h4 id="实验步骤与实验思路-1">实验步骤与实验思路</h4>
<p>首先还是先写好<code>.ORIG x3000</code>和<code>.END</code>.</p>
<p>根据题目要求, 先给指定的地址标签(<code>NUM1 .FILL x4000</code>,
<code>NUM2 .FILL x4001</code>, <code>QUOTIENT .FILL x5000</code>,
<code>REMAINDER .FILL x5001</code>), 方便以后使用.
我们把被除数放在<code>R1</code>里面, 除数放在<code>R2</code>里面.
两个正整数的除法就是, 用被除数减去除数, 看看可以减多少次,
所以选用<code>R3</code>作为计数器, 也就是存放商的寄存器.</p>
<p>我们用<code>R1</code>减去<code>R2</code>,
减法的结果放到<code>R1</code>里面, 如果减完为正,
说明还可以继续除以<code>R2</code>, 所以应该继续减法; 如果减完为零,
说明<code>R2</code>整除<code>R1</code>; 如果减完为负, 说明存在余数,
这时直接用这个负数加上被减数就得到余数.</p>
<h4 id="具体实现-1">具体实现</h4>
<p>流程图如下:</p>
<p><img src="/source/images/LC-3/mermaid/pic2.png" /></p>
<p>代码如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">.ORIG x3000</span><br><span class="line"></span><br><span class="line">    LDI R1, NUM1  ;加载被除数到R1中</span><br><span class="line">    LDI R2, NUM2  ;加载除数到R2中</span><br><span class="line">    </span><br><span class="line">    AND R3, R3, #0   ;把R3清零, 用来计数R1可以被R2减多少次</span><br><span class="line">    NOT R2, R2</span><br><span class="line">    ADD R2, R2, #1   ;对R2取反加一</span><br><span class="line"></span><br><span class="line">DIV:</span><br><span class="line">    ADD R3, R3, #1   ;计数器先加上1</span><br><span class="line">    ADD R1, R1, R2   ;用R1减去R2, 结果存放在R1里面</span><br><span class="line">    BRp DIV          ;如果结果为正, 则重复循环</span><br><span class="line">    BRz FINISH       ;如果结果为零, 则跳转到FINISH, 说明R2整除R1, 余数为0</span><br><span class="line"></span><br><span class="line">    ADD R3 R3 -1     ;如果结果为负, 说明减过头了, 把计数器减去1</span><br><span class="line">    NOT R2 R2</span><br><span class="line">    ADD R2 R2 1</span><br><span class="line">    ADD R2 R1 R2     ;这里是计算余数, 把余数放到R2里面</span><br><span class="line">    STI R2 REMAINDER ;把余数R2放到地址x5001处</span><br><span class="line">    STI R3 QUOTIENT  ;把商R3放到地址x5000处</span><br><span class="line">    BRp EOP</span><br><span class="line"></span><br><span class="line">FINISH:</span><br><span class="line">    AND R2, R2, #0      ;把余数设为0</span><br><span class="line">    STI R2, REMAINDER   ;把余数R2放到地址x5001处</span><br><span class="line">    STI R3, QUOTIENT    ;把商放到地址x5000处</span><br><span class="line">EOP: </span><br><span class="line">    HALT</span><br><span class="line"></span><br><span class="line">NUM1      .FILL x4000</span><br><span class="line">NUM2      .FILL x4001</span><br><span class="line">QUOTIENT  .FILL x5000</span><br><span class="line">REMAINDER .FILL x5001</span><br><span class="line"></span><br><span class="line">.END</span><br></pre></td></tr></table></figure>
<h4 id="运行过程-1">运行过程</h4>
<p>先将程序加载到LC-3模拟器, 如图所示</p>
<figure>
<img src="/source/images/LC-3/experiment2/step1.png" alt="图2.1" />
<figcaption aria-hidden="true">图2.1</figcaption>
</figure>
<p>设置地址<code>x4000</code>处的内容为<code>x0019</code>,
地址<code>x4001</code>处的内容为<code>x0005</code></p>
<figure>
<img src="/source/images/LC-3/experiment2/step2.png" alt="图2.2" />
<figcaption aria-hidden="true">图2.2</figcaption>
</figure>
<p>运行LD指令后, 可以看到<code>R1=25, R2=5</code></p>
<figure>
<img src="/source/images/LC-3/experiment2/step3.png" alt="图2.3" />
<figcaption aria-hidden="true">图2.3</figcaption>
</figure>
<p>计算一次减法, 可以看到<code>R1=20, R2=-5</code>,
计数器<code>R3=1</code></p>
<figure>
<img src="/source/images/LC-3/experiment2/step4.png" alt="图2.4" />
<figcaption aria-hidden="true">图2.4</figcaption>
</figure>
<p>计算两次减法, 可以看到<code>R1=15, R2=-5</code>,
计数器<code>R3=2</code></p>
<figure>
<img src="/source/images/LC-3/experiment2/step5.png" alt="图2.5" />
<figcaption aria-hidden="true">图2.5</figcaption>
</figure>
<p>计算三次减法, 可以看到<code>R1=10, R2=-5</code>,
计数器<code>R3=3</code></p>
<figure>
<img src="/source/images/LC-3/experiment2/step6.png" alt="图2.6" />
<figcaption aria-hidden="true">图2.6</figcaption>
</figure>
<p>计算四次减法, 可以看到<code>R1=5, R2=-5</code>,
计数器<code>R3=4</code></p>
<figure>
<img src="/source/images/LC-3/experiment2/step7.png" alt="图2.7" />
<figcaption aria-hidden="true">图2.7</figcaption>
</figure>
<p>计算五次减法, 可以看到<code>R1=0, R2=-5</code>,
计数器<code>R3=5</code></p>
<figure>
<img src="/source/images/LC-3/experiment2/step8.png" alt="图2.8" />
<figcaption aria-hidden="true">图2.8</figcaption>
</figure>
<p><code>R2</code>整除<code>R1</code>, 程序跳转到<code>FINISH</code>,
把<code>R2</code>和<code>R3</code>分别存储到<code>QUOTIENT</code>和<code>REMAINDER</code>地址处</p>
<p>(这里我发现自己当时把商和余数的地址写反了,
但是这对于之前的过程不影响)</p>
<figure>
<img src="/source/images/LC-3/experiment2/step9.png" alt="图2.9" />
<figcaption aria-hidden="true">图2.9</figcaption>
</figure>
<p>可以看到<code>x5000</code>处为余数0, <code>x5001</code>处为商5</p>
<figure>
<img src="/source/images/LC-3/experiment2/step10.png" alt="图2.10" />
<figcaption aria-hidden="true">图2.10</figcaption>
</figure>
<p>设置地址<code>x4000</code>处的内容为<code>x0007</code>,
地址<code>x4001</code>处的内容为<code>x0003</code></p>
<figure>
<img src="/source/images/LC-3/experiment2/step11.png" alt="图2.11" />
<figcaption aria-hidden="true">图2.11</figcaption>
</figure>
<p>计算一次减法, 可以看到<code>R1=4, R2=-3</code>,
计数器<code>R3=1</code></p>
<figure>
<img src="/source/images/LC-3/experiment2/step12.png" alt="图2.12" />
<figcaption aria-hidden="true">图2.12</figcaption>
</figure>
<p>计算两次减法, 可以看到<code>R1=1, R2=-3</code>,
计数器<code>R3=2</code></p>
<figure>
<img src="/source/images/LC-3/experiment2/step13.png" alt="图2.13" />
<figcaption aria-hidden="true">图2.13</figcaption>
</figure>
<p>计算三次减法, 可以看到<code>R1=-2, R2=-3</code>,
计数器<code>R3=3</code></p>
<figure>
<img src="/source/images/LC-3/experiment2/step14.png" alt="图2.14" />
<figcaption aria-hidden="true">图2.14</figcaption>
</figure>
<p>这是被减数<code>R1</code>小于0, 说明减过头了, 把<code>R3</code>减去1,
然后计算<code>R1+|R2|</code>得到余数, 放进<code>R2</code>中</p>
<figure>
<img src="/source/images/LC-3/experiment2/step15.png" alt="图2.15" />
<figcaption aria-hidden="true">图2.15</figcaption>
</figure>
<p>可以看到<code>x5000</code>处为商2, <code>x5001</code>处为余数1</p>
<figure>
<img src="/source/images/LC-3/experiment2/step16.png" alt="图2.16" />
<figcaption aria-hidden="true">图2.16</figcaption>
</figure>
<h3 id="习题3">习题3</h3>
<p>从键盘输入一个值, 范围是数字<code>0~9</code>,
字母<code>a~z</code>以及<code>A~Z</code>.
检查从<code>x3100</code>开始的十个内存单元中是否有该数值, 如果有,
则设置<code>R0=1</code>, 如果没有, 则设置<code>R0=0</code>.
程序存放于<code>x3000</code>地址.</p>
<h4 id="实验步骤与实验思路-2">实验步骤与实验思路</h4>
<p>首先还是先写好<code>.ORIG x3000</code>和<code>.END</code>.
根据题目要求,
可以使用<code>TRAP x20</code>和<code>TRAP x21</code>进行键盘字符的读取和回显,
读取的字符的ASCII码存放到<code>R0</code>里.
我们把<code>R0</code>的值先装到<code>R1</code>里面便于后续比较,
而<code>R0</code>本身用于存放比较的结果.
我们设置<code>R2</code>作为指针指向搜索的起始地址<code>x3100</code>,
<code>R3</code>作为计数器, 计数十次.</p>
<p>做好上述的准备工作后, 下面我们编写主要的循环.</p>
<p>记循环开始处为<code>LOOP</code>, 在开始处,
首先把<code>R2</code>指向的地址的值给<code>R4</code>,
为了比较<code>R4</code>里面的值是否和<code>R1</code>中的相等,
我们采用减法, 也就是先对<code>R4</code>取反加一,
放到<code>R5</code>里面, 然后用<code>R1</code>加上<code>R5</code>,
如果结果为零, 则跳转到<code>YES</code>处,
这里的<code>YES</code>就是把<code>R0</code>置为<code>1</code>的语句;
如果结果非零, 就更新指针<code>R2</code>和计数器<code>R3</code>,
然后跳回到循环开始的位置进行下一个地址处的比较.
如果<code>R3</code>为零时仍然未找到, 就无条件跳转至<code>NO</code>处,
这里的<code>NO</code>就是把<code>R0</code>置为<code>0</code>,
最后结束程序.</p>
<h4 id="具体实现-2">具体实现</h4>
<p>流程图如下:</p>
<p><img src="/source/images/LC-3/mermaid/pic3.png" /></p>
<p>代码如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">.ORIG x3000</span><br><span class="line"></span><br><span class="line">    TRAP x20   ;从键盘读取字符存放到R0</span><br><span class="line">    TRAP x21   ;回显用户输入的字符</span><br><span class="line">    </span><br><span class="line">    ADD R1, R0, #0   ;把R0的内容放入R1便于后续的比较</span><br><span class="line">    AND R3, R3, #0   ;把计数器R3清零</span><br><span class="line">    ADD R3, R3, #10  ;计数10次</span><br><span class="line">    </span><br><span class="line">    LD R2, ADDRESS   ;指针R2指向起始地址x3100</span><br><span class="line"></span><br><span class="line">    AND R0, R0, #0   ;把R0清零, 用于存放比较的结果</span><br><span class="line"></span><br><span class="line">LOOP:</span><br><span class="line">    LDR R4, R2, #0   ;把指针R2指向的地址内容放到R4里面进行后续比较</span><br><span class="line">    NOT R5, R4</span><br><span class="line">    ADD R5, R5, #1   ;对R4取补码, 放入R5中</span><br><span class="line">    ADD R5, R1, R5   ;用R1减去R5, 结果放入R5中</span><br><span class="line">    BRz YES          ;如果结果为0, 则说明该内存单元的内容和输入字符是一样的, 程序跳转到YES</span><br><span class="line">    </span><br><span class="line">    ADD R2, R2, #1   ;如果结果不为零, 则继续循环, 把指针加一</span><br><span class="line">    ADD R3, R3, #-1  ;计数器减一</span><br><span class="line">    BRp LOOP         ;如果计数器R3的值仍然大于零, 则重复循环, 直到等于零</span><br><span class="line">    </span><br><span class="line">    AND R0, R0, #0   ;如果循环了10次, 仍然没有找到内存中有相同的字符, 则把R0清零</span><br><span class="line">    BRnzp FINISH     ;跳转到程序结束</span><br><span class="line"></span><br><span class="line">YES:</span><br><span class="line">    ADD R0, R0, #1   ;把R0加1, 说明找到了</span><br><span class="line"></span><br><span class="line">FINISH:</span><br><span class="line">    HALT</span><br><span class="line"></span><br><span class="line">ADDRESS .FILL x3100</span><br><span class="line"></span><br><span class="line">.END</span><br></pre></td></tr></table></figure>
<h4 id="运行过程-2">运行过程</h4>
<p>如图,
在地址<code>x3100~x3109</code>处放入内容<code>123456789A</code></p>
<figure>
<img src="/source/images/LC-3/experiment3/step1.png" alt="图3.1" />
<figcaption aria-hidden="true">图3.1</figcaption>
</figure>
<p>输入<code>2</code>并回显, 把输入的内容放入<code>R1</code>中,
<code>R2</code>指向起始地址<code>x3100</code>,
其内容放入<code>R4</code>中, 然后比较<code>R4</code>和<code>R1</code>,
不为零, 继续循环</p>
<figure>
<img src="/source/images/LC-3/experiment3/step2.png" alt="图3.2" />
<figcaption aria-hidden="true">图3.2</figcaption>
</figure>
<p>第二次循环中, <code>R4</code>和<code>R1</code>的值相等,
程序跳转到<code>YES</code>, 把<code>R0</code>置为1</p>
<figure>
<img src="/source/images/LC-3/experiment3/step3.png" alt="图3.3" />
<figcaption aria-hidden="true">图3.3</figcaption>
</figure>
<p>在地址<code>x3100~x3109</code>处放入内容<code>Helloworld</code></p>
<figure>
<img src="/source/images/LC-3/experiment3/step4.png" alt="图3.4" />
<figcaption aria-hidden="true">图3.4</figcaption>
</figure>
<p>输入<code>A</code>并运行, 当<code>R2</code>指向<code>x310A</code>时,
没有相同的字符, <code>R0</code>置为0, 与预期一致</p>
<figure>
<img src="/source/images/LC-3/experiment3/step5.png" alt="图3.5" />
<figcaption aria-hidden="true">图3.5</figcaption>
</figure>
<h2 id="第二次实验">第二次实验</h2>
<h3 id="习题4">习题4</h3>
<p>从键盘读取一个字符, 并且统计一个文件中该字符出现的次数,
最后在显示器上显示该数值. 假设一个文件中任意字符的出现次数很小,
即最多只有9次. 文件存放于内存<code>x4000</code>地址起始的内存位置,
内容仅包含<code>1~9, a~z, A~Z</code>.</p>
<h4 id="实验步骤与实验思路-3">实验步骤与实验思路</h4>
<p>首先写好<code>.ORIG x3000</code>和<code>.END</code>.
<code>R0</code>用于读取和输出结果, <code>R1</code>存储键盘输入的结果,
用于和文件的内容比较, <code>R2</code>用作指针,
<code>R3</code>用作计数器. 首先进行初始化:
从键盘读取一个字符放入<code>R0</code>并回显,
把从键盘读取的内容放到<code>R1</code>里面, 供后续的比较,
指针<code>R2</code>指向文件的起始地址<code>x4000</code>,
把<code>R3</code>清零.</p>
<p>做好上述准备工作后, 我们开始编写主要的循环.</p>
<p>循环的开始记为<code>LOOP</code>,
首先把<code>R2</code>指针指向的地址的内容放到<code>R0</code>里面,
如果此时<code>R2</code>指向的地址的内容为空,
则直接跳转到<code>FINISH</code>显示结果; 如果内容不为空,
那么开始进行比较, 首先对<code>R1</code>取补码放到<code>R4</code>里面,
用<code>R0</code>加上<code>R4</code>, 如果结果不为零,
则跳转到<code>NO</code>,
这里<code>NO</code>就是将指针<code>R2</code>加一, 并且返回循环的开头;
如果结果为零, 则将计数器<code>R3</code>加一, 指针<code>R2</code>加一,
然后继续循环.</p>
<p>由于文件的结尾处为<code>0</code>,
所以当<code>R2</code>指向文件的结尾时, 循环结束,
程序跳转到<code>FINISH</code>,
此时计数器<code>R3</code>的内容就是文件中特定字符出现的次数,
但是如果想要把具体的数字打印到屏幕上,
则需要将<code>R3</code>内的数字转换成对应的ASCII码,
一个简单的方式就是加上<code>0</code>的ASCII码,
然后放入<code>R0</code>进行输出即可.</p>
<h4 id="具体实现-3">具体实现</h4>
<p>流程图如下:</p>
<p><img src="/source/images/LC-3/mermaid/pic4.png" /></p>
<p>代码如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">.ORIG x3000</span><br><span class="line"></span><br><span class="line">MAIN:</span><br><span class="line">    TRAP x20         ;从键盘读取字符放到R0里面</span><br><span class="line">    TRAP x21         ;回显</span><br><span class="line">    ADD R1, R0, #0   ;把读取的字符放到R1里面, 便于后续的比较  </span><br><span class="line">    LD R2, ADDRESS   ;指针R2指向文件起始位置x4000</span><br><span class="line">    AND R3, R3, #0   ;把R3清零, 用作计数器 </span><br><span class="line">    </span><br><span class="line">LOOP:</span><br><span class="line">    LDR R0, R2, #0   ;把指针R2指向的地址内容放入R0</span><br><span class="line">    BRz FINISH       ;如果读到0, 说明文件结束, 跳转到FINISH</span><br><span class="line">    </span><br><span class="line">    NOT R4, R1</span><br><span class="line">    ADD R4, R4, #1   ;把输入的内容R1取补码后放入R4</span><br><span class="line">    ADD R4, R0, R4   ;用R0-R4, 用于比较文件内容是否和输入内容相等</span><br><span class="line">    BRnp NO          ;如果结果非零, 说明不相等, 跳转到NO</span><br><span class="line"></span><br><span class="line">    ADD R3, R3, #1   ;如果结果为零, 说明相等, 计数器R3加一</span><br><span class="line">    </span><br><span class="line">NO:</span><br><span class="line">    ADD R2, R2, #1     ;指针R2加一</span><br><span class="line">    BRnzp LOOP         ;重复循环</span><br><span class="line"></span><br><span class="line">FINISH:</span><br><span class="line">    LD R0, ZERO_ASCII  ;把&#x27;0&#x27;的ASCII码放入R0</span><br><span class="line">    ADD R0, R0, R3     ;R0=&#x27;0&#x27;+R3</span><br><span class="line">    TRAP x21           ;显示R0的内容到屏幕上</span><br><span class="line">    HALT</span><br><span class="line"></span><br><span class="line">ADDRESS    .FILL x4000</span><br><span class="line">ZERO_ASCII .FILL x30    ;&#x27;0&#x27;的ASCII</span><br><span class="line"></span><br><span class="line">.END</span><br></pre></td></tr></table></figure>
<h4 id="运行过程-3">运行过程</h4>
<p>把程序加载到LC-3模拟器</p>
<figure>
<img src="/source/images/LC-3/experiment4/step1.png" alt="图4.1" />
<figcaption aria-hidden="true">图4.1</figcaption>
</figure>
<p>在地址<code>x4000~x400B</code>处设置内容为<code>1, 1, 4, 5, 1, 4, 1, 9, 1, 9, 8, 1, 0</code></p>
<figure>
<img src="/source/images/LC-3/experiment4/step2.png" alt="图4.2" />
<figcaption aria-hidden="true">图4.2</figcaption>
</figure>
<p>在键盘上输入<code>1</code>并回显</p>
<figure>
<img src="/source/images/LC-3/experiment4/step3.png" alt="图4.3" />
<figcaption aria-hidden="true">图4.3</figcaption>
</figure>
<p><code>R2</code>作为指针指向起始地址<code>x4001</code>,
<code>R0</code>内放入<code>R2</code>所指向的地址的内容,
计算<code>R0-R1</code>, 如果为0, 那么计数器<code>R3</code>就加一,
后续过程类似</p>
<figure>
<img src="/source/images/LC-3/experiment4/step4.png" alt="图4.4" />
<figcaption aria-hidden="true">图4.4</figcaption>
</figure>
<p>当<code>R2</code>指向<code>x400C</code>时, 其内容是空字符, 程序结束,
计数器<code>R3=6</code>, 符合预期</p>
<figure>
<img src="/source/images/LC-3/experiment4/step5.png" alt="图4.5" />
<figcaption aria-hidden="true">图4.5</figcaption>
</figure>
<p>设置地址<code>x4000~x400C</code>的内容为<code>Hello, world!</code></p>
<figure>
<img src="/source/images/LC-3/experiment4/step6.png" alt="图4.6" />
<figcaption aria-hidden="true">图4.6</figcaption>
</figure>
<p>键盘输入<code>l</code>并回显</p>
<figure>
<img src="/source/images/LC-3/experiment4/step7.png" alt="图4.7" />
<figcaption aria-hidden="true">图4.7</figcaption>
</figure>
<p>把<code>R0</code>的内容放入<code>R1</code>, <code>R2</code>作为指针,
其指向的内容放在<code>R0</code>中, 字符的比较过程同上</p>
<figure>
<img src="/source/images/LC-3/experiment4/step8.png" alt="图4.8" />
<figcaption aria-hidden="true">图4.8</figcaption>
</figure>
<figure>
<img src="/source/images/LC-3/experiment4/step9.png" alt="图4.9" />
<figcaption aria-hidden="true">图4.9</figcaption>
</figure>
<p>当<code>R2</code>指向<code>x400D</code>时, 程序结束,
计数器<code>R3=3</code>, 和预期一致</p>
<figure>
<img src="/source/images/LC-3/experiment4/step10.png" alt="图4.10" />
<figcaption aria-hidden="true">图4.10</figcaption>
</figure>
<h3 id="习题5">习题5</h3>
<p>将键盘编写的十进制或者十六进制常数(前缀<code>#</code>代表十进制,
前缀<code>x</code>代表十六进制)转换为二进制表达方式,
并且打印出来(假设常数表示时, 十进制或十六进制的数字不超过两个).
例如键盘输入<code>x2A</code>时, 程序输出<code>00101010</code>,
键盘输入<code>#12</code>时, 程序输出<code>00001100</code>.</p>
<h4 id="实验步骤与实验思路-4">实验步骤与实验思路</h4>
<p>首先写好<code>.ORIG x3000</code>和<code>.END</code>.</p>
<p>我们需要解决如下的几个问题:</p>
<ol type="1">
<li>如何根据输入的前缀是<code>#</code>或<code>x</code>来判断后续输入的是十进制还是十六进制?</li>
<li>如何判断输入的是单个字符还是两个字符?</li>
<li>如何把输入字符的ASCII码转化成对应的数值?</li>
<li>如何把对应的数值转化成二进制数?</li>
</ol>
<h5 id="问题1的解决方案">问题1的解决方案</h5>
<p>首先把<code>#</code>读取到<code>R1</code>寄存器中,
输入内容放到<code>R0</code>寄存器中, 计算<code>R0-R1</code>,
结果放入<code>R2</code>中,
根据<code>R2</code>是否为零来判断输入的前缀是否为<code>#</code>, 如果是,
那么程序跳转到<code>DEC_MODE</code>处理十进制输入; 如果不是,
那么程序继续往下执行, 把<code>x</code>读取到<code>R1</code>寄存器中,
计算<code>R0-R1</code>, 结果放入<code>R2</code>中,
根据<code>R2</code>是否为零来判断输入的前缀是否为<code>x</code>, 如果是,
那么程序跳转到<code>HEX_MODE</code>处理十六进制输入; 如果不是,
那么为无效输入, 程序直接结束, 跳转到<code>END</code>.</p>
<p>代码实现如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">TRAP x20           ;从键盘读取前缀字符到R0</span><br><span class="line">TRAP x21           ;回显</span><br><span class="line"></span><br><span class="line">;检查是否为十进制模式前缀&#x27;#&#x27;</span><br><span class="line">LD R1, DEC         ;R1=&#x27;#&#x27;的ASCII码</span><br><span class="line">NOT R1, R1</span><br><span class="line">ADD R1, R1, #1</span><br><span class="line">ADD R2, R0, R1     ;用R0-R1来判断输入字符是否为&#x27;#&#x27;, 结果放入R2中</span><br><span class="line">BRz DEC_MODE       ;如果相等, 跳转到十进制模式</span><br><span class="line"></span><br><span class="line">;检查是否为十六进制模式前缀&#x27;x&#x27;</span><br><span class="line">LD R1, HEX         ;R1=&#x27;x&#x27;的ASCII码</span><br><span class="line">NOT R1, R1</span><br><span class="line">ADD R1, R1, #1</span><br><span class="line">ADD R2, R0, R1     ;用R0-R1来判断输入字符是否为&#x27;x&#x27;, 结果放入R2中</span><br><span class="line">BRz HEX_MODE       ;如果相等, 跳转到十六进制模式</span><br><span class="line"></span><br><span class="line">BRnzp END          ;如果既不是&#x27;#&#x27;也不是&#x27;x&#x27;，直接结束程序</span><br></pre></td></tr></table></figure>
<h5 id="问题2的解决方案">问题2的解决方案</h5>
<h6 id="十进制输入">十进制输入</h6>
<p>先读取第一个数字字符到<code>R0</code>,
把<code>R0</code>内容先放入<code>R6</code>供后续使用.
然后读取第二个字符到<code>R0</code>,
把<code>R0</code>的内容放入<code>R5</code>供后续使用,
现在判断这个字符是数字字符还是回车. 如果是回车,
那么程序跳转至单个数字字符的处理子程序<code>DEC_SINGLE</code>;
如果是数字字符, 程序继续向下执行,
依次将第一个字符<code>R6</code>和第二个字符<code>R5</code>转化成对应的数值,
分别放在<code>R3</code>和<code>R4</code>中,
然后计算<code>10×R3+R4</code>的值, 最后把这个数转化成二进制进行输出.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">DEC_MODE:</span><br><span class="line">    TRAP x20           ;读取第一个数字到R0</span><br><span class="line">    TRAP x21           ;回显</span><br><span class="line">    </span><br><span class="line">    ADD R6, R0, #0     ;将R0保存到R6中, 在输入单个数字时要用到</span><br><span class="line">    </span><br><span class="line">    ;读取第二个字符(可能是数字或回车)</span><br><span class="line">    TRAP x20           ;读取第二个字符到R0</span><br><span class="line">    TRAP x21           ;回显</span><br><span class="line">    </span><br><span class="line">    ;保存第二个字符到R5, 因为后续转换会覆盖R0</span><br><span class="line">    ADD R5, R0, #0     ;R5=第二个字符</span><br><span class="line">    </span><br><span class="line">    ;检查第二个字符是否为回车键(表示只输入单个数字)</span><br><span class="line">    LD R1, ENTER_KEY   ;R1=回车键的ASCII码</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R2, R5, R1     ;用R5-R1来判断输入字符是否为回车, 结果放入R2中</span><br><span class="line">    BRz DEC_SINGLE     ;如果是回车键, 说明是单位数输入, 跳转到单个数字的处理子程序</span><br><span class="line">    </span><br><span class="line">    ;=====两位数输入处理=====</span><br><span class="line">    ;将第一个字符转换为数值</span><br><span class="line">    ADD R0, R6, #0       ;R0=之前保存的第一个字符</span><br><span class="line">    JSR ASCII_TO_DECIMAL ;调用子程序, 将第一位数字的ASCII码转换为十进制数值</span><br><span class="line">    ADD R3, R0, #0       ;把转换好的第一位数字的十进制数值放入R3中</span><br><span class="line"></span><br><span class="line">    ;将第二个字符转换为数值</span><br><span class="line">    ADD R0, R5, #0       ;R0=之前保存的第二个字符</span><br><span class="line">    JSR ASCII_TO_DECIMAL ;转换为数值</span><br><span class="line">    ADD R4, R0, #0       ;把转换好的第二位数字的十进制数值放入R4中</span><br><span class="line">    </span><br><span class="line">    ; 计算最终数值: 10×十位数+个位数</span><br><span class="line">    AND R2, R2, #0       ;R2=0(清零用于存储结果)</span><br><span class="line">    ADD R2, R2, R3       ;R2=十位数值</span><br><span class="line"></span><br><span class="line">    ; 计算 10 × 十位数</span><br><span class="line">    ADD R5, R2, R2     ;R5=2×R2</span><br><span class="line">    ADD R5, R5, R5     ;R5=4×R2</span><br><span class="line">    ADD R5, R5, R5     ;R5=8×R2</span><br><span class="line">    ADD R2, R2, R5     ;R2=9×R2</span><br><span class="line">    ADD R2, R2, R3     ;R2=10×R2</span><br><span class="line">    </span><br><span class="line">    ADD R2, R2, R4     ;R2=10×十位数+个位数</span><br></pre></td></tr></table></figure>
<p>这里我们顺便把处理单个字符的子程序<code>DEC_SINGLE</code>和把ASCII码转换成对应数值的子程序<code>ASCII _TO_DECIMAL</code>写好:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DEC_SINGLE:</span><br><span class="line">    ; 使用之前保存的数字字符进行转换</span><br><span class="line">    ADD R0, R6, #0       ;R0=之前保存到R6的数字字符</span><br><span class="line">    JSR ASCII_TO_DECIMAL ;转换为数值</span><br><span class="line">    ADD R2, R0, #0       ;R2=数值结果</span><br><span class="line"></span><br><span class="line">    BRnzp OUTPUT_BINARY  ;跳转到二进制输出</span><br></pre></td></tr></table></figure>
<h6 id="十六进制输入">十六进制输入</h6>
<p>和十进制类似,先读取第一个数字字符到<code>R0</code>,
把<code>R0</code>内容先放入<code>R6</code>供后续使用.
然后读取第二个字符到<code>R0</code>,
把<code>R0</code>的内容放入<code>R5</code>供后续使用,
判断这个字符是数字字符还是回车. 如果是回车,
那么程序跳转至单个数字字符的处理子程序<code>HEX_SINGLE</code>;
如果是数字字符, 程序继续向下执行,
依次将第一个字符<code>R6</code>和第二个字符<code>R5</code>转化成对应的数值,
分别放在<code>R3</code>和<code>R4</code>中,
然后计算<code>10×R3+R4</code>的值, 最后把这个数转化成二进制进行输出.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">HEX_MODE:</span><br><span class="line">    TRAP x20           ;读取第一个字符到R0里面</span><br><span class="line">    TRAP x21           ;回显</span><br><span class="line">    </span><br><span class="line">    ADD R6, R0, #0     ;将R0保存到R6中, 在输入单个数字时要用到</span><br><span class="line">    </span><br><span class="line">    ;读取第二个字符(可能是十六进制字符或回车)</span><br><span class="line">    TRAP x20           ;读取第二个字符到R0</span><br><span class="line">    TRAP x21           ;回显</span><br><span class="line">    </span><br><span class="line">    ;保存第二个字符到R5</span><br><span class="line">    ADD R5, R0, #0     ;R5=第二个字符</span><br><span class="line">    </span><br><span class="line">    ;检查第二个字符是否为回车键</span><br><span class="line">    LD R1, ENTER_KEY   ;R1=回车键ASCII码</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R2, R5, R1     ;用R5-R1来判断输入字符是否为回车, 结果放入R2中</span><br><span class="line">    BRz HEX_SINGLE     ;如果是回车键, 说明是单字符输入</span><br><span class="line">    </span><br><span class="line">    ;=====双字符输入处理=====</span><br><span class="line">    ;将第一个字符转换为十六进制数值</span><br><span class="line">    ADD R0, R6, #0     ;R0=之前保存的第一个字符</span><br><span class="line">    JSR ASCII_TO_HEX   ;调用子程序, 将第一位数字的ASCII码转换为十六进制数值</span><br><span class="line">    ADD R3, R0, #0     ;R3=高4位数值(0-15)</span><br><span class="line">    </span><br><span class="line">    ;将第二个字符转换为十六进制数值</span><br><span class="line">    ADD R0, R5, #0     ;R0=之前保存的第二个字符</span><br><span class="line">    JSR ASCII_TO_HEX   ;转换为数值</span><br><span class="line">    ADD R4, R0, #0     ;R4=低4位数值(0-15)</span><br><span class="line">    </span><br><span class="line">    ; 计算最终数值: 16×高4位+低4位</span><br><span class="line">    ADD R2, R3, #0     ;R2=高4位数值</span><br><span class="line">    </span><br><span class="line">    ; 计算16×高4位</span><br><span class="line">    ADD R2, R2, R2     ;R2×2</span><br><span class="line">    ADD R2, R2, R2     ;R2×4</span><br><span class="line">    ADD R2, R2, R2     ;R2×8</span><br><span class="line">    ADD R2, R2, R2     ;R2×16</span><br><span class="line">    </span><br><span class="line">    ADD R2, R2, R4     ;R2=16×高4位+低4位</span><br><span class="line">    </span><br><span class="line">    BRnzp OUTPUT_BINARY ;跳转到二进制输出</span><br></pre></td></tr></table></figure>
<p>其中:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HEX_SINGLE:</span><br><span class="line">    ADD R0, R6, #0     ;R0=R6之前保存的字符</span><br><span class="line">    JSR ASCII_TO_HEX   ;转换为十六进制数值</span><br><span class="line">    ADD R2, R0, #0     ;R2=数值结果</span><br></pre></td></tr></table></figure>
<h5 id="问题3的解决方案">问题3的解决方案</h5>
<p>在上面的问题2中,
我们已经用到了子程序<code>ASCII_TO_DECIMAL</code>和<code>ASCII_TO_HEX</code>,
其作用是把我们输入字符的ASCII码分别转换成对应的数值.</p>
<p>这里我们先来看一下ASCII的编码系统, 从而确定字符转换的程序.</p>
<table>
<thead>
<tr>
<th>字符类型</th>
<th>示例</th>
<th>ASCII码(十进制)</th>
<th>ASCII码(十六进制)</th>
</tr>
</thead>
<tbody>
<tr>
<td>数字字符</td>
<td>‘0’</td>
<td>48</td>
<td>x30</td>
</tr>
<tr>
<td>数字字符</td>
<td>‘1’</td>
<td>49</td>
<td>x31</td>
</tr>
<tr>
<td>数字字符</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>数字字符</td>
<td>‘9’</td>
<td>57</td>
<td>x39</td>
</tr>
<tr>
<td>大写字母</td>
<td>‘A’</td>
<td>65</td>
<td>x41</td>
</tr>
<tr>
<td>大写字母</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>大写字母</td>
<td>‘Z’</td>
<td>90</td>
<td>x5A</td>
</tr>
<tr>
<td>小写字母</td>
<td>‘a’</td>
<td>97</td>
<td>x61</td>
</tr>
<tr>
<td>小写字母</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>小写字母</td>
<td>‘z’</td>
<td>122</td>
<td>x7A</td>
</tr>
</tbody>
</table>
<p>当我们从键盘输入时, 存储到<code>R0</code>寄存器的是ASCII码,
而不是数值本身, 所以我们应该进行数值的转换, 对于数字,
根据上表可知只需要用数字字符对应的ASCII码直接减去<code>0</code>对应的ASCII码就可以得到该数字字符对应的数值了.
同样地, 对于十六进制大写字母,
只需要用大写字母对应的ASCII码直接减去’A’对应的ASCII码就可以得到该大写字母对应的数值了.</p>
<h6 id="十进制转换">十进制转换</h6>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ASCII_TO_DECIMAL:</span><br><span class="line">    ST R1, SAVE_R1     ;保存R1, 避免影响调用者</span><br><span class="line">    LD R1, ZERO_ASCII  ;R1=&#x27;0&#x27;的ASCII码</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R0, R0, R1     ;R0=ASCII字符-&#x27;0&#x27;</span><br><span class="line">    </span><br><span class="line">    ;检查结果是否在0~9范围内</span><br><span class="line">    ADD R1, R0, #0     ;R1=转换结果</span><br><span class="line">    BRn INVALID_DEC    ;如果小于0, 无效</span><br><span class="line">    ADD R1, R0, #-9    ;R1=结果-9</span><br><span class="line">    BRp INVALID_DEC    ;如果大于9, 无效</span><br><span class="line">    </span><br><span class="line">    ;如果结果R0在0~9范围内, 说明有效</span><br><span class="line">    LD R1, SAVE_R1     ;恢复R1</span><br><span class="line">    RET                ;返回</span><br><span class="line"></span><br><span class="line">INVALID_DEC:</span><br><span class="line">    AND R0, R0, #0     ;R0=0, 无效输入返回0</span><br><span class="line">    LD R1, SAVE_R1     ;恢复R1</span><br><span class="line">    RET                ;返回</span><br></pre></td></tr></table></figure>
<h6 id="十六进制转换">十六进制转换</h6>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">ASCII_TO_HEX:</span><br><span class="line">    ST R1, SAVE_R1     ;保存R1</span><br><span class="line">    ST R2, SAVE_R2     ;保存R2</span><br><span class="line">    </span><br><span class="line">    ;检查是否为数字字符&#x27;0&#x27;~&#x27;9&#x27;</span><br><span class="line">    LD R1, ZERO_ASCII  ;R1=&#x27;0&#x27;</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R2, R0, R1     ;R2=字符-&#x27;0&#x27;</span><br><span class="line">    BRn INVALID_HEX    ;如果小于&#x27;0&#x27;, 为无效字符</span><br><span class="line">    </span><br><span class="line">    ;检查是否在&#x27;0&#x27;~&#x27;9&#x27;范围内</span><br><span class="line">    ADD R1, R2, #-9    ;R1=(字符-&#x27;0&#x27;)-9</span><br><span class="line">    BRnz VALID_DEC     ;如果小于等于0, 说明是&#x27;0&#x27;~&#x27;9&#x27;, 有效</span><br><span class="line">    </span><br><span class="line">    ;检查是否为大写字母&#x27;A&#x27;~&#x27;F&#x27;</span><br><span class="line">    LD R1, A_ASCII     ;R1=&#x27;A&#x27;</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R2, R0, R1     ;R2=字符-&#x27;A&#x27;</span><br><span class="line">    BRn INVALID_HEX    ;如果小于0, 为无效字符</span><br><span class="line">    </span><br><span class="line">    ;检查是否在&#x27;A&#x27;~&#x27;F&#x27;范围内</span><br><span class="line">    ADD R1, R2, #-5    ;R1=(字符-&#x27;A&#x27;)-5</span><br><span class="line">    BRp INVALID_HEX    ;如果大于0, 说明大于&#x27;F&#x27;, 无效</span><br><span class="line">    </span><br><span class="line">    ;处理&#x27;A&#x27;~&#x27;F&#x27;字符</span><br><span class="line">    ADD R0, R2, #10    ;R0=(字符-&#x27;A&#x27;)+10</span><br><span class="line">    BRnzp HEX_DONE     ;跳转到完成</span><br><span class="line"></span><br><span class="line">; 处理&#x27;0&#x27;~&#x27;9&#x27;字符</span><br><span class="line">VALID_DEC:</span><br><span class="line">    ADD R0, R2, #0     ;R0=R2</span><br><span class="line">    BRnzp HEX_DONE     ;跳转到完成</span><br><span class="line"></span><br><span class="line">INVALID_HEX:</span><br><span class="line">    AND R0, R0, #0     ;R0=0</span><br><span class="line"></span><br><span class="line">HEX_DONE:</span><br><span class="line">    LD R1, SAVE_R1     ;恢复寄存器</span><br><span class="line">    LD R2, SAVE_R2</span><br><span class="line">    RET                ;返回</span><br></pre></td></tr></table></figure>
<h5 id="问题4的解决方案">问题4的解决方案</h5>
<p>接下来我们考虑如何将数值转换成对应的二进制码.
这里我们采用位检测和移位算法, 首先输入数值,
设置计数器的值为8(因为输出的是8位二进制数), 检查当前最高位,
如果最高位是1, 那么输出1, 然后左移一位; 如果最高位是0, 那么输出0,
然后左移一位. 此时把计数器减一, 如果计数器的值大于零, 那么继续循环,
直到完整循环了8次, 也就是输出8位二进制数了.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">OUTPUT_BINARY:</span><br><span class="line">    AND R1, R1, #0     ;初始化循环计数器R1</span><br><span class="line">    ADD R1, R1, #8     ;设置R1=8, 循环8次</span><br><span class="line">    </span><br><span class="line">LOOP:</span><br><span class="line">    ADD R2, R2, #0     ;设置条件码, 检查R2的符号位</span><br><span class="line">    BRn OUTPUT_ONE     ;如果最高位为1(负数)，跳转到输出&#x27;1&#x27;</span><br><span class="line">    </span><br><span class="line">    ;如果最高位为0, 输出&#x27;0&#x27;</span><br><span class="line">    LD R0, ZERO_ASCII  ;R0=&#x27;0&#x27;的ASCII码</span><br><span class="line">    TRAP x21           ;输出&#x27;0&#x27;</span><br><span class="line">    BRnzp SHIFT_NEXT   ;跳转到移位处理</span><br><span class="line"></span><br><span class="line">OUTPUT_ONE:</span><br><span class="line">    LD R0, ONE_ASCII   ;R0=&#x27;1&#x27;的ASCII码</span><br><span class="line">    TRAP x21           ;输出&#x27;1&#x27;</span><br><span class="line"></span><br><span class="line">SHIFT_NEXT:</span><br><span class="line">    ADD R2, R2, R2     ;R2左移一位</span><br><span class="line">    ADD R1, R1, #-1    ;计数器减1</span><br><span class="line">    BRp LOOP           ;如果计数器大于0, 继续循环</span><br><span class="line">    </span><br><span class="line">    ;输出换行, 使结果更清晰</span><br><span class="line">    LD R0, NEWLINE     ;R0=换行符</span><br><span class="line">    TRAP x21           ;输出换行</span><br></pre></td></tr></table></figure>
<p>后来我在debug的时候发现有个问题, LC-3是16位机器,
假如我输入<code>#12</code>(也就是十进制数<code>12</code>,
其二进制数为<code>0000_0000_0000_1100</code>), 循环8次后输出全是0,
永远也不可能输出1, 而我们仅仅关心低8位.
所以应该先把<code>R2</code>左移8位, 把低8位变成高8位,
改正后的代码如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">OUTPUT_BINARY:</span><br><span class="line">    ;将R2左移8次, 使低8位变为高8位</span><br><span class="line">    AND R1, R1, #0</span><br><span class="line">    ADD R1, R1, #8      ;先使用R1作为左移8次的计数器</span><br><span class="line">SHIFT_LOOP:</span><br><span class="line">    ADD R2, R2, R2      ;左移</span><br><span class="line">    ADD R1, R1, #-1</span><br><span class="line">    BRp SHIFT_LOOP</span><br><span class="line"></span><br><span class="line">    ; 现在设置输出循环计数器</span><br><span class="line">    AND R1, R1, #0</span><br><span class="line">    ADD R1, R1, #8</span><br><span class="line"></span><br><span class="line">LOOP:</span><br><span class="line">    ADD R2, R2, #0      ;设置条件码</span><br><span class="line">    BRn OUTPUT_ONE</span><br><span class="line">    LD R0, ZERO_ASCII</span><br><span class="line">    TRAP x21</span><br><span class="line">    BRnzp SHIFT_NEXT</span><br><span class="line">OUTPUT_ONE:</span><br><span class="line">    LD R0, ONE_ASCII</span><br><span class="line">    TRAP x21</span><br><span class="line">SHIFT_NEXT:</span><br><span class="line">    ADD R2, R2, R2      ;左移一位</span><br><span class="line">    ADD R1, R1, #-1</span><br><span class="line">    BRp LOOP</span><br></pre></td></tr></table></figure>
<h4 id="具体实现-4">具体实现</h4>
<p>流程图如下:</p>
<p><img src="/source/images/LC-3/mermaid/pic5.png" /></p>
<p>代码如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br></pre></td><td class="code"><pre><span class="line">.ORIG x3000</span><br><span class="line"></span><br><span class="line">MAIN:</span><br><span class="line">    TRAP x20           ;从键盘读取前缀字符到R0</span><br><span class="line">    TRAP x21           ;回显</span><br><span class="line">    </span><br><span class="line">    ;检查是否为十进制模式前缀&#x27;#&#x27;</span><br><span class="line">    LD R1, DEC         ;R1=&#x27;#&#x27;的ASCII码</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R2, R0, R1     ;用R0-R1来判断输入字符是否为&#x27;#&#x27;, 结果放入R2中</span><br><span class="line">    BRz DEC_MODE       ;如果相等, 跳转到十进制模式</span><br><span class="line">    </span><br><span class="line">    ;检查是否为十六进制模式前缀&#x27;x&#x27;</span><br><span class="line">    LD R1, HEX         ;R1=&#x27;x&#x27;的ASCII码</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R2, R0, R1     ;用R0-R1来判断输入字符是否为&#x27;x&#x27;, 结果放入R2中</span><br><span class="line">    BRz HEX_MODE       ;如果相等, 跳转到十六进制模式</span><br><span class="line">    </span><br><span class="line">    BRnzp END          ;如果既不是&#x27;#&#x27;也不是&#x27;x&#x27;，直接结束程序</span><br><span class="line"></span><br><span class="line">;*************************************************</span><br><span class="line">;****************下面是十进制模式******************</span><br><span class="line">;*************************************************</span><br><span class="line">DEC_MODE:</span><br><span class="line">    TRAP x20           ;读取第一个数字到R0</span><br><span class="line">    TRAP x21           ;回显</span><br><span class="line">    </span><br><span class="line">    ADD R6, R0, #0     ;将R0保存到R6中, 在输入单个数字时要用到</span><br><span class="line">    </span><br><span class="line">    ;读取第二个字符(可能是数字或回车)</span><br><span class="line">    TRAP x20           ;读取第二个字符到R0</span><br><span class="line">    TRAP x21           ;回显</span><br><span class="line">    </span><br><span class="line">    ;保存第二个字符到R5，因为后续转换会覆盖R0</span><br><span class="line">    ADD R5, R0, #0     ;R5=第二个字符</span><br><span class="line">    </span><br><span class="line">    ;检查第二个字符是否为回车键(表示只输入单个数字)</span><br><span class="line">    LD R1, ENTER_KEY   ;R1=回车键的ASCII码</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R2, R5, R1     ;用R5-R1来判断输入字符是否为回车, 结果放入R2中</span><br><span class="line">    BRz DEC_SINGLE     ;如果是回车键, 说明是单位数输入, 跳转到单个数字的处理子程序</span><br><span class="line">    </span><br><span class="line">    ;=====两位数输入处理=====</span><br><span class="line">    ;将第一个字符转换为数值</span><br><span class="line">    ADD R0, R6, #0          ;R0=之前保存的第一个字符</span><br><span class="line">    JSR ASCII_TO_DECIMAL    ;调用子程序，将第一位数字的ASCII码转换为十进制数值</span><br><span class="line">    ADD R3, R0, #0          ;把转换好的第一位数字的十进制数值放入R3中</span><br><span class="line">    </span><br><span class="line">    ;将第二个字符转换为数值</span><br><span class="line">    ADD R0, R5, #0          ;R0=之前保存的第二个字符</span><br><span class="line">    JSR ASCII_TO_DECIMAL    ;转换为数值</span><br><span class="line">    ADD R4, R0, #0          ;把转换好的第二位数字的十进制数值放入R4中</span><br><span class="line">    </span><br><span class="line">    ;计算最终数值: 10×十位数+个位数</span><br><span class="line">    AND R2, R2, #0     ;R2=0(清零用于存储结果)</span><br><span class="line">    ADD R2, R2, R3     ;R2=十位数值</span><br><span class="line"></span><br><span class="line">    ;计算10×十位数</span><br><span class="line">    ADD R5, R2, R2     ;R5=2×R2</span><br><span class="line">    ADD R5, R5, R5     ;R5=4×R2</span><br><span class="line">    ADD R5, R5, R5     ;R5=8×R2</span><br><span class="line">    ADD R2, R2, R5     ;R2=9×R2</span><br><span class="line">    ADD R2, R2, R3     ;R2=10×R2</span><br><span class="line">    </span><br><span class="line">    ADD R2, R2, R4     ;R2=10×十位数+个位数</span><br><span class="line">    </span><br><span class="line">    BRnzp OUTPUT_BINARY ;跳转到二进制输出</span><br><span class="line"></span><br><span class="line">;下面是处理单个十进制数字的子程序</span><br><span class="line">DEC_SINGLE:</span><br><span class="line">    ;使用之前保存的数字字符进行转换</span><br><span class="line">    ADD R0, R6, #0          ;R0=之前保存到R6的数字字符</span><br><span class="line">    JSR ASCII_TO_DECIMAL    ;转换为数值</span><br><span class="line">    ADD R2, R0, #0          ;R2=数值结果</span><br><span class="line"></span><br><span class="line">    BRnzp OUTPUT_BINARY     ;跳转到二进制输出</span><br><span class="line"></span><br><span class="line">;***************************************************</span><br><span class="line">;****************下面是十六进制模式******************</span><br><span class="line">;***************************************************</span><br><span class="line">HEX_MODE:</span><br><span class="line">    TRAP x20           ;读取第一个字符到R0里面</span><br><span class="line">    TRAP x21           ;回显</span><br><span class="line">    </span><br><span class="line">    ADD R6, R0, #0     ;将R0保存到R6中, 在输入单个数字时要用到</span><br><span class="line">    </span><br><span class="line">    ; 读取第二个字符(可能是十六进制字符或回车)</span><br><span class="line">    TRAP x20           ;读取第二个字符到R0</span><br><span class="line">    TRAP x21           ;回显</span><br><span class="line">    </span><br><span class="line">    ; 保存第二个字符到R5</span><br><span class="line">    ADD R5, R0, #0     ;R5=第二个字符</span><br><span class="line">    </span><br><span class="line">    ; 检查第二个字符是否为回车键</span><br><span class="line">    LD R1, ENTER_KEY   ;R1=回车键ASCII码</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R2, R5, R1     ;用R5-R1来判断输入字符是否为回车, 结果放入R2中</span><br><span class="line">    BRz HEX_SINGLE     ;如果是回车键, 说明是单字符输入</span><br><span class="line">    </span><br><span class="line">    ;=====双字符输入处理=====</span><br><span class="line">    ;将第一个字符转换为十六进制数值</span><br><span class="line">    ADD R0, R6, #0     ;R0=之前保存的第一个字符</span><br><span class="line">    JSR ASCII_TO_HEX   ;调用子程序, 将第一位数字的ASCII码转换为十六进制数值</span><br><span class="line">    ADD R3, R0, #0     ;R3=高4位数值(0-15)</span><br><span class="line">    </span><br><span class="line">    ;将第二个字符转换为十六进制数值</span><br><span class="line">    ADD R0, R5, #0     ;R0=之前保存的第二个字符</span><br><span class="line">    JSR ASCII_TO_HEX   ;转换为数值</span><br><span class="line">    ADD R4, R0, #0     ;R4=低4位数值(0-15)</span><br><span class="line">    </span><br><span class="line">    ;计算最终数值: 16×高4位+低4位</span><br><span class="line">    ADD R2, R3, #0     ;R2=高4位数值</span><br><span class="line">    </span><br><span class="line">    ;计算16×高4位</span><br><span class="line">    ADD R2, R2, R2     ;R2×2</span><br><span class="line">    ADD R2, R2, R2     ;R2×4</span><br><span class="line">    ADD R2, R2, R2     ;R2×8</span><br><span class="line">    ADD R2, R2, R2     ;R2×16</span><br><span class="line">    </span><br><span class="line">    ADD R2, R2, R4     ;R2=16×高4位+低4位</span><br><span class="line">    </span><br><span class="line">    BRnzp OUTPUT_BINARY ;跳转到二进制输出</span><br><span class="line"></span><br><span class="line">;下面是单个十六进制数字的处理</span><br><span class="line">HEX_SINGLE:</span><br><span class="line">    ADD R0, R6, #0     ;R0=R6之前保存的字符</span><br><span class="line">    JSR ASCII_TO_HEX   ;转换为十六进制数值</span><br><span class="line">    ADD R2, R0, #0     ;R2=数值结果</span><br><span class="line"></span><br><span class="line">;*****************************************************</span><br><span class="line">;****************下面是二进制输出程序******************</span><br><span class="line">;*****************************************************</span><br><span class="line">OUTPUT_BINARY:</span><br><span class="line">    ;将R2左移8次, 使低8位变为高8位</span><br><span class="line">    AND R1, R1, #0</span><br><span class="line">    ADD R1, R1, #8      ;先使用R1作为左移8次的计数器</span><br><span class="line">SHIFT_LOOP:</span><br><span class="line">    ADD R2, R2, R2      ;左移, 使得低8位变成高8位</span><br><span class="line">    ADD R1, R1, #-1</span><br><span class="line">    BRp SHIFT_LOOP</span><br><span class="line"></span><br><span class="line">    ; 现在设置输出循环计数器</span><br><span class="line">    AND R1, R1, #0</span><br><span class="line">    ADD R1, R1, #8</span><br><span class="line"></span><br><span class="line">LOOP:</span><br><span class="line">    ADD R2, R2, #0      ;设置条件码</span><br><span class="line">    BRn OUTPUT_ONE</span><br><span class="line">    LD R0, ZERO_ASCII</span><br><span class="line">    TRAP x21</span><br><span class="line">    BRnzp SHIFT_NEXT</span><br><span class="line">OUTPUT_ONE:</span><br><span class="line">    LD R0, ONE_ASCII</span><br><span class="line">    TRAP x21</span><br><span class="line">SHIFT_NEXT:</span><br><span class="line">    ADD R2, R2, R2      ;左移一位</span><br><span class="line">    ADD R1, R1, #-1</span><br><span class="line">    BRp LOOP</span><br><span class="line"></span><br><span class="line">END:</span><br><span class="line">    HALT               ;程序结束</span><br><span class="line"></span><br><span class="line">;********************************************************</span><br><span class="line">;***************子程序: ASCII转十进制数值*****************</span><br><span class="line">;********************************************************</span><br><span class="line">ASCII_TO_DECIMAL:</span><br><span class="line">    ST R1, SAVE_R1     ;保存R1, 避免影响调用者</span><br><span class="line">    LD R1, ZERO_ASCII  ;R1=&#x27;0&#x27;的ASCII码</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R0, R0, R1     ;R0=ASCII字符-&#x27;0&#x27;</span><br><span class="line">    </span><br><span class="line">    ;检查结果是否在0~9范围内</span><br><span class="line">    ADD R1, R0, #0     ;R1=转换结果</span><br><span class="line">    BRn INVALID_DEC    ;如果小于0, 无效</span><br><span class="line">    ADD R1, R0, #-9    ;R1=结果-9</span><br><span class="line">    BRp INVALID_DEC    ;如果大于9, 无效</span><br><span class="line">    </span><br><span class="line">    ;如果结果R0在0~9范围内, 说明有效</span><br><span class="line">    LD R1, SAVE_R1     ;恢复R1</span><br><span class="line">    RET                ;返回</span><br><span class="line"></span><br><span class="line">INVALID_DEC:</span><br><span class="line">    AND R0, R0, #0     ;R0=0, 无效输入返回0</span><br><span class="line">    LD R1, SAVE_R1     ;恢复R1</span><br><span class="line">    RET                ;返回</span><br><span class="line"></span><br><span class="line">;*********************************************************</span><br><span class="line">;**************子程序: ASCII转十六进制数值*****************</span><br><span class="line">;*********************************************************</span><br><span class="line">ASCII_TO_HEX:</span><br><span class="line">    ST R1, SAVE_R1     ;保存R1</span><br><span class="line">    ST R2, SAVE_R2     ;保存R2</span><br><span class="line">    </span><br><span class="line">    ;检查是否为数字字符&#x27;0&#x27;~&#x27;9&#x27;</span><br><span class="line">    LD R1, ZERO_ASCII  ;R1=&#x27;0&#x27;</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R2, R0, R1     ;R2=字符-&#x27;0&#x27;</span><br><span class="line">    BRn INVALID_HEX    ;如果小于&#x27;0&#x27;, 为无效字符</span><br><span class="line">    </span><br><span class="line">    ;检查是否在&#x27;0&#x27;~&#x27;9&#x27;范围内</span><br><span class="line">    ADD R1, R2, #-9    ;R1=(字符-&#x27;0&#x27;)-9</span><br><span class="line">    BRnz VALID_DEC     ;如果小于等于0, 说明是&#x27;0&#x27;~&#x27;9&#x27;, 有效</span><br><span class="line">    </span><br><span class="line">    ;检查是否为大写字母&#x27;A&#x27;~&#x27;F&#x27;</span><br><span class="line">    LD R1, A_ASCII     ;R1=&#x27;A&#x27;</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R2, R0, R1     ;R2=字符-&#x27;A&#x27;</span><br><span class="line">    BRn INVALID_HEX    ;如果小于0, 为无效字符</span><br><span class="line">    </span><br><span class="line">    ;检查是否在&#x27;A&#x27;~&#x27;F&#x27;范围内</span><br><span class="line">    ADD R1, R2, #-5    ;R1=(字符-&#x27;A&#x27;)-5</span><br><span class="line">    BRp INVALID_HEX    ;如果大于0, 说明大于&#x27;F&#x27;, 无效</span><br><span class="line">    </span><br><span class="line">    ;处理&#x27;A&#x27;~&#x27;F&#x27;字符</span><br><span class="line">    ADD R0, R2, #10    ;R0=(字符-&#x27;A&#x27;)+10</span><br><span class="line">    BRnzp HEX_DONE     ;跳转到完成</span><br><span class="line"></span><br><span class="line">;处理&#x27;0&#x27;~&#x27;9&#x27;字符</span><br><span class="line">VALID_DEC:</span><br><span class="line">    ADD R0, R2, #0     ;R0=R2</span><br><span class="line">    BRnzp HEX_DONE     ;跳转到完成</span><br><span class="line"></span><br><span class="line">INVALID_HEX:</span><br><span class="line">    AND R0, R0, #0     ;R0=0</span><br><span class="line"></span><br><span class="line">HEX_DONE:</span><br><span class="line">    LD R1, SAVE_R1     ;恢复寄存器</span><br><span class="line">    LD R2, SAVE_R2</span><br><span class="line">    RET                ;返回</span><br><span class="line"></span><br><span class="line">;数据定义</span><br><span class="line">DEC           .FILL x23   ;&#x27;#&#x27;的ASCII码</span><br><span class="line">HEX           .FILL x78   ;&#x27;x&#x27;的ASCII码</span><br><span class="line">ZERO_ASCII    .FILL x30   ;&#x27;0&#x27;的ASCII码</span><br><span class="line">ONE_ASCII     .FILL x31   ;&#x27;1&#x27;的ASCII码</span><br><span class="line">A_ASCII       .FILL x41   ;&#x27;A&#x27;的ASCII码</span><br><span class="line">ENTER_KEY     .FILL x0A   ;回车键的ASCII码</span><br><span class="line"></span><br><span class="line">SAVE_R1       .BLKW 1     ;用于保存R1</span><br><span class="line">SAVE_R2       .BLKW 1     ;用于保存R2</span><br><span class="line"></span><br><span class="line">.END</span><br></pre></td></tr></table></figure>
<h4 id="运行过程-4">运行过程</h4>
<p>把程序加载到LC-3模拟器</p>
<figure>
<img src="/source/images/LC-3/experiment5/step1.png" alt="图5.1" />
<figcaption aria-hidden="true">图5.1</figcaption>
</figure>
<p>输入<code>#</code>并回显, 程序跳转到十进制模式</p>
<figure>
<img src="/source/images/LC-3/experiment5/step2.png" alt="图5.2" />
<figcaption aria-hidden="true">图5.2</figcaption>
</figure>
<p>依次输入<code>1</code>和<code>2</code>并回显,
<code>1</code>保存在<code>R6</code>中,
<code>2</code>保存在<code>R5</code>中,
如图<code>R6=x0031, R5=x0032</code></p>
<figure>
<img src="/source/images/LC-3/experiment5/step3.png" alt="图5.3" />
<figcaption aria-hidden="true">图5.3</figcaption>
</figure>
<p>运行<code>ASCII_TO_DECIMAL</code>, 输入的数字字符转化成对应的数值,
分别存放在<code>R3</code>和<code>R4</code>中,
如图<code>R3=1, R4=2</code>, 计算<code>R3×10+R4</code>,
结果放进<code>R2</code>中, 即<code>R2=x000C</code>;
且为了进行二进制输出, 我们把<code>R2</code>左移了8位,
所以<code>R2=x0C00</code>.</p>
<figure>
<img src="/source/images/LC-3/experiment5/step4.png" alt="图5.4" />
<figcaption aria-hidden="true">图5.4</figcaption>
</figure>
<p>输出结果为<code>00001100</code>, 与预期一致</p>
<figure>
<img src="/source/images/LC-3/experiment5/step5.png" alt="图5.5" />
<figcaption aria-hidden="true">图5.5</figcaption>
</figure>
<p>下面测试的是<code>#9[空格]</code></p>
<figure>
<img src="/source/images/LC-3/experiment5/step6.png" alt="图5.6" />
<figcaption aria-hidden="true">图5.6</figcaption>
</figure>
<p>左移8位后, <code>R2=x0900</code></p>
<figure>
<img src="/source/images/LC-3/experiment5/step7.png" alt="图5.7" />
<figcaption aria-hidden="true">图5.7</figcaption>
</figure>
<p>二进制输出为<code>00001001</code>, 与预期一致</p>
<figure>
<img src="/source/images/LC-3/experiment5/step8.png" alt="图5.8" />
<figcaption aria-hidden="true">图5.8</figcaption>
</figure>
<p>下面测试十六进制, 输入<code>x</code>, 程序跳转至十六进制模式</p>
<figure>
<img src="/source/images/LC-3/experiment5/step9.png" alt="图5.9" />
<figcaption aria-hidden="true">图5.9</figcaption>
</figure>
<p>输入<code>xA6</code>, 输出<code>10100110</code></p>
<figure>
<img src="/source/images/LC-3/experiment5/step10.png" alt="图5.10" />
<figcaption aria-hidden="true">图5.10</figcaption>
</figure>
<p>输入<code>xC[空格]</code>, 输出<code>00001100</code></p>
<figure>
<img src="/source/images/LC-3/experiment5/step11.png" alt="图5.11" />
<figcaption aria-hidden="true">图5.11</figcaption>
</figure>
<h3 id="习题6">习题6</h3>
<p>采用轮询方式的控制外设,
通过键盘进行输入并在控制台屏幕显示大写的字母<code>A~I</code>,
要求利用LC-3处理器提供的如下表所示的设备端口,
使用设备端口寄存器来实现键盘输入与显示终端显示的功能.
设备端口寄存器的内存映射如下:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>Location</th>
<th>I/O Register</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>xFE00</code></td>
<td>键盘状态寄存器(KBSR)</td>
<td>当键盘接收到一个新字符时, 位[15]为1.</td>
</tr>
<tr>
<td><code>xFE02</code></td>
<td>键盘数据寄存器(KBDR)</td>
<td>位[7:0]包含键盘上键入的最后一个字符.</td>
</tr>
<tr>
<td><code>xFE04</code></td>
<td>显示状态寄存器(DSR)</td>
<td>当设备准备在屏幕上显示另一个字符时, 位[15]是1.</td>
</tr>
<tr>
<td><code>xFE06</code></td>
<td>显示数据寄存器(DDR)</td>
<td>写入位[7:0]的字符将显示在屏幕上.</td>
</tr>
</tbody>
</table>
<h4 id="实验步骤与实验思路-5">实验步骤与实验思路</h4>
<p>首先写好<code>.ORIG x3000</code>和<code>.END</code>.
由于我们使用轮询的方式控制外设,
所以先考虑如何实现键盘输入和显示器输出的轮询,
思路就是<code>R0</code>读取键盘状态寄存器<code>KBSR</code>(<code>LDI R0 KBSR_ADDRESS</code>,
<code>KBSR_ADDRESS .FILL xFE00</code>), 如果最高位是0, 表示没有新的字符,
继续轮询; 如果最高位是1(也就是说<code>KBSR</code>寄存器的内容是负数),
表示有新字符,
这时<code>R0</code>读取键盘数据寄存器<code>KBDR</code>进行后续的操作(<code>LDI R0 KBDR_ADDRESS</code>,
<code>KBDR_ADDRESS .FILL xFE02</code>). 类似地, 对于输出轮询,
<code>R1</code>读取显示状态寄存器<code>DSR</code>(<code>LDI R1 DSR_ADDRESS</code>,
<code>DSR_ADDRESS .FILL xFE04</code>), 如果最高位是0, 表示显示器忙,
继续轮询; 如果最高位是1(也就是说<code>DSR</code>寄存器的内容是负数),
表示显示器准备就绪,
这时<code>R1</code>读取显示数据寄存器<code>DDR</code>进行显示(<code>LDI R1 DDR_ADDRESS</code>,
<code>DDR_ADDRESS .FILL xFE06</code>).</p>
<p>我们期望在键盘上依次输入<code>A~I</code>,
期望在显示器上依次回显<code>A~I</code>,
所以我们可以先把一个寄存器依次初始化为<code>A, B, ..., I</code>,
然后依次和我们的输入相比, 如果一致, 则输出该字符; 如果不一致,
则要求重新输入.</p>
<h4 id="具体实现-5">具体实现</h4>
<p>流程图如下:</p>
<p><img src="/source/images/LC-3/mermaid/pic6.png" /></p>
<p>代码如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">.ORIG x3000</span><br><span class="line">MAIN:</span><br><span class="line">    LD R2, A_ASCII  ;把&#x27;A&#x27;的ASCII码放到R2里面, 和输入进行比较</span><br><span class="line">    </span><br><span class="line">LOOP:</span><br><span class="line">    TRAP x20        ;读取输入到R0</span><br><span class="line">    NOT R1, R2</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R1, R0, R1  ;计算R0-R2判断输入和期望是否一致, 结果放入R1</span><br><span class="line">    BRnp LOOP       ;如果结果不为零, 说明不一致, 重新输入</span><br><span class="line">    </span><br><span class="line">    ADD R3, R0, #0  ;如果一致, 把R0放入R3输出</span><br><span class="line">    TRAP x21        ;输出</span><br><span class="line">    </span><br><span class="line">    LD R1, I_ASCII  ;把&#x27;I&#x27;的ASCII码放到R1里面, 和输入进行比较</span><br><span class="line">    NOT R1, R1</span><br><span class="line">    ADD R1, R1, #1</span><br><span class="line">    ADD R1, R2, R1  ;计算R2-R1, 判断当前输入字符是否为&#x27;I&#x27;</span><br><span class="line">    BRz FINISH      ;如果是, 那么程序结束</span><br><span class="line">    </span><br><span class="line">    ADD R2, R2, #1  ;如果不是, 那么R2＋1, 即R2初始化为下一个期望得到的字符</span><br><span class="line">    BRnzp LOOP      ;输入</span><br><span class="line"></span><br><span class="line">FINISH:</span><br><span class="line">    HALT</span><br><span class="line"></span><br><span class="line">A_ASCII .FILL x41           ; &#x27;A&#x27;的ASCII码</span><br><span class="line">I_ASCII .FILL x49           ; &#x27;I&#x27;的ASCII码</span><br><span class="line"></span><br><span class="line">.END</span><br></pre></td></tr></table></figure>
<h4 id="运行过程-5">运行过程</h4>
<p>把程序加载进LC-3模拟器</p>
<figure>
<img src="/source/images/LC-3/experiment6/step1.png" alt="图6.1" />
<figcaption aria-hidden="true">图6.1</figcaption>
</figure>
<p>输入字符<code>A</code>, 成功输出</p>
<figure>
<img src="/source/images/LC-3/experiment6/step2.png" alt="图6.2" />
<figcaption aria-hidden="true">图6.2</figcaption>
</figure>
<p>输入字符<code>g</code>, 未输出</p>
<figure>
<img src="/source/images/LC-3/experiment6/step3.png" alt="图6.3" />
<figcaption aria-hidden="true">图6.3</figcaption>
</figure>
<p>下面依次输入字符<code>BCDEFGHI</code>, 都成功回显,
当输入为<code>I</code>时, 回显后程序结束</p>
<figure>
<img src="/source/images/LC-3/experiment6/step4.png" alt="图6.4" />
<figcaption aria-hidden="true">图6.4</figcaption>
</figure>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/11/09/LC-3Lab/" rel="prev" title="">
                  <i class="fa fa-angle-left"></i> 
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">SiyuanLei</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
