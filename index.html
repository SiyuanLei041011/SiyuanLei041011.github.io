<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="SiyuanLei&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="SiyuanLei&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="SiyuanLei">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>SiyuanLei's Blog</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">SiyuanLei's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="SiyuanLei"
      src="/images/femboy.jpg">
  <p class="site-author-name" itemprop="name">SiyuanLei</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/SiyuanLei041011" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;SiyuanLei041011" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:SiyuanLei041011@gmail.com" title="E-Mail → mailto:SiyuanLei041011@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/Esther041011" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;Esther041011" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://arxiv.org/" title="https:&#x2F;&#x2F;arxiv.org&#x2F;" rel="noopener" target="_blank">Arxiv</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://libgen.onl/library-genesis/" title="https:&#x2F;&#x2F;libgen.onl&#x2F;library-genesis&#x2F;" rel="noopener" target="_blank">LibGen</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="http://down.wlwkw.cn:8888/" title="http:&#x2F;&#x2F;down.wlwkw.cn:8888&#x2F;" rel="noopener" target="_blank">EBook</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/07/First/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/07/First/" class="post-title-link" itemprop="url">First</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-05-07 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-07T00:00:00+08:00">2025-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-05-09 14:47:25" itemprop="dateModified" datetime="2025-05-09T14:47:25+08:00">2025-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/math/" itemprop="url" rel="index"><span itemprop="name">math</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>量子力学</p>
<p><span class="math inline">\(\hat{H}\Psi=E\Psi\)</span></p>
<p>这是薛定谔方程.</p>
<blockquote>
<p>Hilbert Space <span
class="math inline">\(\langle\phi|\mathcal{O}|\psi\rangle\)</span></p>
</blockquote>
<p><span class="math inline">\(P^{-1}AP=A&#39;\)</span></p>
<p><span
class="math inline">\(\displaystyle\int_{-\infty}^{+\infty}e^{-x^2}\mathrm{d}x\)</span></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/07/Python%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/07/Python%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">Python数据分析</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-05-07 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-07T00:00:00+08:00">2025-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-26 16:05:38" itemprop="dateModified" datetime="2025-06-26T16:05:38+08:00">2025-06-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="准备工作">准备工作</h2>
<h3 id="ipython">IPython</h3>
<p>在cmd命令行输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install ipython</span><br></pre></td></tr></table></figure>
<p>安装ipython.安装完成后在控制台输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ipyhton</span><br></pre></td></tr></table></figure>
<p>进入ipython交互式环境.</p>
<p>输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quit</span><br></pre></td></tr></table></figure>
<p>退出环境.</p>
<h3 id="jupyter">Jupyter</h3>
<p>在cmd命令行输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install notebook</span><br><span class="line">pip install jupyterlab-language-pack-zh-CN</span><br></pre></td></tr></table></figure>
<p>安装Jupyter Notebook和中文语言包.</p>
<p>安装完成后在控制台输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook</span><br></pre></td></tr></table></figure>
<p>浏览器就会自动打开Jupyter界面.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/04/Matlab/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/04/Matlab/" class="post-title-link" itemprop="url">MATLAB基础</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-05-04 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-04T00:00:00+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-05-21 17:07:44" itemprop="dateModified" datetime="2025-05-21T17:07:44+08:00">2025-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CS/MATLAB/" itemprop="url" rel="index"><span itemprop="name">MATLAB</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="基本指令">基本指令</h2>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span>;b=<span class="number">2</span>;c=<span class="number">3</span>;                  <span class="comment">%%命令行</span></span><br><span class="line">sum=<span class="number">1</span>+<span class="number">1</span>/<span class="number">2</span>+<span class="number">1</span>/<span class="number">3</span>+<span class="number">1</span>/<span class="number">4</span>+<span class="number">1</span>/<span class="number">5</span>+<span class="number">1</span>/<span class="number">6</span>+...</span><br><span class="line">    <span class="number">1</span>/<span class="number">7</span>+<span class="number">1</span>/<span class="number">8</span>+<span class="number">1</span>/<span class="number">9</span>;              <span class="comment">%%...是续行符，可以写多行命令</span></span><br><span class="line">clc                           <span class="comment">%%清除命令</span></span><br><span class="line">clear                         <span class="comment">%%清除变量</span></span><br><span class="line">clear 变量名                  <span class="comment">%%清除某个变量</span></span><br><span class="line">format short\long\bank（保留小数点后两位）\shortE\longE\hex(<span class="number">16</span>进制)\<span class="built_in">rat</span>（分数）</span><br></pre></td></tr></table></figure>
<h2 id="数据类型">数据类型</h2>
<h3 id="字符和数字">字符和数字</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">s=<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="built_in">abs</span>(s);                       <span class="comment">%%输出s对应字符的ASCII码</span></span><br><span class="line">char(<span class="number">65</span>);                     <span class="comment">%%输出ASCII码为65对应的字符</span></span><br><span class="line">num2str(<span class="number">65</span>);                  <span class="comment">%%输出字符‘65’</span></span><br><span class="line">str=<span class="string">&#x27;I love U&#x27;</span>;</span><br><span class="line"><span class="built_in">length</span>(str);                  <span class="comment">%%输出str的长度</span></span><br><span class="line">a=<span class="number">6</span>+<span class="number">5</span><span class="built_in">i</span>;b=<span class="number">6</span>+<span class="number">6</span><span class="built_in">j</span>                 <span class="comment">%%a，b都是复数</span></span><br><span class="line">x=<span class="number">4</span>;</span><br><span class="line"><span class="built_in">complex</span>(<span class="number">2</span>,x)                  <span class="comment">%%生成实部为2，虚部为x的复数</span></span><br><span class="line"><span class="built_in">real</span>(a);                      <span class="comment">%%求复数的实部</span></span><br><span class="line"><span class="built_in">imag</span>(a);                      <span class="comment">%%求复数的虚部</span></span><br><span class="line"><span class="built_in">abs</span>(a);                       <span class="comment">%%求复数的模</span></span><br><span class="line"><span class="built_in">angle</span>(a);                     <span class="comment">%%求复数的辐角</span></span><br><span class="line"><span class="built_in">conj</span>(a);                      <span class="comment">%%求共轭复数</span></span><br></pre></td></tr></table></figure>
<h3 id="矩阵">矩阵</h3>
<h4 id="矩阵基本运算">矩阵基本运算</h4>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">A=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line">B=A.&#x27;;                        <span class="comment">%%A的转置</span></span><br><span class="line">B=A&#x27;;                         <span class="comment">%%A的共轭转置</span></span><br><span class="line">C=A(:);                       <span class="comment">%%把A中的所有元素排成一列</span></span><br><span class="line">D=inv(A);                     <span class="comment">%%A的逆矩阵</span></span><br><span class="line">E=[A,A;A,A];                  <span class="comment">%%把矩阵A拼接</span></span><br><span class="line">F=<span class="built_in">rot90</span>(A,k);                 <span class="comment">%%将A矩阵逆时针旋转90°的k倍</span></span><br><span class="line">G=<span class="built_in">fliplr</span>(A);                  <span class="comment">%%左右翻转</span></span><br><span class="line">H=<span class="built_in">flipud</span>(A);                  <span class="comment">%%上下翻转</span></span><br><span class="line">A*D;                          <span class="comment">%%矩阵乘法</span></span><br><span class="line">A.*D;                         <span class="comment">%%矩阵对应元素相乘</span></span><br><span class="line">A/D;                          <span class="comment">%%相当于A*inv（D）</span></span><br><span class="line">A./D;                         <span class="comment">%%矩阵对应元素相除</span></span><br><span class="line">A+D;                          <span class="comment">%%矩阵对应元素相加</span></span><br><span class="line">A-D;                          <span class="comment">%%矩阵对应元素相减</span></span><br><span class="line">det(A);                       <span class="comment">%%计算A的行列式</span></span><br><span class="line">adj(A);                       <span class="comment">%%计算A的伴随矩阵</span></span><br><span class="line">cond(A);                      <span class="comment">%%计算A的条件数condition，数值越小越正常</span></span><br><span class="line">rank(A);                      <span class="comment">%%计算A的秩</span></span><br><span class="line">trace(A);                     <span class="comment">%%计算A的迹</span></span><br><span class="line">eig(A);                       <span class="comment">%%计算A的特征值</span></span><br><span class="line">A=[<span class="number">1</span>:<span class="number">3</span>;<span class="number">4</span>:<span class="number">6</span>];</span><br><span class="line">B=<span class="built_in">reshape</span>(A,<span class="number">3</span>,<span class="number">2</span>);             <span class="comment">%%把A按顺序变成三行两列的矩阵</span></span><br></pre></td></tr></table></figure>
<h4 id="矩阵生成">矩阵生成</h4>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">E=zero(<span class="number">10</span>,<span class="number">5</span>,<span class="number">3</span>);               <span class="comment">%%生成10行5列3层矩阵</span></span><br><span class="line">E=zero(<span class="number">10</span>,<span class="number">5</span>);                 <span class="comment">%%生成10行5列矩阵</span></span><br><span class="line">E=<span class="built_in">rand</span>(<span class="number">2</span>,<span class="number">3</span>);                  <span class="comment">%%生成0~1之间的随机数</span></span><br><span class="line">E=<span class="built_in">randn</span>(<span class="number">3</span>,<span class="number">2</span>);                 <span class="comment">%%生成均值为0，方差为1的随机数</span></span><br><span class="line">E=randi([<span class="built_in">min</span>,<span class="built_in">max</span>],m,n);       <span class="comment">%%生成在开区间[min，max]之间随机整数的m行n列矩阵</span></span><br><span class="line">A=<span class="number">1</span>:<span class="number">2</span>:<span class="number">9</span>;                      <span class="comment">%%A=[1,3,5,7,9]</span></span><br><span class="line">str=<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>:<span class="string">&#x27;z&#x27;</span>;                <span class="comment">%%str=[a,b,...,z]</span></span><br><span class="line">B=<span class="built_in">repmat</span>(A,<span class="number">3</span>,<span class="number">2</span>);              <span class="comment">%%把A先竖着重复3次，再横着重复2次</span></span><br><span class="line">C=<span class="built_in">ones</span>(<span class="number">2</span>,<span class="number">4</span>);                  <span class="comment">%%生成2行4列的元素全部为1的矩阵</span></span><br><span class="line">D=<span class="built_in">eye</span>(<span class="number">5</span>);                     <span class="comment">%%生成5阶单位阵</span></span><br><span class="line">E=<span class="built_in">magic</span>(<span class="number">3</span>);                   <span class="comment">%%生成3阶幻方（就是每行，每列，对角线元素之和相等的方阵）</span></span><br><span class="line">F=<span class="built_in">vander</span>([<span class="number">1</span>;<span class="number">3</span>;<span class="number">5</span>;<span class="number">8</span>]);          <span class="comment">%%生成范德蒙德矩阵，其中a1=1,a2=3,a3=5,a4=8</span></span><br></pre></td></tr></table></figure>
<h4 id="矩阵分析">矩阵分析</h4>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">A=<span class="built_in">magic</span>(<span class="number">5</span>);</span><br><span class="line">B=A(<span class="number">2</span>,<span class="number">3</span>);                     <span class="comment">%%取A的第2行第3列的元素</span></span><br><span class="line">C=A(<span class="number">8</span>);                       <span class="comment">%%取A的第8个元素</span></span><br><span class="line">D=A([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]);                 <span class="comment">%%取A的第1,3,5个元素作为一个行向量</span></span><br><span class="line">E=A([<span class="number">1</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">3</span>]);             <span class="comment">%%取A的第1,3行与第2,3列相交处的元素,相当于取子式！！！</span></span><br><span class="line">F=A([<span class="number">1</span>,<span class="number">3</span>;<span class="number">2</span>,<span class="number">3</span>]);               <span class="comment">%%取A的第1,3个元素作为第一行，第2,3个元素作为第二行（与D类似）</span></span><br><span class="line">G=A(<span class="number">3</span>,:);G=A(:;<span class="number">2</span>:<span class="number">4</span>);G=A(<span class="number">2</span>:<span class="number">3</span>;<span class="number">1</span>:<span class="number">2</span>:<span class="number">5</span>)            <span class="comment">%%取A的第三行;取A的2,3,4列;取A的第2,3行和第1,2,5,列交叉处的元素</span></span><br><span class="line">A(<span class="number">3</span>,:)=[];A(:,[<span class="number">2</span>,<span class="number">4</span>])=[];      <span class="comment">%%删去A的第三行;删去A的第2,4列元素</span></span><br><span class="line">H=A(:,<span class="number">4</span>);                     <span class="comment">%%取A的第四列</span></span><br><span class="line">I=<span class="built_in">sub2ind</span>(<span class="built_in">size</span>(A),[<span class="number">1</span>,<span class="number">2</span>;<span class="number">2</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">1</span>;<span class="number">3</span>,<span class="number">2</span>]);       <span class="comment">%%将A中的A(1,1),A(2,1);A(2,3),A(2,2)的序号组成一个2×2的矩阵</span></span><br><span class="line">[<span class="built_in">i</span>,<span class="built_in">j</span>]=<span class="built_in">ind2sub</span>(<span class="built_in">size</span>(A),[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]);               <span class="comment">%%将矩阵A的第1,3,5个元素的下标输出</span></span><br><span class="line">J=A(<span class="keyword">end</span>,:)/J=A([<span class="number">1</span>,<span class="number">4</span>],<span class="number">3</span>:<span class="keyword">end</span>);                  <span class="comment">%%取A的最后一行的元素、取A的第1,4行与从第3~最后一列交叉处的元素</span></span><br><span class="line">K=<span class="built_in">diag</span>(A);                    <span class="comment">%%取A的主对角线上的元素</span></span><br><span class="line">L=<span class="built_in">diag</span>([<span class="number">1</span>,<span class="number">-3</span>,<span class="number">4</span>,<span class="number">5</span>]);           <span class="comment">%%将1，-2,4,5排成对角阵</span></span><br><span class="line">[m,n]=<span class="built_in">find</span>(A&gt;<span class="number">20</span>);             <span class="comment">%%找出A中大于20的元素的行标（即m）和列标（即对应于m的n）</span></span><br><span class="line">I=<span class="built_in">find</span>(A==<span class="number">5</span>);                 <span class="comment">%%找出A中等于5的元素的序号</span></span><br><span class="line"><span class="built_in">max</span>(A);                       <span class="comment">%%找出A中每列的最大的元素</span></span><br><span class="line"><span class="built_in">max</span>(<span class="built_in">max</span>(A));                  <span class="comment">%%找出A中最大的元素，min同理</span></span><br><span class="line">sum(A);                       <span class="comment">%%求A每列元素之和</span></span><br><span class="line">sum(sum(A));                  <span class="comment">%%求A所有元素之和</span></span><br><span class="line"><span class="built_in">mean</span>(A);                      <span class="comment">%%求A每列元素的平均数</span></span><br><span class="line"><span class="built_in">mean</span>(<span class="built_in">mean</span>(A));                <span class="comment">%%求A所有元素的平均数</span></span><br><span class="line"><span class="built_in">sort</span>(A);                      <span class="comment">%%每列元素按照从小到大顺序排列</span></span><br><span class="line">sortrow(A);                   <span class="comment">%%按第一列元素从小到大排列</span></span><br><span class="line"><span class="built_in">size</span>(A);                      <span class="comment">%%输出A的行数和列数</span></span><br><span class="line"><span class="built_in">length</span>(A);                    <span class="comment">%%输出A的最长维的维数</span></span><br><span class="line"><span class="built_in">numel</span>(A);                     <span class="comment">%%输出A的元素的个数</span></span><br></pre></td></tr></table></figure>
<h2 id="数学运算">数学运算</h2>
<h3 id="一般函数">一般函数</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sin</span>/<span class="built_in">cos</span>/<span class="built_in">tan</span>/<span class="built_in">asin</span>/<span class="built_in">acos</span>/<span class="built_in">atan</span>/<span class="built_in">sinh</span>/<span class="built_in">cosh</span>/<span class="built_in">tanh</span>;    <span class="comment">%%三角函数</span></span><br><span class="line"><span class="built_in">sqrt</span>(<span class="number">9</span>);                       <span class="comment">%%9的平方根</span></span><br><span class="line"><span class="built_in">log</span>()/<span class="built_in">log10</span>()/<span class="built_in">log2</span>;            <span class="comment">%%自然对数、常用对数、以2为底的对数函数</span></span><br><span class="line"><span class="built_in">exp</span>();                         <span class="comment">%%不解释</span></span><br><span class="line"><span class="built_in">pow2</span>;                          <span class="comment">%%2的幂,相当于平方</span></span><br><span class="line"><span class="built_in">abs</span>();                         <span class="comment">%%绝对值</span></span><br><span class="line"><span class="built_in">rem</span>(<span class="number">10</span>,<span class="number">3</span>);                     <span class="comment">%%求余数</span></span><br><span class="line"><span class="built_in">mod</span>(<span class="number">10</span>,<span class="number">3</span>);                     <span class="comment">%%求模</span></span><br><span class="line"><span class="built_in">gcd</span>(<span class="number">150</span>,<span class="number">95</span>);                   <span class="comment">%%最大公约数</span></span><br><span class="line"><span class="built_in">lcm</span>(<span class="number">10</span>,<span class="number">3</span>);                     <span class="comment">%%最小公倍数</span></span><br><span class="line"><span class="built_in">factorial</span>(<span class="number">5</span>);                  <span class="comment">%%5的阶乘</span></span><br><span class="line"><span class="built_in">isprime</span>(<span class="number">6</span>);                    <span class="comment">%%判断6是不是素数，如果是输出1，否则输出0</span></span><br><span class="line"><span class="built_in">primes</span>(<span class="number">9</span>);                     <span class="comment">%%生成1~9内所有的素数</span></span><br><span class="line"><span class="built_in">perms</span>(A);                      <span class="comment">%%生成A的所有的排列，A为行向量</span></span><br><span class="line">randperm(<span class="number">10</span>);                  <span class="comment">%%生成1~10的随机排列</span></span><br></pre></td></tr></table></figure>
<h3 id="矩阵函数">矩阵函数</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sqrtm(A);                     <span class="comment">%%对矩阵中所有元素开方</span></span><br><span class="line">logm(A);                      <span class="comment">%%对矩阵中所有元素取自然对数</span></span><br><span class="line">expm(A);                      <span class="comment">%%对矩阵中所有元素取指数</span></span><br></pre></td></tr></table></figure>
<h3 id="逻辑运算">逻辑运算</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;/&lt;=;                         <span class="comment">%%小于、小于等于</span></span><br><span class="line">&gt;/&gt;=;                         <span class="comment">%%大于、大于等于</span></span><br><span class="line">==/~=;                        <span class="comment">%%等于、不等于</span></span><br><span class="line">eq(a,b);                      <span class="comment">%%判断a、b是否相等，相等输出1，不相等输出0</span></span><br><span class="line">a&amp;b/and(a,b);                 <span class="comment">%%“与”，a、b全部非0时，输出1；a、b只要有一个为0，输出0</span></span><br><span class="line">a|b;or(a,b);                  <span class="comment">%%a、b只要有一个不为0，输出1；a、b全为0时，输出0</span></span><br><span class="line">~a/not(a);                    <span class="comment">%%a是0时，输出1；a不为0时，输出0</span></span><br><span class="line">xor(a,b);                     <span class="comment">%%a、b值不同时，输出1；a、b值相同时，输出0</span></span><br></pre></td></tr></table></figure>
<h3 id="字符串运算">字符串运算</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">str=<span class="string">&#x27;Xidian University&#x27;</span>;</span><br><span class="line">str=<span class="string">&#x27;I&#x27;&#x27;m a student&#x27;</span>;             <span class="comment">%%当字符串中含有&#x27;时，打两个&#x27;&#x27;</span></span><br><span class="line">ch=[<span class="string">&#x27;abcdef&#x27;</span>;<span class="string">&#x27;123456&#x27;</span>];           <span class="comment">%%字符串矩阵</span></span><br><span class="line">ch=<span class="string">&#x27;ABc123d4e56Fg9&#x27;</span>;</span><br><span class="line">str=ch(<span class="number">1</span>:<span class="number">5</span>);                      <span class="comment">%%取ch的前5个元素</span></span><br><span class="line">str=ch(<span class="keyword">end</span>:<span class="number">-1</span>:<span class="number">1</span>);                 <span class="comment">%%将ch倒着排列</span></span><br><span class="line">place=<span class="built_in">find</span>(ch&gt;=<span class="string">&#x27;a&#x27;</span>&amp;ch&lt;=<span class="string">&#x27;z&#x27;</span>);      <span class="comment">%%找到小写字母的位置</span></span><br><span class="line">ch(place)=ch(place)-<span class="string">&#x27;a&#x27;</span>+<span class="string">&#x27;A&#x27;</span>;      <span class="comment">%%将小写字母换成大写字母</span></span><br><span class="line"><span class="built_in">length</span>(place);                    <span class="comment">%%计算小写字母的数量</span></span><br><span class="line"></span><br><span class="line">str=<span class="string">&#x27;MATLAB&#x27;</span>;</span><br><span class="line">a=<span class="built_in">abs</span>(str);                       <span class="comment">%%将str里面的字符转化成ASCII码</span></span><br><span class="line">b=char(a+<span class="number">32</span>);                     <span class="comment">%%将ASCII码加32后再转化成对应的字符</span></span><br><span class="line"></span><br><span class="line">ch=[str1,str2,str3];</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;www0&#x27;</span>&gt;=<span class="string">&#x27;w123&#x27;</span>;                   <span class="comment">%%比较这两个字符串中各个元素的大小，输出1110</span></span><br><span class="line">strcmp(str1,str2);                <span class="comment">%%比较两个字符串是否相等，相等输出1，否则输出0</span></span><br><span class="line">strncmp(str1,str2,n);             <span class="comment">%%比较两个字符串的前n个元素是否相等</span></span><br><span class="line">strcmpi(str1,str2);               <span class="comment">%%忽略大小写，比较两个字符串是否相等</span></span><br><span class="line">strncmpi(str1,str2,n);            <span class="comment">%%忽略大小写,比较两个字符串的前n个元素是否相等</span></span><br><span class="line"></span><br><span class="line">findstr(str1,str2);               <span class="comment">%%输出str2在str1中开始的位置</span></span><br><span class="line">strrep(str1,str2,str3);           <span class="comment">%%将str1中的str2替换为str3</span></span><br></pre></td></tr></table></figure>
<h2 id="结构体">结构体</h2>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">A=cell(<span class="number">1</span>,<span class="number">6</span>);                      <span class="comment">%%生成A=[][][][][][]</span></span><br><span class="line">A&#123;<span class="number">2</span>&#125;=<span class="built_in">eye</span>(<span class="number">3</span>);                      <span class="comment">%%A=[][eye(3)][][][][]</span></span><br><span class="line">A&#123;<span class="number">6</span>&#125;=<span class="built_in">magic</span>(<span class="number">5</span>);                    <span class="comment">%%A=[][eye(3)][][][][magic(5)]</span></span><br><span class="line">B=A&#123;<span class="number">6</span>&#125;;                           <span class="comment">%%取出A中第六个元素，即magic（5）</span></span><br><span class="line">   </span><br><span class="line">A=cell(<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line">A(<span class="number">1</span>,<span class="number">1</span>)=&#123;[<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>;<span class="number">0</span>,<span class="number">5</span>,<span class="number">8</span>;<span class="number">7</span>,<span class="number">2</span>,<span class="number">9</span>]&#125;;</span><br><span class="line">A(<span class="number">1</span>,<span class="number">2</span>)=&#123;<span class="string">&#x27;Fourier&#x27;</span>&#125;;</span><br><span class="line">A(<span class="number">2</span>,<span class="number">1</span>)=&#123;<span class="number">3</span>+<span class="number">7</span><span class="built_in">i</span>&#125;;</span><br><span class="line">A(<span class="number">2</span>,<span class="number">2</span>)=&#123;<span class="number">1</span>:<span class="number">2</span>:<span class="number">9</span>&#125;;</span><br><span class="line">A&#123;<span class="number">1</span>,<span class="number">1</span>&#125;;                           <span class="comment">%%输出[1,4,3;0,5,8;7,2,9]</span></span><br><span class="line">A&#123;<span class="number">1</span>,<span class="number">1</span>&#125;(<span class="number">2</span>,<span class="number">3</span>);                      <span class="comment">%%取出A&#123;1,1&#125;矩阵中的第二行第三列的元素</span></span><br><span class="line">A(<span class="number">1</span>,<span class="number">1</span>);                           <span class="comment">%%输出[3x3double]</span></span><br><span class="line">A&#123;<span class="number">2</span>,<span class="number">2</span>&#125;;                           <span class="comment">%%输出[1,3,5,7,9]</span></span><br><span class="line"></span><br><span class="line">books=struct(<span class="string">&#x27;name&#x27;</span>,&#123;&#123;<span class="string">&#x27;fourier&#x27;</span>,<span class="string">&#x27;laplace&#x27;</span>&#125;&#125;,<span class="string">&#x27;price&#x27;</span>,[<span class="number">30</span>,<span class="number">40</span>]);</span><br><span class="line">books.name(<span class="number">1</span>);                    <span class="comment">%%输出‘fourier’</span></span><br><span class="line">books.name&#123;<span class="number">1</span>&#125;;                    <span class="comment">%%输出fourier</span></span><br><span class="line"></span><br><span class="line">A=struct(<span class="string">&#x27;data&#x27;</span>,[<span class="number">3</span>,<span class="number">4</span>,<span class="number">7</span>;<span class="number">8</span>,<span class="number">0</span>,<span class="number">1</span>],<span class="string">&#x27;nest&#x27;</span>,struct(<span class="string">&#x27;testnum&#x27;</span>,<span class="string">&#x27;test1&#x27;</span>,<span class="string">&#x27;xdata&#x27;</span>,[<span class="number">4</span>,<span class="number">2</span>,<span class="number">8</span>],<span class="string">&#x27;ydata&#x27;</span>,[<span class="number">7</span>,<span class="number">1</span>,<span class="number">6</span>]));</span><br><span class="line">A(<span class="number">2</span>).data=[<span class="number">9</span>,<span class="number">2</span>,<span class="number">6</span>;<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>];</span><br><span class="line">A(<span class="number">2</span>).nest.testnum=<span class="string">&#x27;test2&#x27;</span>;</span><br><span class="line">A(<span class="number">2</span>).nest.xdata=[<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>];</span><br><span class="line">A(<span class="number">2</span>).nest.ydata=[<span class="number">5</span>,<span class="number">0</span>,<span class="number">9</span>];</span><br><span class="line">A.nest;</span><br><span class="line">A(<span class="number">1</span>).nest.testnum;</span><br><span class="line">A(<span class="number">1</span>).nest.xdata;</span><br><span class="line">A(<span class="number">2</span>).nest.ydata;</span><br></pre></td></tr></table></figure>
<h2 id="程序设计">程序设计</h2>
<h3 id="顺序结构">顺序结构</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">A=input(<span class="string">&#x27;请输入A矩阵：&#x27;</span>);</span><br><span class="line">A=input(<span class="string">&#x27;what&#x27;&#x27;s your name?&#x27;</span>);            <span class="comment">%%输入字符的时候要加上&#x27;&#x27;</span></span><br><span class="line">A=input(<span class="string">&#x27;what&#x27;&#x27;s your name?&#x27;</span>,<span class="string">&#x27;s&#x27;</span>);        <span class="comment">%%输入字符的时候不用加&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">A=<span class="string">&#x27;Hello World!&#x27;</span>;</span><br><span class="line"><span class="built_in">disp</span>(A);                                  <span class="comment">%%输出项只能是字符串或者是矩阵，如果要输出数字的话要用num2str()将数字转化成数字字符</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%%例题：解方程a*x^2+b*x+c=0</span></span><br><span class="line">a=input(<span class="string">&#x27;请输入a的值&#x27;</span>);</span><br><span class="line">b=input(<span class="string">&#x27;请输入b的值&#x27;</span>);</span><br><span class="line">c=input(<span class="string">&#x27;请输入c的值&#x27;</span>);</span><br><span class="line">delta=b*b<span class="number">-4</span>*a*c;</span><br><span class="line">x=[(-b+<span class="built_in">sqrt</span>(delta))/(<span class="number">2</span>*a),(-b-<span class="built_in">sqrt</span>(delta))/(<span class="number">2</span>*a)];</span><br><span class="line"><span class="built_in">disp</span>([<span class="string">&#x27;x1=&#x27;</span>,num2str(x(<span class="number">1</span>)),<span class="string">&#x27;，x2=&#x27;</span>,num2str(x(<span class="number">2</span>))]);</span><br></pre></td></tr></table></figure>
<h3 id="选择结构">选择结构</h3>
<h4 id="if语句">if语句</h4>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">x=input(<span class="string">&#x27;请输入x的值&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> x==<span class="number">10</span></span><br><span class="line">    y=<span class="built_in">cos</span>(x+<span class="number">1</span>)+<span class="built_in">sqrt</span>(x*x+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    y=x*<span class="built_in">sqrt</span>(x+<span class="built_in">sqrt</span>(x));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c=input(<span class="string">&#x27;请输入一个字符&#x27;</span>,<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> c&gt;=<span class="string">&#x27;A&#x27;</span>&amp;&amp;c&lt;=<span class="string">&#x27;Z&#x27;</span></span><br><span class="line">    <span class="built_in">disp</span>(lower(c));</span><br><span class="line"><span class="keyword">elseif</span> c&gt;=<span class="string">&#x27;a&#x27;</span>&amp;&amp;c&lt;=<span class="string">&#x27;z&#x27;</span></span><br><span class="line">    <span class="built_in">disp</span>(upper(c));</span><br><span class="line"><span class="keyword">elseif</span> c&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;c&lt;=<span class="string">&#x27;9&#x27;</span></span><br><span class="line">    <span class="built_in">disp</span>(str2num(c)^<span class="number">2</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">disp</span>(c);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h4 id="switch语句">switch语句</h4>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">price=input(<span class="string">&#x27;请输入商品价格&#x27;</span>);</span><br><span class="line">  <span class="keyword">switch</span> <span class="built_in">fix</span>(price/<span class="number">100</span>)             <span class="comment">%%fix函数是将数字向0的方向取整</span></span><br><span class="line">      <span class="keyword">case</span> &#123;<span class="number">0</span>,<span class="number">1</span>&#125;</span><br><span class="line">          rate=<span class="number">0</span>;</span><br><span class="line">      <span class="keyword">case</span> &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line">          rate=<span class="number">3</span>/<span class="number">100</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="built_in">num2cell</span>(<span class="number">5</span>:<span class="number">9</span>)            <span class="comment">%%num2cell函数是将数值矩阵转化成单元矩阵&#123;5,6,7,8,9&#125;</span></span><br><span class="line">          rate=<span class="number">5</span>/<span class="number">100</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="built_in">num2cell</span>(<span class="number">10</span>:<span class="number">24</span>)</span><br><span class="line">          rate=<span class="number">8</span>/<span class="number">100</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="built_in">num2cell</span>(<span class="number">24</span>:<span class="number">49</span>)</span><br><span class="line">          rate=<span class="number">10</span>/<span class="number">100</span>;</span><br><span class="line">      <span class="keyword">otherwise</span></span><br><span class="line">          rate=<span class="number">14</span>/<span class="number">100</span>;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  price=price*(<span class="number">1</span>-rate)</span><br></pre></td></tr></table></figure>
<h3 id="循环结构">循环结构</h3>
<h4 id="for语句">for语句</h4>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">flower=[];                      <span class="comment">%%判断水仙花数，这是开一个空矩阵</span></span><br><span class="line">    <span class="keyword">for</span> m=<span class="number">100</span>:<span class="number">999</span>;</span><br><span class="line">        m1=<span class="built_in">fix</span>(m/<span class="number">100</span>);          <span class="comment">%%取百位</span></span><br><span class="line">        m2=<span class="built_in">rem</span>(<span class="built_in">fix</span>(m/<span class="number">10</span>),<span class="number">10</span>);   <span class="comment">%%取十位</span></span><br><span class="line">        m3=<span class="built_in">rem</span>(m,<span class="number">10</span>);           <span class="comment">%%取个位</span></span><br><span class="line">        <span class="keyword">if</span> m==m1^<span class="number">3</span>+m2^<span class="number">3</span>+m3^<span class="number">3</span></span><br><span class="line">            flower=[flower,m];  <span class="comment">%%这个语句的意思是将m添加到flower中</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">disp</span>(flower)</span><br><span class="line">  </span><br><span class="line">sum=<span class="number">0</span>;</span><br><span class="line">n=<span class="number">100</span>;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:n</span><br><span class="line">    sum=sum+<span class="number">1</span>/(<span class="built_in">i</span>*<span class="built_in">i</span>);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h4 id="while语句">while语句</h4>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sum=<span class="number">0</span>;</span><br><span class="line">n=<span class="number">0</span>;</span><br><span class="line">x=input(<span class="string">&#x27;输入一个数（直到输入0时结束循环）&#x27;</span>);</span><br><span class="line"><span class="keyword">while</span> x~=<span class="number">0</span></span><br><span class="line">    sum=sum+x;</span><br><span class="line">    n=n+<span class="number">1</span>;</span><br><span class="line">    x=input(<span class="string">&#x27;输入一个数（直到输入0时结束循环）&#x27;</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">if</span> n&gt;<span class="number">0</span></span><br><span class="line">    sum</span><br><span class="line">    <span class="built_in">mean</span>=sum/n</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h4 id="break和continue语句">break和continue语句</h4>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> n=<span class="number">100</span>:<span class="number">200</span><span class="comment">%%求100~200之间第一个能被21整除的数</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">rem</span>(n,<span class="number">21</span>)~=<span class="number">0</span></span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    n</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h4 id="循环的嵌套">循环的嵌套</h4>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 循环变量=初值:步长:终值</span><br><span class="line">    执行语句<span class="number">1</span>；</span><br><span class="line">    执行语句<span class="number">2</span>；</span><br><span class="line">    ...</span><br><span class="line">    执行语句n；</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> 条件表达式<span class="comment">%%(1为真，0为假)</span></span><br><span class="line">    执行语句<span class="number">1</span>；</span><br><span class="line">    执行语句<span class="number">2</span>；</span><br><span class="line">    ...</span><br><span class="line">    执行语句n；</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> 条件表达式<span class="comment">%%(1为真，0为假)</span></span><br><span class="line">    执行语句<span class="number">1</span>；</span><br><span class="line">    执行语句<span class="number">2</span>；</span><br><span class="line">    ...</span><br><span class="line">    执行语句n；</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> 条件表达式<span class="comment">%%(1为真，0为假)</span></span><br><span class="line">    执行语句<span class="number">1</span>；</span><br><span class="line">    执行语句<span class="number">2</span>；</span><br><span class="line">    ...</span><br><span class="line">    执行语句n；</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    执行语句<span class="number">1</span>；</span><br><span class="line">    执行语句<span class="number">2</span>；</span><br><span class="line">    ...</span><br><span class="line">    执行语句n；</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> 表达式(数值或字符串)</span><br><span class="line">    <span class="keyword">case</span> 数值或字符串<span class="number">1</span></span><br><span class="line">        语句<span class="number">1</span></span><br><span class="line">    <span class="keyword">case</span> 数值或字符串<span class="number">2</span></span><br><span class="line">        语句<span class="number">2</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="keyword">case</span> 数值或字符串n</span><br><span class="line">        语句n</span><br><span class="line">    <span class="keyword">otherwise</span>(可省略)</span><br><span class="line">        语句</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="函数">函数</h2>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sum=<span class="number">0</span>;</span><br><span class="line">n=input(<span class="string">&#x27;请输入n的值&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:n</span><br><span class="line">    sum=sum+<span class="built_in">factor</span>(<span class="built_in">i</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">disp</span>([<span class="string">&#x27;1到&#x27;</span>,num2str(n),<span class="string">&#x27;的阶乘的和为&#x27;</span>,num2str(sum)]);</span><br></pre></td></tr></table></figure>
<h2 id="绘图">绘图</h2>
<h3 id="二维图像">二维图像</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">100</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">y=<span class="number">2</span>*<span class="built_in">exp</span>(<span class="number">-0.5</span>*x).*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*x);<span class="comment">%%2是标量，exp和sin是矩阵，所以2和exp是数量乘法，exp和sin是点乘</span></span><br><span class="line"><span class="built_in">plot</span>(x,y);</span><br><span class="line">xlim([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>]);</span><br><span class="line"></span><br><span class="line">t=-<span class="built_in">pi</span>:<span class="built_in">pi</span>/<span class="number">100</span>:<span class="built_in">pi</span>;</span><br><span class="line">x=t.*<span class="built_in">cos</span>(<span class="number">3</span>*t);</span><br><span class="line">y=t.*<span class="built_in">sin</span>(t).*<span class="built_in">sin</span>(t);</span><br><span class="line"><span class="built_in">plot</span>(x,y);<span class="comment">%%参数方程</span></span><br><span class="line"></span><br><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);<span class="comment">%%生成0~2*pi，元素个数为100的行向量</span></span><br><span class="line">y=[<span class="built_in">sin</span>(x);<span class="built_in">cos</span>(x)];</span><br><span class="line"><span class="built_in">plot</span>(x,y);</span><br><span class="line">xlim([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>]);</span><br><span class="line"></span><br><span class="line">t=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">x=[t;t]&#x27;;</span><br><span class="line">y=[<span class="built_in">sin</span>(t);<span class="built_in">cos</span>(t)]&#x27;;</span><br><span class="line"><span class="built_in">plot</span>(x,y);</span><br><span class="line"></span><br><span class="line">t=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">x=[t;t];</span><br><span class="line">y=[<span class="built_in">sin</span>(t);<span class="built_in">cos</span>(t)];</span><br><span class="line"><span class="built_in">plot</span>(x,y);<span class="comment">%%这是个什么玩意儿？？？</span></span><br><span class="line"></span><br><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line"><span class="built_in">plot</span>(x,<span class="built_in">sin</span>(x),x,<span class="number">2</span>*<span class="built_in">sin</span>(x),x,<span class="number">3</span>*<span class="built_in">sin</span>(x));</span><br><span class="line">xlim([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>]);</span><br><span class="line"></span><br><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">y1=<span class="built_in">sin</span>(x);</span><br><span class="line">y2=<span class="number">2</span>*<span class="built_in">sin</span>(x);</span><br><span class="line">y3=<span class="number">3</span>*<span class="built_in">sin</span>(x);</span><br><span class="line">x=[x;x;x]&#x27;;<span class="comment">%%注意变成行向量</span></span><br><span class="line">y=[y1;y2;y3]&#x27;;</span><br><span class="line"><span class="built_in">plot</span>(x,y,x,<span class="built_in">cos</span>(x));</span><br><span class="line">xlim([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>]);</span><br><span class="line"></span><br><span class="line">x=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">200</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">y1=<span class="built_in">exp</span>(<span class="number">-0.5</span>*x).*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*x);</span><br><span class="line">y2=<span class="built_in">sin</span>(x);</span><br><span class="line">plotyy(x,y1,x,y2);<span class="comment">%%双纵坐标，左边是y1，右边是y2</span></span><br><span class="line"></span><br><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">10</span>,<span class="number">100</span>);<span class="comment">%%产生自变量向量x</span></span><br><span class="line">y=[];<span class="comment">%%y的初始值为空</span></span><br><span class="line"><span class="keyword">for</span> x0=x<span class="comment">%%将函数值追加到y中</span></span><br><span class="line">    <span class="keyword">if</span> x0&gt;=<span class="number">8</span></span><br><span class="line">        y=[y,<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">elseif</span> x0&gt;=<span class="number">6</span>&amp;&amp;x0&lt;<span class="number">8</span></span><br><span class="line">        y=[y,<span class="number">5</span>-x0/<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">elseif</span> x0&gt;=<span class="number">4</span>&amp;&amp;x0&lt;<span class="number">6</span></span><br><span class="line">        y=[y,<span class="number">2</span>]</span><br><span class="line">    <span class="keyword">elseif</span> x0&gt;=<span class="number">0</span>&amp;&amp;x0&lt;<span class="number">4</span></span><br><span class="line">        y=[y,<span class="built_in">sqrt</span>(x0)];</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">plot</span>(x,y);</span><br><span class="line">axis([<span class="number">0</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">2.5</span>]);<span class="comment">%%设置坐标轴，x坐标轴是[0，10]，y坐标轴是[0,2.5]</span></span><br><span class="line">title(<span class="string">&#x27;分段函数曲线&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Variable X&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Variable Y&#x27;</span>);</span><br><span class="line">text(<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="string">&#x27;y=x^&#123;1/2&#125;&#x27;</span>);<span class="comment">%%在指定位置处添加图形说明</span></span><br><span class="line">text(<span class="number">4.5</span>,<span class="number">1.9</span>,<span class="string">&#x27;y=2&#x27;</span>);</span><br><span class="line">text(<span class="number">7.3</span>,<span class="number">1.5</span>,<span class="string">&#x27;y=5-x/2&#x27;</span>);</span><br><span class="line">text(<span class="number">8.5</span>,<span class="number">0.9</span>,<span class="string">&#x27;y=1&#x27;</span>);</span><br><span class="line"></span><br><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">60</span>);</span><br><span class="line">y=<span class="built_in">sin</span>(x);</span><br><span class="line">z=<span class="built_in">cos</span>(x);</span><br><span class="line">t=<span class="built_in">tan</span>(x);</span><br><span class="line">ct=<span class="built_in">cot</span>(x);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>);<span class="comment">%%将当前图形窗口分割成2×2，并选中1号区</span></span><br><span class="line"><span class="built_in">plot</span>(x,y);</span><br><span class="line">title(<span class="string">&#x27;sinx&#x27;</span>);axis([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">-1</span>,<span class="number">1</span>]);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">plot</span>(x,z);</span><br><span class="line">title(<span class="string">&#x27;cosx&#x27;</span>);axis([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">-1</span>,<span class="number">1</span>]);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="built_in">plot</span>(x,t);</span><br><span class="line">title(<span class="string">&#x27;tanx&#x27;</span>);axis([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">-40</span>,<span class="number">40</span>]);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>);</span><br><span class="line"><span class="built_in">plot</span>(x,ct);</span><br><span class="line">title(<span class="string">&#x27;cotx&#x27;</span>);axis([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">-40</span>,<span class="number">40</span>]);</span><br><span class="line"></span><br><span class="line">x=<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">10</span>;</span><br><span class="line">y=<span class="number">10</span>*x.*x;</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(x,y);title(<span class="string">&#x27;直角坐标曲线&#x27;</span>);grid;</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line">semilogx(x,y);title(<span class="string">&#x27;x半对数坐标曲线&#x27;</span>);grid;</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">semilogy(x,y);title(<span class="string">&#x27;y半对数坐标曲线&#x27;</span>);grid;</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>);</span><br><span class="line">loglog(x,y);title(<span class="string">&#x27;全对数坐标曲线&#x27;</span>);grid;</span><br><span class="line"></span><br><span class="line">x=<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">y=<span class="built_in">sin</span>(x);</span><br><span class="line"><span class="built_in">figure</span>;<span class="comment">%%建立一个幕布，可以不写</span></span><br><span class="line"><span class="built_in">plot</span>(x,y);</span><br><span class="line">title(<span class="string">&#x27;y=sin(x)&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;x&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;y&#x27;</span>);</span><br><span class="line">xlim([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>]);<span class="comment">%%右端对齐</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">hold</span> on<span class="comment">%%图形保持</span></span><br><span class="line"><span class="built_in">plot</span>(<span class="built_in">cos</span>(<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">20</span>:<span class="number">2</span>*<span class="built_in">pi</span>));</span><br><span class="line"><span class="built_in">plot</span>(<span class="built_in">sin</span>(<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">20</span>:<span class="number">2</span>*<span class="built_in">pi</span>));</span><br><span class="line"><span class="built_in">hold</span> off</span><br><span class="line"></span><br><span class="line">x=(<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">100</span>:<span class="number">2</span>*<span class="built_in">pi</span>)&#x27;;</span><br><span class="line">y1=<span class="number">2</span>*<span class="built_in">exp</span>(<span class="number">-0.5</span>*x)*[<span class="number">1</span>,<span class="number">-1</span>];<span class="comment">%%这是包络线</span></span><br><span class="line"><span class="built_in">plot</span>(x,y1,<span class="string">&#x27;b:&#x27;</span>);</span><br><span class="line">axis([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">-2</span>,<span class="number">2</span>]);</span><br><span class="line"><span class="built_in">hold</span> on;</span><br><span class="line">y2=<span class="number">2</span>*<span class="built_in">exp</span>(<span class="number">-0.5</span>*x).*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*x);</span><br><span class="line"><span class="built_in">plot</span>(x,y2,<span class="string">&#x27;k&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;包络线&#x27;</span>,<span class="string">&#x27;包络线&#x27;</span>,<span class="string">&#x27;包络线&#x27;</span>);</span><br><span class="line"><span class="built_in">hold</span> off;</span><br><span class="line">grid;</span><br><span class="line"></span><br><span class="line">x=<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">20</span>;</span><br><span class="line">y1=<span class="number">200</span>*<span class="built_in">exp</span>(<span class="number">-0.05</span>*x).*<span class="built_in">sin</span>(x);</span><br><span class="line">y2=<span class="number">0.8</span>*<span class="built_in">exp</span>(<span class="number">-0.5</span>*x).*<span class="built_in">sin</span>(<span class="number">10</span>*x);</span><br><span class="line"><span class="built_in">figure</span></span><br><span class="line">[AX,H1,H2]=plotyy(x,y1,x,y2,<span class="string">&#x27;plot&#x27;</span>);</span><br><span class="line">set(get(AX(<span class="number">1</span>),<span class="string">&#x27;Ylabel&#x27;</span>),<span class="string">&#x27;String&#x27;</span>,<span class="string">&#x27;slow decay&#x27;</span>);</span><br><span class="line">set(get(AX(<span class="number">2</span>),<span class="string">&#x27;Ylabel&#x27;</span>),<span class="string">&#x27;String&#x27;</span>,<span class="string">&#x27;fast decay&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Time(\musec)&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;multiple decay rates&#x27;</span>);</span><br><span class="line">set(H1,<span class="string">&#x27;linestyle&#x27;</span>,<span class="string">&#x27;--&#x27;</span>);</span><br><span class="line">set(H2,<span class="string">&#x27;linestyle&#x27;</span>,<span class="string">&#x27;:&#x27;</span>);</span><br><span class="line"></span><br><span class="line">x=(<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">100</span>:<span class="number">2</span>*<span class="built_in">pi</span>)&#x27;;</span><br><span class="line">y1=<span class="number">2</span>*<span class="built_in">exp</span>(<span class="number">-0.5</span>*x)*[<span class="number">1</span>,<span class="number">-1</span>];<span class="comment">%%这是包络线</span></span><br><span class="line">y2=<span class="number">2</span>*<span class="built_in">exp</span>(<span class="number">-0.5</span>*x).*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*x);</span><br><span class="line"><span class="built_in">plot</span>(x,y1,<span class="string">&#x27;k:&#x27;</span>,x,y2,<span class="string">&#x27;b--&#x27;</span>);<span class="comment">%%控制图像的颜色和线形</span></span><br><span class="line"></span><br><span class="line">x=<span class="number">0</span>:<span class="number">0.5</span>:<span class="number">4</span>*<span class="built_in">pi</span>;</span><br><span class="line">y=<span class="built_in">sin</span>(x);h=<span class="built_in">cos</span>(x);w=<span class="number">1.</span>/(<span class="number">1</span>+<span class="built_in">exp</span>(-x));</span><br><span class="line">g=(<span class="number">1.</span>/<span class="number">2</span>*(<span class="number">2</span>*<span class="built_in">pi</span>)^<span class="number">0.5</span>).*<span class="built_in">exp</span>((<span class="number">-1.</span>*(x<span class="number">-2</span>*<span class="built_in">pi</span>).^<span class="number">2</span>)./<span class="number">4</span>);</span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;bd-&#x27;</span>,x,h,<span class="string">&#x27;gp:&#x27;</span>,x,w,<span class="string">&#x27;rp-&#x27;</span>,x,g,<span class="string">&#x27;c^-&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;sin(x)&#x27;</span>,<span class="string">&#x27;cos(x)&#x27;</span>,<span class="string">&#x27;sigmoid&#x27;</span>,<span class="string">&#x27;gauss function&#x27;</span>);</span><br><span class="line"></span><br><span class="line">t=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">50</span>:<span class="number">20</span>*<span class="built_in">pi</span>;</span><br><span class="line">r1=<span class="built_in">exp</span>(<span class="built_in">cos</span>(t))<span class="number">-2</span>*<span class="built_in">cos</span>(<span class="number">4</span>*t)+<span class="built_in">sin</span>(t/<span class="number">12</span>).^<span class="number">5</span>;</span><br><span class="line">r2=<span class="built_in">exp</span>(<span class="built_in">cos</span>(t-<span class="built_in">pi</span>/<span class="number">2</span>))<span class="number">-2</span>*<span class="built_in">cos</span>(<span class="number">4</span>*(t-<span class="built_in">pi</span>/<span class="number">2</span>))+<span class="built_in">sin</span>(t/<span class="number">12</span>).^<span class="number">5</span>;<span class="comment">%%旋转90°</span></span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">polar(t,r1);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line">polar(t,r2);</span><br></pre></td></tr></table></figure>
<h3 id="三维图像">三维图像</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">t=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">50</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">x=<span class="number">8</span>*<span class="built_in">cos</span>(t);</span><br><span class="line">y=<span class="number">4</span>*<span class="built_in">sqrt</span>(<span class="number">2</span>)*<span class="built_in">sin</span>(t);</span><br><span class="line">z=<span class="number">-4</span>*<span class="built_in">sqrt</span>(<span class="number">2</span>)*<span class="built_in">sin</span>(t);</span><br><span class="line"><span class="built_in">plot3</span>(x,y,z,<span class="string">&#x27;p&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;line in 3D space&#x27;</span>);</span><br><span class="line">text(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="string">&#x27;origin&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;X&#x27;</span>);ylabel(<span class="string">&#x27;Y&#x27;</span>);zlabel(<span class="string">&#x27;Z&#x27;</span>);</span><br><span class="line">grid;</span><br><span class="line"></span><br><span class="line">x=<span class="number">7</span>:<span class="number">29</span>;y=<span class="number">16</span>:<span class="number">35</span>;</span><br><span class="line">[x,y]=<span class="built_in">meshgrid</span>(x,y);<span class="comment">%%在[7,29]×[16,35]区域内生成网格坐标</span></span><br><span class="line">z=<span class="number">2</span>*x+<span class="number">5</span>*y;</span><br><span class="line">k=<span class="built_in">find</span>(z==<span class="number">126</span>);<span class="comment">%%找到z=126的位置，就是求不定方程的解</span></span><br><span class="line">x(k)&#x27;,y(k)&#x27;;</span><br><span class="line"></span><br><span class="line">x=<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">y=<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">[x,y]=<span class="built_in">meshgrid</span>(x,y);</span><br><span class="line">z=<span class="built_in">sin</span>(y).*<span class="built_in">cos</span>(x);</span><br><span class="line">mesh(x,y,z);</span><br><span class="line">xlabel(<span class="string">&#x27;x-axis&#x27;</span>);ylabel(<span class="string">&#x27;y-axis&#x27;</span>);zlabel(<span class="string">&#x27;z-axis&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;三维网格图&#x27;</span>);</span><br><span class="line"></span><br><span class="line">x=<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">y=<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">[x,y]=<span class="built_in">meshgrid</span>(x,y);</span><br><span class="line">z=<span class="built_in">sin</span>(y).*<span class="built_in">cos</span>(x);</span><br><span class="line">surf(x,y,z);</span><br><span class="line">xlabel(<span class="string">&#x27;x-axis&#x27;</span>);ylabel(<span class="string">&#x27;y-axis&#x27;</span>);zlabel(<span class="string">&#x27;z-axis&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;三维曲面图&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="高级应用">高级应用</h2>
<h3 id="多项式计算">多项式计算</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%多项式加减</span></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">-2</span>,<span class="number">5</span>,<span class="number">3</span>];</span><br><span class="line">b=[<span class="number">0</span>,<span class="number">0</span>,<span class="number">6</span>,<span class="number">-1</span>];</span><br><span class="line">c=a+b;</span><br><span class="line"><span class="comment">%%多项式乘除</span></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-10</span>];</span><br><span class="line">b=[<span class="number">2</span>,<span class="number">-1</span>,<span class="number">3</span>];</span><br><span class="line">c=conv(a,b);            <span class="comment">%%多项式乘法</span></span><br><span class="line">d=deconv(a,b);          <span class="comment">%%多项式除法</span></span><br><span class="line"><span class="comment">%%多项式求导</span></span><br><span class="line">p=polyder(P);           <span class="comment">%%对P求导</span></span><br><span class="line">p=polyder(P,Q);         <span class="comment">%%对P,Q求导</span></span><br><span class="line">[p,q]=polyder(P,Q);     <span class="comment">%%对P/Q求导，分子储存在p，分母储存在q</span></span><br><span class="line"><span class="comment">%%多项式求值</span></span><br><span class="line">Y=polyval(A,x);         <span class="comment">%%A是多项式，x可以是数字，向量，矩阵</span></span><br><span class="line"><span class="comment">%%多项式求根</span></span><br><span class="line">roots(P);               <span class="comment">%%求多项式的根</span></span><br></pre></td></tr></table></figure>
<h3 id="数值微分">数值微分</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DX=diff(X);             <span class="comment">%%计算X的向前差分，即DX(i)=X(i+1)-X(i)</span></span><br><span class="line">DX=diff(X);             <span class="comment">%%计算X的n阶向前差分，即DX(i)=X(i+n)-X(i)</span></span><br></pre></td></tr></table></figure>
<h3 id="插值">插值</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">4</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">y=<span class="built_in">sin</span>(x);</span><br><span class="line">xq=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">16</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line">yp1=interp1(x,y,xq);            <span class="comment">%%对x线性插值,并作出xq对应的值</span></span><br><span class="line">subplot(<span class="number">211</span>);</span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;o&#x27;</span>,xq,yp1,<span class="string">&#x27;:.&#x27;</span>);</span><br><span class="line">xlim([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>]);</span><br><span class="line">subplot(<span class="number">212</span>);</span><br><span class="line">yq2=interp1(x,y,xq,<span class="string">&#x27;spline&#x27;</span>);   <span class="comment">%%对x样条插值,并作出xq对应的值</span></span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;o&#x27;</span>,xq,yq2,<span class="string">&#x27;:.&#x27;</span>);</span><br><span class="line">xlim([<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>]);</span><br><span class="line"></span><br><span class="line"> x=<span class="number">1</span>:<span class="number">100</span>;</span><br><span class="line">y=<span class="built_in">randn</span>(<span class="number">1</span>,<span class="number">100</span>);</span><br><span class="line">xq=<span class="number">0</span>:<span class="number">0.1</span>:<span class="number">100</span>;</span><br><span class="line">yp1=interp1(x,y,xq);            <span class="comment">%%对x线性插值,并作出xq对应的值</span></span><br><span class="line">subplot(<span class="number">211</span>);</span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;o&#x27;</span>,xq,yp1,<span class="string">&#x27;:.&#x27;</span>);</span><br><span class="line">xlim([<span class="number">1</span>,<span class="number">100</span>]);</span><br><span class="line">subplot(<span class="number">212</span>);</span><br><span class="line">yq2=interp1(x,y,xq,<span class="string">&#x27;spline&#x27;</span>);   <span class="comment">%%对x样条插值,并作出xq对应的值</span></span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;o&#x27;</span>,xq,yq2,<span class="string">&#x27;:.&#x27;</span>);</span><br><span class="line">xlim([<span class="number">1</span>,<span class="number">100</span>]);                  <span class="comment">%%这种方法噪音太大了</span></span><br><span class="line"></span><br><span class="line">x=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">y=[<span class="number">12</span>,<span class="number">16</span>,<span class="number">31</span>,<span class="number">10</span>,<span class="number">6</span>];</span><br><span class="line">xq=[<span class="number">0</span>,<span class="number">0.5</span>,<span class="number">1.5</span>,<span class="number">5.5</span>,<span class="number">6</span>];</span><br><span class="line">yq1=interp1(x,y,xq,<span class="string">&#x27;pchip&#x27;</span>);           <span class="comment">%%高阶外插</span></span><br><span class="line">yq2=interp1(x,y,xq,<span class="string">&#x27;liner&#x27;</span>,<span class="string">&#x27;extrap&#x27;</span>);  <span class="comment">%%低阶线性外插（数据少）</span></span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;o&#x27;</span>,xq,yq1,xq,yq2);</span><br></pre></td></tr></table></figure>
<h3 id="拟合">拟合</h3>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">X=[<span class="number">-1</span>,<span class="number">-0.75</span>,<span class="number">-0.50</span>,<span class="number">-0.25</span>,<span class="number">0</span>,<span class="number">0.25</span>,<span class="number">0.50</span>,<span class="number">0.75</span>,<span class="number">1.00</span>];</span><br><span class="line">X2=[<span class="number">-1</span>:<span class="number">0.01</span>:<span class="number">1</span>];</span><br><span class="line">Y=[<span class="number">-0.2209</span>,<span class="number">0.3295</span>,<span class="number">0.8826</span>,<span class="number">1.4392</span>,<span class="number">2.0003</span>,<span class="number">2.5645</span>,<span class="number">3.1334</span>,<span class="number">3.7061</span>,<span class="number">4.2836</span>];</span><br><span class="line">P1=polyfit(X,Y,<span class="number">1</span>);</span><br><span class="line">P2=polyfit(X,Y,<span class="number">2</span>);</span><br><span class="line">Y1=polyval(P1,X2);</span><br><span class="line">Y2=polyval(P2,X2);</span><br><span class="line"><span class="built_in">plot</span>(X,Y,<span class="string">&#x27;bx&#x27;</span>,X2,Y1,<span class="string">&#x27;r&#x27;</span>,X2,Y2,<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">xlim([<span class="number">-1.2</span>,<span class="number">1.2</span>]);</span><br><span class="line">ylim([<span class="number">-0.5</span>,<span class="number">4.5</span>]);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;数据点&#x27;</span>,<span class="string">&#x27;一次拟合多项式&#x27;</span>,<span class="string">&#x27;二次拟合多项式&#x27;</span>);</span><br><span class="line">grid;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"> xdata=[<span class="number">0.9</span>,<span class="number">1.5</span>,<span class="number">13.8</span>,<span class="number">19.8</span>,<span class="number">24.1</span>,<span class="number">28.2</span>,<span class="number">35.2</span>,<span class="number">60.3</span>,<span class="number">74.6</span>,<span class="number">81.3</span>];</span><br><span class="line"> ydata=[<span class="number">455.2</span>,<span class="number">428.6</span>,<span class="number">124.1</span>,<span class="number">67.3</span>,<span class="number">43.2</span>,<span class="number">28.1</span>,<span class="number">13.1</span>,<span class="number">-0.4</span>,<span class="number">-1.3</span>,<span class="number">-1.5</span>];</span><br><span class="line"> fun=@(x,xdata)x(<span class="number">1</span>)*<span class="built_in">exp</span>(x(<span class="number">2</span>)*xdata);</span><br><span class="line"> x0=[<span class="number">100</span>,<span class="number">-1</span>];</span><br><span class="line"> options=optimoptions(<span class="string">&#x27;lsqcurvefit&#x27;</span>,<span class="string">&#x27;Algorithm&#x27;</span>,<span class="string">&#x27;trust-region-reflective&#x27;</span>);</span><br><span class="line"> lb=[<span class="number">-500</span>,<span class="number">-500</span>];</span><br><span class="line"> ub=[<span class="number">500</span>,<span class="number">500</span>];</span><br><span class="line"> x=lsqcurvefit(fun,x0,xdata,ydata,lb,ub,options);</span><br><span class="line"> times=<span class="built_in">linspace</span>(xdata(<span class="number">1</span>),xdata(<span class="keyword">end</span>));</span><br><span class="line"> <span class="built_in">plot</span>(xdata.ydata,<span class="string">&#x27;ko&#x27;</span>,times,fun(x,times),<span class="string">&#x27;b-&#x27;</span>);</span><br><span class="line"> <span class="built_in">legend</span>(<span class="string">&#x27;data&#x27;</span>,<span class="string">&#x27;fitted exponential&#x27;</span>);?????</span><br><span class="line"> </span><br><span class="line">xdata=[<span class="number">0.9</span> <span class="number">1.5</span> <span class="number">13.8</span> <span class="number">19.8</span> <span class="number">24.1</span> <span class="number">28.2</span> <span class="number">35.2</span> <span class="number">60.3</span> <span class="number">74.6</span> <span class="number">81.3</span>];</span><br><span class="line">ydata=[<span class="number">455.2</span> <span class="number">428.6</span> <span class="number">124.1</span> <span class="number">67.3</span> <span class="number">43.2</span> <span class="number">28.1</span> <span class="number">13.1</span> <span class="number">-0.4</span> <span class="number">-1.3</span> <span class="number">-1.5</span>];</span><br><span class="line">fun=@(x,xdata)x(<span class="number">1</span>)*<span class="built_in">exp</span>(x(<span class="number">2</span>)*xdata);</span><br><span class="line">x0=[<span class="number">100</span>,<span class="number">-1</span>];</span><br><span class="line">x=lsqcurvefit(fun,x0,xdata,ydata);</span><br><span class="line">times = <span class="built_in">linspace</span>(xdata(<span class="number">1</span>),xdata(<span class="keyword">end</span>));</span><br><span class="line"><span class="built_in">plot</span>(xdata,ydata,<span class="string">&#x27;ko&#x27;</span>,times,fun(x,times),<span class="string">&#x27;b-&#x27;</span>)</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;Data&#x27;</span>,<span class="string">&#x27;Fitted exponential&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;Data and Fitted Curve&#x27;</span>)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/04/Python%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/04/Python%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">Python基础</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-05-04 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-04T00:00:00+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-26 16:05:01" itemprop="dateModified" datetime="2025-06-26T16:05:01+08:00">2025-06-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CS/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="matplotlib">Matplotlib</h2>
<p>安装:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install matplotlib</span><br></pre></td></tr></table></figure>
<p>导入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br></pre></td></tr></table></figure>
<p>查看版本</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(matplotlib._version_)</span><br></pre></td></tr></table></figure>
<h3 id="pyplot">PyPlot</h3>
<h4 id="简单绘图">简单绘图</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">xpoints=np.array([<span class="number">1</span>,<span class="number">8</span>])</span><br><span class="line">ypoints=np.array([<span class="number">3</span>,<span class="number">10</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#plot()函数的第一个参数是x坐标的数组，第二个参数是y坐标的数组</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#绘制从(1,3)到(8,10)的一条直线</span></span><br><span class="line">plt.plot(xpoints,ypoints)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment">#绘制(1,3)和(8,10)处的两个点</span></span><br><span class="line">plt.plot(xpoints,ypoints,<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment">#plot()函数如果只输入一个数组，那么默认为y坐标，x坐标默认取值为0,1,2,...</span></span><br><span class="line"></span><br><span class="line">ypoints=np.array([<span class="number">3</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">plt.plot(ypoints)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h4 id="标记">标记</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">ypoints=np.array([<span class="number">2</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">8</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#星号标记每个点</span></span><br><span class="line">plt.plot(ypoints,marker=<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line"><span class="comment">#实心圆圈标记每一个点</span></span><br><span class="line">plt.plot(ypoints,marker=<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line"><span class="comment">#还有很多点，线的标记</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#o代表实心圆标记点，:代表虚线，r代表红色</span></span><br><span class="line">plt.plot(ypoints,<span class="string">&#x27;o:r&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/04/S-%E7%9F%A9%E9%98%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/04/S-%E7%9F%A9%E9%98%B5/" class="post-title-link" itemprop="url">S-Matrix</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-05-04 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-04T00:00:00+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-05-12 22:14:56" itemprop="dateModified" datetime="2025-05-12T22:14:56+08:00">2025-05-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%89%A9%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">物理</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%89%A9%E7%90%86/%E9%87%8F%E5%AD%90%E5%9C%BA%E8%AE%BA/" itemprop="url" rel="index"><span itemprop="name">量子场论</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>量子场论是一门场的学科,但同时也是一门粒子的学科.继上一篇中使用的场的语言之后,我们将在这一篇引入粒子的语言来刻画量子场论.这种语言为我们带来了量子场论的第三种形式——基于<span
class="math inline">\(\rm{Poincare}\)</span>群的不可约表示的二次量子化.我会先把在上一篇中被模糊地给出的
<span
class="math inline">\(S-\)</span>矩阵的定义严格化,进而证明它的几个重要性质,然后利用
<span
class="math inline">\(S-\)</span>矩阵讨论量子场论的三种形式的等价性.最后,LSZ
约化公式将作为这三种形式的统一的高潮被介绍.与上一篇一样,所有的细节都将清楚地呈现.</p>
<p>我们在上一篇文章中介绍了一些与 <span
class="math inline">\(S-\)</span>矩阵相关的概念,却没有直接讨论 <span
class="math inline">\(S-\)</span>矩阵,你可能会觉得这有些拐弯抹角——因为我们甚至已经知道了,路径积分形式的量子场论其实从一开始就在计算
<span class="math inline">\(S-\)</span>矩阵,也就是 <span
class="math inline">\(\langle F|\mathscr{U}|I\rangle\)</span>
!我推迟讨论 <span class="math inline">\(S-\)</span>矩阵的原因在我介绍
LSZ
约化公式时就已经清楚了：路径积分量子化没有构造量子态的能力.依赖源函数
<span class="math inline">\(J\)</span> 的形式的初态 <span
class="math inline">\(|I\rangle\)</span> 与末态 <span
class="math inline">\(|F\rangle\)</span> 的定义是含糊不清的,而这正是
<span
class="math inline">\(S-\)</span>矩阵的定义中最关键的部分.为了严格讨论
<span class="math inline">\(S-\)</span>矩阵的定义,并发展以 <span
class="math inline">\(S-\)</span>矩阵为中心的散射理论,我们必须回到正则量子化(甚至回到作为庞加莱群的不可约表示的单粒子态)来.我不会在这篇文章中涉及庞加莱群的不可约表示,但这也让我不得不舍弃一些数学上的细节,希望读者可以原谅.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/05/04/S-%E7%9F%A9%E9%98%B5/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/04/Verilog%E7%AC%AC%E4%B8%80%E7%AB%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/04/Verilog%E7%AC%AC%E4%B8%80%E7%AB%A0/" class="post-title-link" itemprop="url">第一章:Verilog HDL数字集成电路设计方法概述</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-05-04 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-04T00:00:00+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-30 15:48:49" itemprop="dateModified" datetime="2025-06-30T15:48:49+08:00">2025-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/" itemprop="url" rel="index"><span itemprop="name">EE</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/%E6%95%B0%E5%AD%97%E8%AE%BE%E8%AE%A1/" itemprop="url" rel="index"><span itemprop="name">数字设计</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/%E6%95%B0%E5%AD%97%E8%AE%BE%E8%AE%A1/Verilog/" itemprop="url" rel="index"><span itemprop="name">Verilog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2
id="数字集成电路的发展和设计方法的演变">数字集成电路的发展和设计方法的演变</h2>
<p>几十个逻辑门的小规模集成电路(Small Scale
Integrated,SSI)–&gt;单芯片数千万个逻辑门的极大规模集成电路(Ultra Large
Scale Integrated,ULSI),单芯片可以集成几十亿只晶体管</p>
<h2 id="集成电路的发展">集成电路的发展</h2>
<h3 id="第一次变革时期">第一次变革时期</h3>
<p>20世纪70年代,是以加工制造为主导的IC(Integrated
Circuit)产业发展的初级阶段,主流产品是微处理器(Micro Processor Unit,
MPU),存储器以及标准通用逻辑电路.这一时期,IC整合原件厂(Integrated Device
Manufacturer,IDM)在IC市场中充当主要角色,设计只作为附属部门而存在.芯片设计和半导体工艺密切相关,设计以人工为主,计算机辅助为辅(Computer
Aided Design,CAD)系统只作为数据处理和图形编程。</p>
<h3 id="第二次变革时期">第二次变革时期</h3>
<p>20世纪80年代,标准工艺加工线(Foundry)公司和IC设计公司共同发展,主流产品是MPU,微控制器(Micro
Control Unit,MCU)以及专用IC(Application-Specific
IC,ASIC).这时Foundry和IC设计公司相结合的方式开始成为集成电路产业发展的新模式.IC产业开始进入以客户为
导向的阶段.超大规模集成电路(Very Large Scale
Integrated,VLSI)开始成为主流芯片;电子设计自动化(Eletronic Design
Automation,EDA)
快速发展,设计过程和生产工艺可以各自独立存在,没有生产线的IC设计公司(Fabless)和设计部门纷纷建立并快速发展,同时以制造业为主的Foundry
工厂也迅速发展.1987年,全球第一个Foundry工厂————台积电成立,其创始人张忠谋被誉为”芯片加工之父”.</p>
<h3 id="第三次变革时期">第三次变革时期</h3>
<p>20世纪90年代,IC产业的”四业”(设计业,制造业,封装业,测试业)开始分离,功能强大的通用性中央处理器(Central
Processing Unit, CPU)和信号处理器(Digital Signal
Processing,DSP)成为产业新的增长点.</p>
<p>进入21世纪,首先CMOS模拟技术的发展使得数模混合单芯片集成技术迅速发展,在设计和成本方面体现了巨大优势.其次,应用需求使得储存器在USLI
芯片中的作业越来越明显,高密度存储器及其SoC设计成为设计的焦点.再次,大规模多内核处理器结构成为通用型芯片和SoC芯片的主流设计方式.
在设计方法方面,采用功能复用的IP(Intelligent
Property)的设计方式,成为IC设计和商业化的一种主要方式,极大提高了ULSI芯片的设计效率和
可扩展性.</p>
<h2 id="ip核">IP核</h2>
<p>IP核是具有知识产权核的集成电路芯核总称，是经过反复验证的、具有特定功能的宏模块，与芯片制作工艺无关，可以移植到不同的半导体工艺中。
到了SoC阶段,向用户提供IP核服务已经成为可编程逻辑器件提供商的重要任务.在SoC芯片的设计生产过程中,芯片的生产厂家只需根据设计需要购入
相应功能的IP核,再将这些IP核按照设计需要进行组合,即可完成所需功能的设计.</p>
<p><strong>软核</strong>经过功能验证、5000门以上的可综合Verilog
HDL或VHDL模型.软核通常与设计方法和电路所采用的工艺无关,具有很强的可综合性和可重用性.
由软核构成的器件称为虚拟器件,通过EDA综合工具可以把它和其他数字逻辑电路结合起来,构成新的功能电路;</p>
<p><strong>固核</strong>在FPGA器件上，经过综合验证、大于5000门的电路网表文件；</p>
<p><strong>硬核</strong>在ASIC器件上，经过验证、正确的、大于5000门的电路结构版图掩模。</p>
<p>其中软核是可读性较高的可综合HDL实现，因此其可维护性和可重用性较高，更加灵活和简便。
固核和硬核是针对不同平台的功能单元，性能稳定，不易修改。</p>
<h2 id="verilog-hdl在数字集成电路设计流程中的作用">Verilog
HDL在数字集成电路设计流程中的作用</h2>
<p>一般的数字集成电路设计流程如下:</p>
<p>总体方案————&gt;系统建模————&gt;RTL编码————&gt;功能验证————&gt;综合————&gt;时序验证————&gt;物理综合/布局布线————&gt;物理验证————&gt;原型建立和测试————&gt;工艺实现</p>
<p>数字集成电路和FPGA设计过程总体可以分成4个阶段</p>
<p><strong>第一阶段</strong>是系统设计阶段,包括总体方案和系统建模.
<strong>第二阶段</strong>是数字电路设计和代码编写阶段,即RTL代码编写阶段.
<strong>第三阶段</strong>是电路验证阶段,包括对硬件描述语言的程序代码的功能验证和经过EDA综合工具之后的时序验证两个部分.
<strong>第四阶段</strong>是集成电路的后端设计阶段,主要通过EDA工具和进行物理综合,布局布线,物理验证,原型建立和测试,最终交付工艺实现.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/04/Verilog%E7%AC%AC%E4%BA%8C%E7%AB%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/04/Verilog%E7%AC%AC%E4%BA%8C%E7%AB%A0/" class="post-title-link" itemprop="url">第二章:Verilog HDL基础知识</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-05-04 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-04T00:00:00+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-30 15:48:47" itemprop="dateModified" datetime="2025-06-30T15:48:47+08:00">2025-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/" itemprop="url" rel="index"><span itemprop="name">EE</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/%E6%95%B0%E5%AD%97%E8%AE%BE%E8%AE%A1/" itemprop="url" rel="index"><span itemprop="name">数字设计</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/%E6%95%B0%E5%AD%97%E8%AE%BE%E8%AE%A1/Verilog/" itemprop="url" rel="index"><span itemprop="name">Verilog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="数值">数值</h2>
<h3 id="整数及其表示">整数及其表示</h3>
<p>0 ————&gt;低电平，逻辑假 1 ————&gt;高电平，逻辑真
x/X————&gt;不确定或未知逻辑态 z/Z————&gt;高阻态</p>
<p>b或B————&gt;二进制,0、1、x/X、z/Z/?、<em>;
o或O————&gt;八进制,0~7、x/X、z/Z/?、</em>; d或D————&gt;十进制,0~9、<em>;
h或H————&gt;十六进制,0<sub>9、a/A</sub>f/F、x/X、z/Z/?、</em>;</p>
<h4 id="表示形式">表示形式</h4>
<p>整数的表示形式如下:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+/-&lt;size&gt;&#x27;&lt;base&gt;&lt;number&gt;</span><br></pre></td></tr></table></figure>
<p>其中+/-放在最前面；</p>
<p>size是将数字<strong>换算成二进制数之后</strong>的位数,注意这里要转换成二进制！！！；</p>
<p>’不能省略</p>
<p>base可选二进制b，八进制o，十进制d，十六进制h；</p>
<p>number用所选取的进制数表示；</p>
<h4 id="注意事项">注意事项</h4>
<ul>
<li>较长的数字可以用下划线分开，例如</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">16&#x27;b1110_1011_0011_1010</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>没有说明数字位宽时,默认为32位</p></li>
<li><p>x或z在二进制中只代表一位的x或z,在八进制中代表三位的x或z,在十六进制中代表四位的x或z,例如</p></li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">8&#x27;b1011xxxx</span>=<span class="number">8&#x27;hBx</span></span><br><span class="line"><span class="number">8&#x27;b1001zzzz</span>=<span class="number">8&#x27;h9z</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>如果没有定义一个整数的位宽,那么其宽度就是相应值中定义的位数,例如
’o642是9位八进制数 ’hBD是8位十六进制数</p></li>
<li><p>若定义的位宽比实际的数要大，则在左边用0补齐，例如</p></li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10&#x27;b101</span>=<span class="number">10&#x27;b0000000101</span></span><br><span class="line"><span class="number">8&#x27;bz0x1</span>=<span class="number">8&#x27;bzzzzz0x1</span></span><br></pre></td></tr></table></figure>
<p>若定义的位宽比实际的数要小，那么左边的位要被截断</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4&#x27;b10111011</span>=<span class="number">4&#x27;b1011</span></span><br><span class="line"><span class="number">6&#x27;HFFFB</span>=<span class="number">6&#x27;H3B</span></span><br></pre></td></tr></table></figure>
<ul>
<li>?和z/Z都表示高组态,例如</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>&#x27;b??=<span class="number">2&#x27;bzz</span></span><br></pre></td></tr></table></figure>
<ul>
<li>整数可以带正负号,并且正负号应该写在最左边.负数表示为二进制补码,例如</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-<span class="number">4</span>=<span class="number">4&#x27;b1100</span></span><br></pre></td></tr></table></figure>
<ul>
<li>如果位宽和进制都省略,那么就表示十进制数</li>
</ul>
<h3 id="实数及其表示">实数及其表示</h3>
<ul>
<li><p>十进制表示法:小数点两边必须都要有数字,例如0.8、4.68、9.9等</p></li>
<li><p>科学计数法:8.7e2=870.0、3E-3=0.003等</p></li>
</ul>
<h2 id="数据类型">数据类型</h2>
<p>Verilog
HDL的数据类型可以分成两大类,第一类为<strong>物理数据类型(包括连线型和寄存器型)</strong>,第二类为<strong>抽象数据类型(包括整型,时间型,实型,参数型)</strong>.</p>
<h3 id="物理数据类型">物理数据类型</h3>
<ol type="1">
<li><p>连线型(wire):连线表示逻辑单元的物理连接,可以对应电路中的物理信号连线,这种变量类型不能保持电荷(trireg除外).连线型变量必须要有驱动源,一种是连接到一个门或者模块的输出端,另一种是用assign连续赋值语句对它进行赋值.若没有驱动源,则保持高阻态z.</p></li>
<li><p>寄存器型(reg):reg型变量是最常见也是最重要的寄存器型数据类型,它是数据储存单元的抽象类型,其对应的硬件电路元件具有状态保持作用,能够储存数据,如触发器,锁存器等.reg型变量常用于行为级描述,由过程赋值语句对其进行赋值.</p></li>
</ol>
<h4
id="连线型和寄存器型数据类型的声明">连线型和寄存器型数据类型的声明</h4>
<h5 id="连线型">连线型</h5>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;net_declaration&gt;&lt;drive_strength&gt;&lt;range&gt;&lt;delay&gt;[list_of_variables];</span><br></pre></td></tr></table></figure>
<p>net_declaration:可以选择wire,tri,tri0,tri1等等</p>
<p>drive_strength:连线变量的驱动强度</p>
<p>range:指定数据为标量或者矢量,默认为1位的标量</p>
<p>delay:指定仿真延迟时间</p>
<p>list_of_variables:变量名称,可以一次定义多个,中间用逗号隔开</p>
<h5 id="寄存器型">寄存器型</h5>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">reg</span>&lt;range&gt;[list_of_register_variables]</span><br></pre></td></tr></table></figure>
<p>range:指定寄存器的位宽,默认为1位</p>
<p>list_of_register_variables:变量名称,可以一次定义多个,中间用逗号隔开</p>
<h5 id="存储器型memory">存储器型(memory)</h5>
<p>存储器型本质上是寄存器型变量阵列,这是因为Verilog
HDL中没有多维数组,所以就用一些reg类型变量组成寄存器组来实现存储器的功能,也就是
扩展的reg型数据地址范围.存储器型变量可以描述RAM型、ROM型存储器和reg文件.数组中的每一个单元通过一个数组索引进行寻址.</p>
<p>存储器型变量的声明如下:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">reg</span>&lt;range1&gt;&lt;list_of_register&gt;&lt;range2&gt;</span><br></pre></td></tr></table></figure>
<p>range1:存储器中的每个寄存器的位宽,格式为[msb:lsb]</p>
<p>range2:寄存器的个数,格式为[msb:lsb]</p>
<p>list_of_register:变量名称,可以一次定义多个,中间用逗号隔开</p>
<p>例如</p>
<p>reg[7:0] mem1[255:0];
这是一个有256个8位寄存器的存储器mem1,地址范围是0~255</p>
<p>reg[15:0] mem1[127:0],reg1,reg2;
这是一个有128个16位寄存器的存储器mem1,地址范围是0~128,除此之外还有两个16位的寄存器reg1,reg2</p>
<p>reg[15:0] a=16’b1011_0101_1001_0001;
这是一个16位寄存器,可以直接对这一个寄存器赋值</p>
<p>reg mem1[15:0];
这是一个有1个16位寄存器的存储器mem1,不能对整个寄存器赋值,注意和上面的寄存器进行区分</p>
<p>mem1[2]=1’b0; 给mem1存储器中的第三个寄存器赋值</p>
<h3 id="抽象数据类型">抽象数据类型</h3>
<p>1.整型 声明格式为 integer &lt;name&gt;</p>
<p>2.时间型</p>
<p>3.实型</p>
<p>4.参数型</p>
<p>声明格式为 parameter 参数名1=表达式1，参数名2=表达式2，…</p>
<h2 id="运算符">运算符</h2>
<h3 id="算术运算符">算术运算符</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> arith_tb;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>]a ;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>]b ;</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    a=<span class="number">4&#x27;b1111</span>;<span class="comment">//15</span></span><br><span class="line">    b=<span class="number">4&#x27;b011</span>;<span class="comment">//3</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,a*b);<span class="comment">//结果是45，但是结果必须是4位二进制数，高位被舍去</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,a/b);<span class="comment">//结果是5，4&#x27;b0101</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,a+b);<span class="comment">//结果是18，高位被舍去</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,a-b);<span class="comment">//结果是12</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,a%b);<span class="comment">//结果是0</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//算数运算代码例</span></span><br></pre></td></tr></table></figure>
<h3 id="关系运算符">关系运算符</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> rela_tb;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>]a,b,c,d;</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    a=<span class="number">3</span>;</span><br><span class="line">    b=<span class="number">6</span>;</span><br><span class="line">    c=<span class="number">1</span>;</span><br><span class="line">    d=<span class="number">4&#x27;hx</span>;</span><br><span class="line">    <span class="built_in">$display</span>(a&lt;b);<span class="comment">//结果为真，输出1</span></span><br><span class="line">    <span class="built_in">$display</span>(a&gt;b);<span class="comment">//结果为假，输出0</span></span><br><span class="line">    <span class="built_in">$display</span>(a&lt;=c);<span class="comment">//结果为假，输出0</span></span><br><span class="line">    <span class="built_in">$display</span>(d&lt;=a);<span class="comment">//结果不确定，输出x</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//关系运算代码例</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> equal_tb;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>]a,b,c,d;</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    a=<span class="number">4&#x27;b0xx1</span>;</span><br><span class="line">    b=<span class="number">4&#x27;b0xx1</span>;</span><br><span class="line">    c=<span class="number">4&#x27;b0011</span>;</span><br><span class="line">    d=<span class="number">2&#x27;b11</span>;</span><br><span class="line">    <span class="built_in">$display</span>(a==b);<span class="comment">//结果不确定，输出x</span></span><br><span class="line">    <span class="built_in">$display</span>(c==d);<span class="comment">//结果相等，输出1</span></span><br><span class="line">    <span class="built_in">$display</span>(a===b);<span class="comment">//结果全等，输出1</span></span><br><span class="line">    <span class="built_in">$display</span>(c===d);<span class="comment">//结果不全等，输出0</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//相等关系代码例</span></span><br></pre></td></tr></table></figure>
<h3 id="逻辑运算符">逻辑运算符</h3>
<p>对于一个操作数，如果它的<strong>每一位都是0</strong>，那么其逻辑就是0；但凡出现一个1，那么其逻辑就为1；</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> logic_tb;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] a,b,c;</span><br><span class="line"><span class="keyword">reg</span> d,f;</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    a=<span class="number">4&#x27;b0000</span>;<span class="comment">//逻辑0</span></span><br><span class="line">    b=<span class="number">4&#x27;b1011</span>;<span class="comment">//逻辑1</span></span><br><span class="line">    c=<span class="number">4&#x27;b1001</span>;<span class="comment">//逻辑1</span></span><br><span class="line">    d=<span class="number">1&#x27;b0</span>;<span class="comment">//逻辑0</span></span><br><span class="line">    f=<span class="number">1&#x27;b1</span>;<span class="comment">//逻辑1</span></span><br><span class="line">    <span class="built_in">$display</span>(!a);<span class="comment">//输出1&#x27;b1</span></span><br><span class="line">    <span class="built_in">$display</span>(!b);<span class="comment">//输出1&#x27;b0</span></span><br><span class="line">    <span class="built_in">$display</span>(!d);<span class="comment">//输出1&#x27;b1</span></span><br><span class="line">    <span class="built_in">$display</span>(!f);<span class="comment">//输出1&#x27;b0</span></span><br><span class="line">    <span class="built_in">$display</span>(a&amp;&amp;b);<span class="comment">//逻辑与运算，输出1&#x27;b0</span></span><br><span class="line">    <span class="built_in">$display</span>(b&amp;&amp;c);<span class="comment">//逻辑与运算，输出1&#x27;b1</span></span><br><span class="line">    <span class="built_in">$display</span>(c||d);<span class="comment">//逻辑或运算，输出1&#x27;b1</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h3 id="按位运算符">按位运算符</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> bit_tb;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>]a ;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>]b ;</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    a=<span class="number">5&#x27;b101</span>;<span class="comment">//运算的时候补成5&#x27;b00101</span></span><br><span class="line">    b=<span class="number">5&#x27;b11101</span>;</span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,~a);<span class="comment">//按位取反，结果是5&#x27;b11010</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,~b);<span class="comment">//按位取反，结果是5&#x27;b00010</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,a&amp;b);<span class="comment">//按位与，结果是5&#x27;b00101</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,a|b);<span class="comment">//按位或，结果是5&#x27;b11101</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,a^b);<span class="comment">//按位异或，结果是5&#x27;b11000</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//按位运算代码例</span></span><br></pre></td></tr></table></figure>
<h3 id="移位运算符">移位运算符</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> shift_tb;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">5</span>:<span class="number">0</span>]a,b,c,d ;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>]e ;</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    a=<span class="number">6&#x27;b101101</span>;</span><br><span class="line">    b=a&lt;&lt;<span class="number">2</span>;<span class="comment">//把a左移两位，再用0补上空位</span></span><br><span class="line">    c=a&gt;&gt;<span class="number">3</span>;<span class="comment">//把a右移三位，再用0补上空位</span></span><br><span class="line">    d=a&lt;&lt;<span class="number">7</span>;<span class="comment">//把a左移七位，再用0补上空位</span></span><br><span class="line">    e=a&lt;&lt;<span class="number">2</span>;<span class="comment">//把a左移两位，再用0补上空位</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,b);<span class="comment">//结果为6&#x27;b110100</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,c);<span class="comment">//结果为6&#x27;b000101</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,d);<span class="comment">//结果为6&#x27;b000000</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,e);<span class="comment">//结果为8&#x27;b10110100</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//移位运算代码例</span></span><br></pre></td></tr></table></figure>
<h3 id="条件运算符">条件运算符</h3>
<p>唯一的三目运算符</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> mux2 (in1,in2,sel,out);</span><br><span class="line">    <span class="keyword">input</span>  [<span class="number">3</span>:<span class="number">0</span>]in1,in2;</span><br><span class="line">    <span class="keyword">input</span>  sel;</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>]out;</span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">3</span>:<span class="number">0</span>]out;</span><br><span class="line">    <span class="keyword">assign</span> out=(!sel)?in1:in2;  <span class="comment">//当sel=0时，out=in1；当sel=1时，out=in2</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//verilog里面唯一的三目条件运算符代码例</span></span><br></pre></td></tr></table></figure>
<h3 id="复制和连接运算符">复制和连接运算符</h3>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> con_rep_tb;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>]a ;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>]b ;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>]c ;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">4</span>:<span class="number">0</span>]d ;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">5</span>:<span class="number">0</span>]e ;</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    a=<span class="number">3&#x27;b101</span>;</span><br><span class="line">    b=<span class="number">4&#x27;b1110</span>;</span><br><span class="line">    c=&#123;a,b&#125;;            <span class="comment">//连接a和b</span></span><br><span class="line">    d=&#123;a[<span class="number">2</span>:<span class="number">1</span>],b[<span class="number">2</span>:<span class="number">0</span>]&#125;;  <span class="comment">//连接a[2:1]和b[2:0]</span></span><br><span class="line">    e=&#123;<span class="number">2</span>&#123;a&#125;&#125;;           <span class="comment">//把a复制两次</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,c);<span class="comment">//结果为8&#x27;b01011110</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,d);<span class="comment">//结果为5&#x27;b10110</span></span><br><span class="line">    <span class="built_in">$display</span>(<span class="string">&quot;%b&quot;</span>,e);<span class="comment">//结果为6&#x27;b101101</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//连接和复制运算符代码例</span></span><br></pre></td></tr></table></figure>
<h2 id="模块">模块</h2>
<h3 id="模块的内容">模块的内容</h3>
<p>模块包含四个部分</p>
<ol type="1">
<li>模块的开始和结束:
module开始，endmodule结束，开始的部分包括模块名和端口列表（各个端口名用逗号隔开）；</li>
<li>模块端口定义：input，output，inout，以及位宽；</li>
<li>模块的数据类型：input默认为wire，output可以是wire，也可以是reg（当在always或者initial语句块中被赋值）；</li>
<li>模块的逻辑功能描述。</li>
</ol>
<h3 id="模块的引用">模块的引用</h3>
<p>将信号线和被引用模块的端口连接，有两种方式：</p>
<ol type="1">
<li>按照源模块定义时的端口顺序连接</li>
</ol>
<p>模块名(连接端口1信号线名,连接端口2信号线名,…)</p>
<ol start="2" type="1">
<li>在引用时用小数点表明源模块定义时的端口名</li>
</ol>
<p>模块名(.端口1名(连接端口1信号线名),.端口2名(连接端口2信号线名),…)</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> dff (din,clk,q);</span><br><span class="line"><span class="keyword">input</span> din,clk;</span><br><span class="line"><span class="keyword">output</span> q;</span><br><span class="line"><span class="keyword">reg</span> q;</span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)</span><br><span class="line">    q&lt;=din;</span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//D触发器</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/04/Verilog%E7%AC%AC%E4%B8%89%E7%AB%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/04/Verilog%E7%AC%AC%E4%B8%89%E7%AB%A0/" class="post-title-link" itemprop="url">第三章:Verilog HDL程序设计语句和描述方式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-05-04 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-04T00:00:00+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-30 15:48:45" itemprop="dateModified" datetime="2025-06-30T15:48:45+08:00">2025-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/" itemprop="url" rel="index"><span itemprop="name">EE</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/%E6%95%B0%E5%AD%97%E8%AE%BE%E8%AE%A1/" itemprop="url" rel="index"><span itemprop="name">数字设计</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/%E6%95%B0%E5%AD%97%E8%AE%BE%E8%AE%A1/Verilog/" itemprop="url" rel="index"><span itemprop="name">Verilog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="数据流建模">数据流建模</h2>
<p>数据流建模只有一种方式，就是<strong>连续赋值语句</strong>，连续赋值语句<strong>只能对wire赋值</strong>，<strong>不能对reg赋值</strong>。</p>
<p>连续赋值语句包括显式连续赋值语句和隐式连续赋值语句，通常使用显式连续赋值语句，其格式为</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">wire</span> &lt;range&gt; &lt;name&gt;；<span class="comment">//声明wire型变量，定义位宽和连线名</span></span><br><span class="line"><span class="keyword">assign</span> #&lt;delay&gt;&lt;name&gt; = 表达式；<span class="comment">//delay是从表达式内信号发生变化的时刻到wire型变量取值被更新时的时间延迟</span></span><br></pre></td></tr></table></figure>
<h3 id="注意事项">注意事项</h3>
<ul>
<li>连续赋值语句只能对wire赋值，不能对reg赋值；</li>
<li>在连续赋值语句中，只要赋值语句右边表达式发生变化，则表达式立即被计算然后赋给左边的wire型变量(如果没有定义延时量)；</li>
<li>连续赋值语句不能出现在过程块中；</li>
<li>多个连续赋值语句是并行关系；</li>
<li>数据流建模所有变量均为wire型</li>
</ul>
<h2 id="行为级建模">行为级建模</h2>
<p>行为级建模就是从电路外部特性进行描述，行为描述模块称为描述体</p>
<p><strong>描述体=过程块+连续赋值语句</strong></p>
<p><strong>过程块=过程语句（initial、always）+语句块（过程赋值语句、高级程序语句）</strong></p>
<p>行为级建模所有变量均为reg型，包括过程语句(initial，alway)，语句块(begin-end,fork-join)，赋值语句(阻塞非阻塞)，条件分支语句(if-else，case)，循环语句(forever,repeat,while,for)等，这里面只有过程连续赋值语句(assign-deassign，force-release)可以对wire型变量赋值</p>
<h3 id="过程语句initial和always">过程语句：initial和always</h3>
<p>过程语句具有很强的功能,大多数高级程序语句都是在过程中使用的.它既可以描述时序逻辑电路,也可以描述组合逻辑电路.采用过程语句进行程序设计时,需要遵循一定的设计要求和规范.</p>
<p>在信号的形式定义方面,无论是时序还是组合逻辑电路,在过程语句(initial和always)中,被赋值的变量必须是reg类型的.</p>
<p>在敏感事件列表方面:</p>
<p>对于组合电路,需要把全部的输入信号列入敏感事件列表。</p>
<p>对于时序电路,需要把时间信号和部分输入信号列入敏感事件列表。</p>
<h4 id="initial的用法">initial的用法</h4>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">          语句<span class="number">1</span>；</span><br><span class="line">          语句<span class="number">2</span>；</span><br><span class="line">          ...;</span><br><span class="line">          语句n；</span><br><span class="line">        <span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>initial过程块在仿真时从模拟0时刻开始执行，只执行一次.在执行完以后该initial过程块就被挂起,不再执行.如果一个模块中存在多个initial过程块,那么每个initial过程块都是从0时刻开始并行执行的.initial过程块内部的多条行为语句可以是顺序执行,也可以是并行执行.</p>
<p>initial过程语句通常用于仿真模块中对激励向量的描述,或用于给寄存器赋初值.</p>
<h4 id="always的用法">always的用法</h4>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">always</span>@(&lt;敏感事件列表&gt;)</span><br><span class="line">    语句块</span><br></pre></td></tr></table></figure>
<p>敏感事件列表就是触发条件,当敏感事件列表中的变量改变时,语句块立即执行。因此,敏感事件列表中必须列出影响块内取值的所有信号.若有两个或者两个以上的信号,则它们之间可以用”or”或者”,“来连接.敏感信号可以分为两种类型,一种是边沿敏感型,另一种是电平敏感型.对于时序电路,事件通常是由时钟边沿触发的.posedge和negedge分别表示信号的上升沿和下降沿.</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">always</span>@(a <span class="keyword">or</span> b);</span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst);</span><br></pre></td></tr></table></figure>
<h4 id="例子">例子</h4>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> initial_tb1;</span><br><span class="line"><span class="keyword">reg</span> A,B,C;</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    A=<span class="number">0</span>;B=<span class="number">1</span>;C=<span class="number">0</span>;</span><br><span class="line">    #<span class="number">100</span> A=<span class="number">1</span>;B=<span class="number">0</span>;</span><br><span class="line">    #<span class="number">100</span> A=<span class="number">0</span>;C=<span class="number">1</span>;</span><br><span class="line">    #<span class="number">100</span> B=<span class="number">1</span>;</span><br><span class="line">    #<span class="number">100</span> B=<span class="number">0</span>;C=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//initial语句代码例1，可以用modelsim仿真</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> initial_tb2;</span><br><span class="line"><span class="keyword">reg</span> S1;</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    S1=<span class="number">0</span>;</span><br><span class="line">    #<span class="number">100</span> S1=<span class="number">1</span>;</span><br><span class="line">    #<span class="number">200</span> S1=<span class="number">0</span>;</span><br><span class="line">    #<span class="number">50</span>  S1=<span class="number">1</span>;</span><br><span class="line">    #<span class="number">100</span> <span class="built_in">$finish</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//initial语句代码例2，可以用modelsim仿真</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> mux4_1 (out,in0,in1,in2,in3,sel);</span><br><span class="line">    <span class="keyword">input</span>           in0,in1,in2,in3;</span><br><span class="line">    <span class="keyword">input</span>   [<span class="number">1</span>:<span class="number">0</span>]   sel;</span><br><span class="line">    <span class="keyword">output</span>          out;</span><br><span class="line">    <span class="keyword">reg</span>             out;</span><br><span class="line">        <span class="keyword">always</span> @(in0 <span class="keyword">or</span> in1 <span class="keyword">or</span> in2 <span class="keyword">or</span> in3 <span class="keyword">or</span> sel)<span class="comment">//只要括号里面的信号发生改变，就会执行下面的语句块</span></span><br><span class="line">            <span class="keyword">case</span> (sel)</span><br><span class="line">                <span class="number">2&#x27;b00</span>: out=in0;</span><br><span class="line">                <span class="number">2&#x27;b01</span>: out=in1;</span><br><span class="line">                <span class="number">2&#x27;b10</span>: out=in2;</span><br><span class="line">                <span class="number">2&#x27;b11</span>: out=in3;</span><br><span class="line">                <span class="keyword">default</span>:  out=<span class="number">2&#x27;bx</span>;</span><br><span class="line">            <span class="keyword">endcase</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//always语句实现4选1数据选择器</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> counter1 (out,data,load,rst,clk);</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>]     data;</span><br><span class="line">    <span class="keyword">input</span>           load,clk,rst;</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>]    out;</span><br><span class="line">    <span class="keyword">reg</span>    [<span class="number">7</span>:<span class="number">0</span>]    out;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) </span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (!rst)       out=<span class="number">8&#x27;h00</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(load)   out=data;</span><br><span class="line">            <span class="keyword">else</span>            out=out+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//always语句实现同步置数，同步清零计数器</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> counter2 (rst,clk,out);</span><br><span class="line">    <span class="keyword">input</span>           clk,rst;</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>]    out;</span><br><span class="line">    <span class="keyword">reg</span>    [<span class="number">7</span>:<span class="number">0</span>]    out;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst) </span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!rst)    out=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span>        out=out+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//always语句实现异步清零计数器</span></span><br></pre></td></tr></table></figure>
<h3 id="语句块">语句块</h3>
<p>在过程语句中，如果语句数<strong>超过一条</strong>时，就要采用语句块。用begin-end和fork-join将一组行为打包起来。</p>
<h4 id="串行语句块和并行语句块">串行语句块和并行语句块</h4>
<p>串行语句块的关键字是”begin”和”end”,其中的语句按照串行方式顺序执行,既可以用于可综合电路,也可以用于仿真测试程序.</p>
<p>串行语句块的特点是:</p>
<ol type="1">
<li>串行语句块中的每条指令语句依据块中的排列顺序依次逐条执行.每条语句的延迟时间都是相对于前一条语句执行结束的时间.</li>
<li>串行语句块的起始时间就是第一条语句开始执行的时间,结束时间就是最后一条语句执行结束的时间.</li>
</ol>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> wave_tb1;</span><br><span class="line">    <span class="keyword">reg</span> wave;</span><br><span class="line">    <span class="keyword">parameter</span> T=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">        wave=<span class="number">0</span>;</span><br><span class="line">        #T wave=<span class="number">1</span>;</span><br><span class="line">        #T wave=<span class="number">0</span>;</span><br><span class="line">        #T wave=<span class="number">1</span>;</span><br><span class="line">        #T wave=<span class="number">0</span>;</span><br><span class="line">        #T wave=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//用begin和end串行语句块生成一个波形</span></span><br></pre></td></tr></table></figure>
<p>并行语句块的关键字是”fork”和”join”,其中的语句并行执行,只能用于仿真测试程序,不能用于可综合电路程序.</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> wave_tb2;</span><br><span class="line">    <span class="keyword">reg</span> wave;</span><br><span class="line">    <span class="keyword">parameter</span> T=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">initial</span> <span class="keyword">fork</span></span><br><span class="line">        wave=<span class="number">0</span>;</span><br><span class="line">        #T wave=<span class="number">1</span>;</span><br><span class="line">        <span class="variable">#(2*T)</span> wave=<span class="number">0</span>;</span><br><span class="line">        <span class="variable">#(3*T)</span> wave=<span class="number">1</span>;</span><br><span class="line">        <span class="variable">#(4*T)</span> wave=<span class="number">0</span>;</span><br><span class="line">        <span class="variable">#(5*T)</span> wave=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">join</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//用fork和join并行语句块生成一个波形，这个波形和上面是一样的</span></span><br></pre></td></tr></table></figure>
<h3 id="过程赋值语句">过程赋值语句</h3>
<p>过程块中的赋值语句就是过程赋值语句，过程性赋值是指在initial和always语句内的赋值，即只能对reg类型的变量赋值。</p>
<p>对于多个位宽的reg类型变量，还可以对其中的一位或者几位进行赋值。对于存储器类型的，则只能通过选定的地址单元，对某个字进行赋值。还可以将前面各类变量拼接起来进行赋值。</p>
<h4 id="阻塞和非阻塞赋值语句">阻塞和非阻塞赋值语句</h4>
<p>过程赋值语句包括阻塞和非阻塞赋值语句两种</p>
<h5 id="阻塞赋值语句">阻塞赋值语句</h5>
<p>阻塞赋值语句用”=“进行赋值，有如下特点：</p>
<ol type="1">
<li>一个语句块中有多条阻塞赋值语句时，如果前面的赋值语句没有完成，则后面的语句就不能执行；</li>
<li>在串行语句块(begin-end)中，各条阻塞语句将按照排列顺序依次执行；在并行语句块(fork-join)中，各条阻塞语句同时执行；</li>
<li>对于一条阻塞赋值语句，先计算等号右边的值，然后立即赋给左边的变量。</li>
</ol>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> block1 (din,clk,out1,out2);</span><br><span class="line">    <span class="keyword">input</span>   din,clk;</span><br><span class="line">    <span class="keyword">output</span>  out1,out2;</span><br><span class="line">    <span class="keyword">reg</span>     out1,out2;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        out1=din;</span><br><span class="line">        out2=out1;</span><br><span class="line">    <span class="keyword">end</span>  </span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//阻塞赋值语句，din的值先传给out1，然后out1的值再传给out2</span></span><br></pre></td></tr></table></figure>
<h5 id="非阻塞赋值语句">非阻塞赋值语句</h5>
<p>非阻塞赋值语句用”&lt;=“进行赋值，有如下特点：</p>
<ol type="1">
<li>一个语句块中有多条非阻塞赋值语句时，后面语句的执行不会受到前面语句的限制；</li>
<li>在串行语句块(begin-end)中，各条非阻塞语句的执行没有先后之分，各条语句并行执行；</li>
<li>对于一条非阻塞赋值语句，先计算等号右边的值，然后等待延迟时间结束，再赋给左边的变量。</li>
</ol>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> non_block1 (din,clk,out1,out2);</span><br><span class="line">    <span class="keyword">input</span>   din,clk;</span><br><span class="line">    <span class="keyword">output</span>  out1,out2;</span><br><span class="line">    <span class="keyword">reg</span>  out1,out2;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        out1&lt;=din;</span><br><span class="line">        out2&lt;=out1;</span><br><span class="line">    <span class="keyword">end</span>  </span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//非阻塞赋值语句，在同一时刻，din的值传给out1，out1的值传给out2</span></span><br></pre></td></tr></table></figure>
<h3 id="过程连续赋值语句">过程连续赋值语句</h3>
<p>前面已经讲过，连续赋值(assign,显式和隐式)只能对wire型变量赋值，而过程语句(initial,always,阻塞和非阻塞)只能对reg型变量赋值。而过程连续赋值语句则可以在initial和always语句块中对wire和reg类型变量进行赋值。</p>
<p>过程连续赋值语句也有两种：</p>
<ol type="1">
<li>赋值语句和重新赋值语句(assign,deassign);</li>
<li>强制，释放语句(force,release)</li>
</ol>
<p>注意过程连续赋值语句不能对reg型变量进行位操作。</p>
<h4 id="赋值语句和重新赋值语句">赋值语句和重新赋值语句</h4>
<p>格式为</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assign</span>&lt;<span class="keyword">reg</span>型变量&gt;=&lt;赋值表达式&gt;；</span><br><span class="line"></span><br><span class="line"><span class="keyword">deassign</span>&lt;<span class="keyword">reg</span>型变量&gt;</span><br></pre></td></tr></table></figure>
<p>赋值语句assign此时对reg型变量赋值，此后该reg型变量一直保持被赋的值，直到遇到deassgin。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> assign_dff(d,clr,clk,q);</span><br><span class="line"><span class="keyword">input</span>  d,clr,clk;</span><br><span class="line"><span class="keyword">output</span> q;</span><br><span class="line"><span class="keyword">reg</span> q;</span><br><span class="line"><span class="keyword">always</span> @(clr) <span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">if</span>(!clr) <span class="keyword">assign</span> q=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span>     <span class="keyword">deassign</span> q;</span><br><span class="line"><span class="keyword">end</span>  </span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">negedge</span> clk) q=d;</span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">/*当clr=0时，reg型变量q通过赋值语句被赋值为0，这时无论clk怎么变化，q始终等于0；</span></span><br><span class="line"><span class="comment">当clr=1时，q的强制赋值为0被解除，所以可以随着clk的变化将d赋给q*/</span></span><br></pre></td></tr></table></figure>
<h4 id="强制和释放语句">强制和释放语句</h4>
<p>格式为</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">force</span>&lt;<span class="keyword">wire</span>型或<span class="keyword">reg</span>型变量&gt;=&lt;赋值表达式&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">release</span>&lt;<span class="keyword">wire</span>型或<span class="keyword">reg</span>型变量&gt;</span><br></pre></td></tr></table></figure>
<p>注意：</p>
<ul>
<li>force的优先级高于assign；</li>
<li>当force对reg型变量进行赋值时，reg型变量的当前值被force赋给它的值覆盖，且不再改变，直到遇到release。</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> force_release (a,b,out);</span><br><span class="line"><span class="keyword">input</span>  a,b;</span><br><span class="line"><span class="keyword">output</span> out;</span><br><span class="line"><span class="keyword">wire</span> out;</span><br><span class="line"><span class="keyword">and</span>(out,a,b);</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">force</span> out=a|b;</span><br><span class="line">    #<span class="number">5</span>;</span><br><span class="line">    <span class="keyword">release</span> out;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//注意，在测试的0时刻，and和initial同时生效，但是force语句强制使out=a|b,5个时间单位之后，out被释放，此时and起作用，out=a&amp;b。</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> release_tb;</span><br><span class="line"><span class="keyword">reg</span> a,b;</span><br><span class="line"><span class="keyword">wire</span> out;</span><br><span class="line">force_release U1(a,b,out);</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    a=<span class="number">1</span>;</span><br><span class="line">    b=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h3 id="条件分支语句">条件分支语句</h3>
<p>条件分支语句包括if，case语句</p>
<h4 id="if">if</h4>
<p>if语句的格式如下</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">格式<span class="number">1</span>：</span><br><span class="line"><span class="keyword">if</span>(条件表达式) 语句块;</span><br><span class="line"></span><br><span class="line">格式<span class="number">2</span>:</span><br><span class="line"><span class="keyword">if</span>(条件表达式) 语句块<span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span>          语句块<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">格式<span class="number">3</span>：</span><br><span class="line"><span class="keyword">if</span>      (条件表达式<span class="number">1</span>)  语句块<span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (条件表达式<span class="number">2</span>)  语句块<span class="number">2</span>;</span><br><span class="line">    ...;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (条件表达式n)  语句块n;</span><br><span class="line"><span class="keyword">else</span>                  语句块n+<span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>只有当if后面的条件表达式为1时才执行后面的语句块。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> mux2_1 (a,b,sel,out);</span><br><span class="line">    <span class="keyword">input</span>   a,b,sel;</span><br><span class="line">    <span class="keyword">output</span>  out;</span><br><span class="line">    <span class="keyword">reg</span>     out;</span><br><span class="line">    <span class="keyword">always</span> @(a,b,sel) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(sel) out=a;</span><br><span class="line">        <span class="keyword">else</span>    out=b;</span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//这是二选一数据选择器，当sel=1时，输出a；当sel=0时，输出b</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> compare_a_b (a,b,out);</span><br><span class="line">    <span class="keyword">input</span>           a,b;</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">1</span>:<span class="number">0</span>]    out;</span><br><span class="line">    <span class="keyword">reg</span>    [<span class="number">1</span>:<span class="number">0</span>]    out;</span><br><span class="line">    <span class="keyword">always</span> @(a,b) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(a&gt;b)       out=<span class="number">2&#x27;b01</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a==b) out=<span class="number">2&#x27;b10</span>;</span><br><span class="line">        <span class="keyword">else</span>          out=<span class="number">2&#x27;b11</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//这是数字比较器</span></span><br></pre></td></tr></table></figure>
<h4 id="case">case</h4>
<p>case语句的格式如下</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span>(控制表达式)</span><br><span class="line">      值<span class="number">1</span>:     语句块<span class="number">1</span>;</span><br><span class="line">      值<span class="number">2</span>:     语句块<span class="number">2</span>;</span><br><span class="line">      ...;</span><br><span class="line">      值n:     语句块n;</span><br><span class="line">      <span class="keyword">default</span>: 语句块n+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">endcase</span></span><br></pre></td></tr></table></figure>
<p>原理：当case后面括号里的控制表达式的值和值i(i=1<sub>n)相等时，就执行对应语句块i。如果控制表达式的值和值i(i=1</sub>n)都不相等时，就执行default里面的语句块n+1.</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> BCD_decoder(in,out);</span><br><span class="line">    <span class="keyword">input</span>  [<span class="number">3</span>:<span class="number">0</span>]    in;</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">6</span>:<span class="number">0</span>]    out;</span><br><span class="line">    <span class="keyword">reg</span>    [<span class="number">6</span>:<span class="number">0</span>]    out;</span><br><span class="line">    <span class="keyword">always</span> @(in) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">case</span>(in)</span><br><span class="line">        <span class="number">4&#x27;b0000</span>:out=<span class="number">7&#x27;b1111110</span>;</span><br><span class="line">        <span class="number">4&#x27;b0001</span>:out=<span class="number">7&#x27;b0110000</span>;</span><br><span class="line">        <span class="number">4&#x27;b0010</span>:out=<span class="number">7&#x27;b1101101</span>;</span><br><span class="line">        <span class="number">4&#x27;b0011</span>:out=<span class="number">7&#x27;b1111001</span>;</span><br><span class="line">        <span class="number">4&#x27;b0100</span>:out=<span class="number">7&#x27;b0110011</span>;</span><br><span class="line">        <span class="number">4&#x27;b0101</span>:out=<span class="number">7&#x27;b1011011</span>;</span><br><span class="line">        <span class="number">4&#x27;b0110</span>:out=<span class="number">7&#x27;b1011111</span>;</span><br><span class="line">        <span class="number">4&#x27;b0111</span>:out=<span class="number">7&#x27;b1110000</span>;</span><br><span class="line">        <span class="number">4&#x27;b1000</span>:out=<span class="number">7&#x27;b1111111</span>;</span><br><span class="line">        <span class="number">4&#x27;b1001</span>:out=<span class="number">7&#x27;b1111011</span>;   </span><br><span class="line">        <span class="keyword">endcase</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//这是一个BCD数码管译码，见教材P51</span></span><br></pre></td></tr></table></figure>
<h3 id="循环语句">循环语句</h3>
<p>循环语句包括forever，repeat，while，for语句</p>
<h4 id="forever">forever</h4>
<p>forever的格式为：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">forever</span> 语句块</span><br></pre></td></tr></table></figure>
<p>forever不能单独出现在程序中，必须放在initial语句块里面，这样forever就可以从0时刻开始无限循环执行其后面的语句块下去，除非遇到$finish。
如果需要从finish中退出，则需要使用disable语句。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> forever_tb;</span><br><span class="line">    <span class="keyword">reg</span> clock;</span><br><span class="line">    <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">        clock=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">forever</span> #<span class="number">50</span> clock=~clock;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//利用forever生成时钟信号，每50个时间单位翻转一次，即100个时间单位为一个周期</span></span><br></pre></td></tr></table></figure>
<h4 id="repeat">repeat</h4>
<p>repeat的格式为</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">repeat</span>&lt;循环次数表达式&gt;</span><br><span class="line">  语句块</span><br></pre></td></tr></table></figure>
<p>循环次数表达式可以是一个常数，一个变量，或者是一个信号。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> repeat_tb;</span><br><span class="line">    <span class="keyword">reg</span> clock;</span><br><span class="line">    <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">        clock=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">repeat</span>(<span class="number">8</span>) </span><br><span class="line">          #<span class="number">25</span> clock=~clock;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//利用repeat生成时钟信号</span></span><br></pre></td></tr></table></figure>
<h4 id="while">while</h4>
<p>while的格式为：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(条件表达式) 语句块</span><br></pre></td></tr></table></figure>
<p>在每一次执行while循环体之前，都需要先判断条件表达式是否等于1，如果是1，就执行后面的语句块；如果不是1，就不执行。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> while_tb;</span><br><span class="line">    <span class="keyword">reg</span> clock;</span><br><span class="line">    <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">        clock=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        #<span class="number">50</span> clock=~clock;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//利用while生成时钟信号</span></span><br></pre></td></tr></table></figure>
<h4 id="for">for</h4>
<p>for的格式为：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(循环变量初值:循环条件:循环变量增值) 语句块;</span><br></pre></td></tr></table></figure>
<p>先给循环变量赋初值，然后判断循环条件是否为1，若为1则执行语句块，随后变量自增，继续判断循环条件是否为1，直至当循环条件为0。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> for_clk;</span><br><span class="line">    <span class="keyword">reg</span> clk;</span><br><span class="line">    <span class="keyword">integer</span> i;</span><br><span class="line">    <span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">        clk=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (i=<span class="number">0</span>;i&gt;=<span class="number">0</span>;i=i+<span class="number">1</span>)</span><br><span class="line">        #<span class="number">50</span> clk=~clk;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//利用for生成时钟信号，注意这里循环条件一直是1</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> shift_register1 (Q,D,rst,clk);</span><br><span class="line">    <span class="keyword">input</span>  D,rst,clk;</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>]Q;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>]Q;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span> (!rst) Q&lt;=<span class="number">8&#x27;b000000</span>;</span><br><span class="line">        <span class="keyword">else</span>      Q&lt;=&#123;Q[<span class="number">6</span>:<span class="number">0</span>],D&#125;;<span class="comment">//把后七位向前移动一位，空出来的一位留给D</span></span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//用if语句实现8位移位寄存器</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> shift_register2 (Q,D,rst,clk);</span><br><span class="line">    <span class="keyword">input</span>  D,rst,clk;</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>]Q;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>]Q;</span><br><span class="line">    <span class="keyword">integer</span> i;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span> (!rst) Q&lt;=<span class="number">8&#x27;b000000</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">for</span>(i=<span class="number">7</span>;i&gt;<span class="number">0</span>;i=i-<span class="number">1</span>) Q[i]&lt;=Q[i-<span class="number">1</span>];<span class="comment">//把后七位向前移动一位，最后一位留给D</span></span><br><span class="line">            Q[<span class="number">0</span>]&lt;=D;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//用for循环实现8位移位寄存器</span></span><br></pre></td></tr></table></figure>
<h2 id="结构化建模">结构化建模</h2>
<p>结构化建模包括</p>
<ol type="1">
<li>模块级建模：调用用户之前设计的module；</li>
<li>门级建模：调用Verilog HDL内部的基本门级原件；</li>
<li>开关级建模：调用Verilog HDL内部的基本开关级原件。</li>
</ol>
<h3 id="模块级建模">模块级建模</h3>
<h4 id="模块调用">模块调用</h4>
<p>模块调用的基本方式：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">模块名&lt;参数值列表&gt; 实例名(端口名列表)</span><br></pre></td></tr></table></figure>
<p>其中”模块名”是用户已经写好的module的名字；“参数值列表”基本没用过，不多讲；
“实例名”是module被调用到当前程序的标志，一般命名为U1,U2,…等；
“端口名列表”是被调用模块的端口对应，后面会细说.</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> and_2 (a,b,c);</span><br><span class="line">    <span class="keyword">input</span>  a,b;</span><br><span class="line">    <span class="keyword">output</span> c;</span><br><span class="line">    <span class="keyword">assign</span> c=a&amp;b;  </span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//这里先定义一个二输入与门的模块</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> <span class="keyword">logic</span> (in1,in2,q);</span><br><span class="line">    <span class="keyword">input</span>  in1,in2;</span><br><span class="line">    <span class="keyword">output</span> q;</span><br><span class="line">    and_2 U1(in1,in2,q);<span class="comment">//这是模块实例语句，U1是实例名，调用了上面写的二输入与门，其中in1，in2分别对应输入a，b；q对应输出c</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//简单模块调用</span></span><br></pre></td></tr></table></figure>
<h4 id="阵列调用">阵列调用</h4>
<p>阵列调用格式如下</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">模块名 实例名[阵列左边界,阵列右边界](端口名列表)</span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> AND (andout,ina,inb);</span><br><span class="line">    <span class="keyword">input</span>  ina,inb;</span><br><span class="line">    <span class="keyword">output</span> andout;</span><br><span class="line">    <span class="keyword">assign</span> andout=ina&amp;inb;  </span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//这是一个二输入与门的模块</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> ex_arrey (a,b,out);</span><br><span class="line">    <span class="keyword">input</span>  [<span class="number">15</span>:<span class="number">0</span>]a,b;</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">15</span>:<span class="number">0</span>]out;</span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">15</span>:<span class="number">0</span>]out;  </span><br><span class="line">    AND AND_ARREY[<span class="number">15</span>:<span class="number">0</span>](out,a,b);<span class="comment">//该语句对模块AND进行阵列调用，[15:0]表明调用了16次</span></span><br><span class="line">    <span class="comment">/*这个代码相当于</span></span><br><span class="line"><span class="comment">    AND AND_ARREY15(out[15],a[15],b[15]);</span></span><br><span class="line"><span class="comment">    AND AND_ARREY14(out[14],a[14],b[14]);</span></span><br><span class="line"><span class="comment">    ...</span></span><br><span class="line"><span class="comment">    AND AND_ARREY1(out[1],a[1],b[1]);</span></span><br><span class="line"><span class="comment">    AND AND_ARREY0(out[0],a[0],b[0]);</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//阵列调用</span></span><br></pre></td></tr></table></figure>
<h4 id="模块端口对应方式">模块端口对应方式</h4>
<p><strong>端口位置对应方式</strong>的格式为：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">模块名 实例名(&lt;信号名<span class="number">1</span>&gt;,&lt;信号名<span class="number">2</span>&gt;,...,&lt;信号名n&gt;)</span><br></pre></td></tr></table></figure>
<p>注意这种对应方式需要把括号里面信号的顺序和用户定义的module的端口顺序依次对应。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> halfadder (a,b,s,c);</span><br><span class="line">    <span class="keyword">input</span> a,b;</span><br><span class="line">    <span class="keyword">output</span> s,c;</span><br><span class="line">    <span class="keyword">assign</span> s=a^b;<span class="comment">//异或，s是本位 </span></span><br><span class="line">    <span class="keyword">assign</span> c=a&amp;b;<span class="comment">//c是进位</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//半加器模块</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> fulladder (p,q,ci,co,sum);</span><br><span class="line">    <span class="keyword">input</span> p,q,ci;</span><br><span class="line">    <span class="keyword">output</span> co,sum;</span><br><span class="line">    <span class="keyword">wire</span> w1,w2,w3;</span><br><span class="line">    halfadder U1(p,q,w1,w2);</span><br><span class="line">    halfadder U2(ci,w1,sum,w3);</span><br><span class="line">    <span class="keyword">or</span> U3(co,w2,w3); </span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//全加器模块，见教材P58</span></span><br></pre></td></tr></table></figure>
<p><strong>端口名对应</strong>方式的格式为：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">模块名 实例名(.端口名<span class="number">1</span>&lt;信号名<span class="number">1</span>&gt;,.端口名<span class="number">2</span>&lt;信号名<span class="number">2</span>&gt;,.端口名<span class="number">3</span>&lt;信号名<span class="number">3</span>&gt;,.端口名<span class="number">4</span>&lt;信号名<span class="number">4</span>&gt;)</span><br></pre></td></tr></table></figure>
<p>这种方式将端口的对应方式直观地呈现出来，排列顺序可以随意</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> Dff(d,clk,clr,q);</span><br><span class="line">    <span class="keyword">input</span> d,clk,clr;</span><br><span class="line">    <span class="keyword">output</span> q;</span><br><span class="line">    <span class="keyword">reg</span> q;</span><br><span class="line">    <span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> clr) <span class="keyword">begin</span><span class="comment">//敏感条件：clk上升沿，clr下降沿</span></span><br><span class="line">        <span class="keyword">if</span> (!clr) q=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span>      q=d;</span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//D触发器</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> shifter_D (din,clock,clear,out);</span><br><span class="line">    <span class="keyword">input</span>  din,clock,clear;</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">3</span>:<span class="number">0</span>]out;</span><br><span class="line">    Dff U1(<span class="variable">.q</span>(out[<span class="number">0</span>]),<span class="variable">.d</span>(din),<span class="variable">.clk</span>(clock),<span class="variable">.clr</span>(clear));</span><br><span class="line">    Dff U2(<span class="variable">.q</span>(out[<span class="number">1</span>]),<span class="variable">.d</span>(out[<span class="number">0</span>]),<span class="variable">.clk</span>(clock),<span class="variable">.clr</span>(clear));</span><br><span class="line">    Dff U3(<span class="variable">.q</span>(out[<span class="number">2</span>]),<span class="variable">.d</span>(out[<span class="number">1</span>]),<span class="variable">.clk</span>(clock),<span class="variable">.clr</span>(clear));</span><br><span class="line">    Dff U4(<span class="variable">.q</span>(out[<span class="number">3</span>]),<span class="variable">.d</span>(out[<span class="number">2</span>]),<span class="variable">.clk</span>(clock),<span class="variable">.clr</span>(clear));</span><br><span class="line">    <span class="comment">/*当clock上升沿到来时，U1~U4执行，把din的值赋给out[0]，把out[0]的值赋给out[1]，把out[1]的值赋给out[2],把out[2]的值赋给out[3],这几条同时执行;</span></span><br><span class="line"><span class="comment">    当clear下降沿到来时，out[0]~out[3]全部清零*/</span></span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//利用D触发器构成四位移位寄存器</span></span><br></pre></td></tr></table></figure>
<h3 id="门级建模">门级建模</h3>
<p>*<strong>多输入门</strong>调用格式：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元件名&lt;实例名&gt;(&lt;输出端口&gt;,&lt;输入端口<span class="number">1</span>&gt;,&lt;输入端口<span class="number">2</span>&gt;,...,&lt;输入端口n&gt;);</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">and</span> A1(out1,in1,in2,in3);</span><br><span class="line"><span class="keyword">or</span> O2(a,b,c,d);</span><br><span class="line"><span class="keyword">xor</span> X1(x_out,p1,p2);</span><br></pre></td></tr></table></figure>
<p>*<strong>多输出门</strong>调用格式：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元件名&lt;实例名&gt;(&lt;输出端口<span class="number">1</span>&gt;,&lt;输出端口<span class="number">2</span>&gt;,...,&lt;输出端口n&gt;,&lt;输入端口&gt;);</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">not</span> NOT_1(out1,out2,in);</span><br><span class="line"><span class="keyword">buf</span> BUF_1(bufout1,bufout2,bufout3,bufin);</span><br></pre></td></tr></table></figure>
<h3 id="开关级建模">开关级建模</h3>
<p>MOS开关调用格式:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">nmos</span>/<span class="keyword">pmos</span> 实例名(out,data,control);</span><br><span class="line"><span class="keyword">cmos</span> 实例名(out,data,ncontrol,pcontrol);<span class="comment">//这里的control信号控制data信号传送到out端</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> NMOS (din,out,ctr);</span><br><span class="line">    <span class="keyword">input</span>  din,ctr;</span><br><span class="line">    <span class="keyword">output</span> out;</span><br><span class="line">    <span class="keyword">nmos</span> U1(out,din,ctr);</span><br><span class="line"><span class="keyword">endmodule</span><span class="comment">//这是最基本的nmos开关，当ctr为高电平时，输入din传到out；当ctr为低电平时，输入输出断开</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/04/Verilog%E7%AC%AC%E4%BA%94%E7%AB%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/04/Verilog%E7%AC%AC%E4%BA%94%E7%AB%A0/" class="post-title-link" itemprop="url">第五章:仿真验证和Testbench编写</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-05-04 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-04T00:00:00+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-30 21:00:34" itemprop="dateModified" datetime="2025-06-30T21:00:34+08:00">2025-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/" itemprop="url" rel="index"><span itemprop="name">EE</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/%E6%95%B0%E5%AD%97%E8%AE%BE%E8%AE%A1/" itemprop="url" rel="index"><span itemprop="name">数字设计</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/EE/%E6%95%B0%E5%AD%97%E8%AE%BE%E8%AE%A1/Verilog/" itemprop="url" rel="index"><span itemprop="name">Verilog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="verilog-hdl电路仿真和验证概述">Verilog
HDL电路仿真和验证概述</h2>
<p>仿真,也称模拟,是通过EDA仿真工具,对所设计的电路或系统输入测试信号,然后根据输出信号(如波形,文本或者VCD文件)与期望值进行比较,来确认是否得到与所期望一致的设计结果,从而验证设计的正确性.</p>
<p>在设计过程中,仿真是在综合之前完成的,这就是通常所说的行为级仿真,RTL仿真或者前仿真.在RTL设计阶段只包含了时钟和时序,并未包含门延时和线延时.因此RTL仿真对于时钟来说是正确的,并且不用考虑竞争冒险,毛刺,建立和保持时间以及其他一些详细的问题.</p>
<p>验证则是一系列测试平台的集合,是一个证明设计思路如何实现及保证设计在功能上正确的过程.验证在Verilog
HDL设计中分为4个阶段:</p>
<ol type="1">
<li>功能验证</li>
<li>综合后验证</li>
<li>时序验证</li>
<li>板级验证</li>
</ol>
<p>前三个验证是在PC平台上依靠EDA工具来完成的,最后一个阶段则需要在真正的硬件平台(如FPGA,CPLD等)上进行,需要借助一些调试工具和专业的分析仪来测试.</p>
<p>常用的功能验证有黑盒法,白盒法,灰盒法.</p>
<h2 id="verilog-hdl测试程序设计基础">Verilog HDL测试程序设计基础</h2>
<p>在Verilog
HDL中,常采用测试平台(Testbench)方式进行仿真和验证.仿真时,Testbench用来产生测试激励给待验证设计(Design
Under Verification,DUV),或者称为待测试设计(Design Under
Test,DUT),同时检查DUV/DUT的输出是否与期望一致,从而达到验证设计功能的目的.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/04/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/femboy.jpg">
      <meta itemprop="name" content="SiyuanLei">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | SiyuanLei's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/05/04/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-05-04 00:00:00" itemprop="dateCreated datePublished" datetime="2025-05-04T00:00:00+08:00">2025-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-05-09 14:40:47" itemprop="dateModified" datetime="2025-05-09T14:40:47+08:00">2025-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/math/" itemprop="url" rel="index"><span itemprop="name">math</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very
first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for
more info. If you get any problems when using Hexo, you can find the
answer in <a
target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or
you can ask me on <a
target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="quick-start">Quick Start</h2>
<h3 id="create-a-new-post">Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a
target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="run-server">Run server</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="generate-static-files">Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a
target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="deploy-to-remote-sites">Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a
target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">SiyuanLei</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
